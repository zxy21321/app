"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2909],{90384:function(e,n,t){t.d(n,{Z:function(){return r}});var n=t(97857),l=t.n(n),s=(t(67294),t(85893));function r(e){return(0,s.jsx)("svg",l()(l()({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},e),{},{children:(0,s.jsx)("path",{fill:"currentColor",d:"M12 18.5q.625 0 1.063-.437T13.5 17h-3q0 .625.438 1.063T12 18.5M7 16h10v-2h-1v-2.6q0-1.525-.788-2.787T13 7v-.5q0-.425-.288-.712T12 5.5q-.425 0-.712.288T11 6.5V7q-1.425.35-2.212 1.613T8 11.4V14H7zm5 6q-2.075 0-3.9-.788t-3.175-2.137q-1.35-1.35-2.137-3.175T2 12q0-2.075.788-3.9t2.137-3.175q1.35-1.35 3.175-2.137T12 2q2.075 0 3.9.788t3.175 2.137q1.35 1.35 2.138 3.175T22 12q0 2.075-.788 3.9t-2.137 3.175q-1.35 1.35-3.175 2.138T12 22"})}))}},72954:function(e,n,t){t.d(n,{R:function(){return r}});var n=t(97857),l=t.n(n),s=t(85893);function r(e){return(0,s.jsx)("svg",l()(l()({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},e),{},{children:(0,s.jsx)("path",{fill:"currentColor",d:"M12.005 22.003c-5.523 0-10-4.477-10-10s4.477-10 10-10s10 4.477 10 10s-4.477 10-10 10m-3.5-8v2h2.5v2h2v-2h1a2.5 2.5 0 1 0 0-5h-4a.5.5 0 1 1 0-1h5.5v-2h-2.5v-2h-2v2h-1a2.5 2.5 0 1 0 0 5h4a.5.5 0 0 1 0 1z"})}))}},85415:function(e,n,t){t.d(n,{v:function(){return r}});var n=t(97857),l=t.n(n),s=(t(67294),t(85893));function r(e){return(0,s.jsx)("svg",l()(l()({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},e),{},{children:(0,s.jsx)("path",{fill:"currentColor",d:"m15.5 19.9l-.725.225q-.325.1-.638-.025t-.487-.4l-.2-.35q-.175-.3-.125-.65t.325-.575l.55-.475q-.05-.325-.05-.65t.05-.65l-.55-.475q-.275-.225-.325-.562t.125-.638l.225-.375q.175-.275.475-.4t.625-.025l.725.225q.275-.2.538-.337t.562-.263l.15-.725q.075-.35.338-.562T17.7 12h.4q.35 0 .612.225t.338.575l.15.7q.3.125.562.262t.538.338l.725-.225q.325-.1.625.025t.475.4l.225.35q.175.3.125.65t-.325.575l-.55.475q.05.325.05.65t-.05.65l.55.475q.275.225.325.563t-.125.637l-.225.375q-.175.275-.475.4t-.625.025L20.3 19.9q-.275.2-.537.337t-.563.263l-.15.725q-.075.35-.337.563T18.1 22h-.4q-.35 0-.612-.225t-.338-.575l-.15-.7q-.3-.125-.562-.262T15.5 19.9m2.4-.9q.825 0 1.413-.587T19.9 17q0-.825-.587-1.412T17.9 15q-.825 0-1.412.588T15.9 17q0 .825.588 1.413T17.9 19M4 20q-.825 0-1.412-.587T2 18V6q0-.825.588-1.412T4 4h16q.825 0 1.413.588T22 6v5.325q-.45-.325-.95-.575T20 10.325V8H4v4h9q-.975.95-1.537 2.238T10.9 17q0 .8.175 1.563t.5 1.437z"})}))}},63129:function(e,n,t){t.d(n,{n:function(){return r}});var n=t(97857),l=t.n(n),s=(t(67294),t(85893));function r(e){return(0,s.jsx)("svg",l()(l()({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},e),{},{children:(0,s.jsx)("path",{fill:"currentColor",d:"M12 23q-2.8 0-5.15-1.275T3 18.325V21H1v-6h6v2H4.525q1.2 1.8 3.163 2.9T12 21q1.875 0 3.513-.712t2.85-1.925q1.212-1.213 1.925-2.85T21 12h2q0 2.275-.862 4.275t-2.363 3.5q-1.5 1.5-3.5 2.363T12 23m-.9-4v-1.3q-1.175-.275-1.912-1.012T8.1 14.75l1.65-.65q.3 1.025.938 1.538t1.462.512q.825 0 1.413-.387t.587-1.213q0-.725-.612-1.175T11.35 12.35q-1.475-.525-2.162-1.25T8.5 9.2q0-1.025.713-1.862T11.15 6.25V5h1.75v1.25q.9.075 1.638.725T15.55 8.5l-1.6.65q-.2-.575-.65-.962T12.05 7.8q-.875 0-1.338.375T10.25 9.2q0 .65.575 1.025t2.075.875q1.8.65 2.4 1.525t.6 1.925q0 .725-.25 1.275t-.663.938q-.412.387-.962.624t-1.175.363V19zM1 12q0-2.275.863-4.275t2.362-3.5q1.5-1.5 3.5-2.362T12 1q2.8 0 5.15 1.275t3.85 3.4V3h2v6h-6V7h2.475q-1.2-1.8-3.162-2.9T12 3q-1.875 0-3.512.713t-2.85 1.924Q4.425 6.85 3.713 8.488T3 12z"})}))}},60561:function(e,n,t){t.d(n,{z:function(){return r}});var n=t(97857),l=t.n(n),s=(t(67294),t(85893));function r(e){return(0,s.jsx)("svg",l()(l()({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},e),{},{children:(0,s.jsx)("path",{fill:"currentColor",d:"M2 19v-2h20v2zm1.15-6.05l-1.3-.75l.85-1.5H1V9.2h1.7l-.85-1.45L3.15 7L4 8.45L4.85 7l1.3.75L5.3 9.2H7v1.5H5.3l.85 1.5l-1.3.75l-.85-1.5zm8 0l-1.3-.75l.85-1.5H9V9.2h1.7l-.85-1.45l1.3-.75l.85 1.45l.85-1.45l1.3.75l-.85 1.45H15v1.5h-1.7l.85 1.5l-1.3.75l-.85-1.5zm8 0l-1.3-.75l.85-1.5H17V9.2h1.7l-.85-1.45l1.3-.75l.85 1.45l.85-1.45l1.3.75l-.85 1.45H23v1.5h-1.7l.85 1.5l-1.3.75l-.85-1.5z"})}))}},50242:function(e,n,t){t.d(n,{U:function(){return r}});var n=t(97857),l=t.n(n),s=(t(67294),t(85893));function r(e){return(0,s.jsx)("svg",l()(l()({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},e),{},{children:(0,s.jsx)("path",{fill:"currentColor",d:"M14 13q-1.25 0-2.125-.875T11 10q0-1.25.875-2.125T14 7q1.25 0 2.125.875T17 10q0 1.25-.875 2.125T14 13m-7 3q-.825 0-1.412-.587T5 14V6q0-.825.588-1.412T7 4h14q.825 0 1.413.588T23 6v8q0 .825-.587 1.413T21 16zm2-2h10q0-.825.588-1.412T21 12V8q-.825 0-1.412-.587T19 6H9q0 .825-.587 1.413T7 8v4q.825 0 1.413.588T9 14m11 6H3q-.825 0-1.412-.587T1 18V7h2v11h17zM7 14V6z"})}))}},28298:function(e,n,t){t.d(n,{h:function(){return r}});var n=t(97857),l=t.n(n),s=(t(67294),t(85893));function r(e){return(0,s.jsx)("svg",l()(l()({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},e),{},{children:(0,s.jsx)("path",{fill:"currentColor",d:"M5 14v-2h2v2zm-2-2v-2h2v2zm9-7V3h2v2zM4.5 7.5h3v-3h-3zM3 9V3h6v6zm1.5 10.5h3v-3h-3zM3 21v-6h6v6zM16.5 7.5h3v-3h-3zM15 9V3h6v6zm-6 5v-2H7v-2h4v4zm1-5V5h2v2h2v2zM5.25 6.75v-1.5h1.5v1.5zm0 12v-1.5h1.5v1.5zm12-12v-1.5h1.5v1.5zM16 21v-3h-3v-2h3v-3h2v3h3v2h-3v3z"})}))}},44337:function(e,n,t){t.d(n,{L:function(){return r}});var n=t(97857),l=t.n(n),s=(t(67294),t(85893));function r(e){return(0,s.jsx)("svg",l()(l()({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},e),{},{children:(0,s.jsx)("path",{fill:"currentColor",d:"M4 21v-5q0-.825.588-1.412T6 14h12q.825 0 1.413.588T20 16v5zm5-8q-2.075 0-3.537-1.463T4 8q0-2.075 1.463-3.537T9 3h6q2.075 0 3.538 1.463T20 8q0 2.075-1.463 3.538T15 13zm0-4q.425 0 .713-.288T10 8q0-.425-.288-.712T9 7q-.425 0-.712.288T8 8q0 .425.288.713T9 9m6 0q.425 0 .713-.288T16 8q0-.425-.288-.712T15 7q-.425 0-.712.288T14 8q0 .425.288.713T15 9"})}))}},65637:function(e,n,t){t.d(n,{g:function(){return r}});var n=t(97857),l=t.n(n),s=(t(67294),t(85893));function r(e){return(0,s.jsx)("svg",l()(l()({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},e),{},{children:(0,s.jsx)("path",{fill:"currentColor",d:"m10.95 12.7l-1.4-1.4q-.3-.3-.7-.3t-.7.3q-.3.3-.3.713t.3.712l2.1 2.125q.3.3.7.3t.7-.3l4.25-4.25q.3-.3.3-.712t-.3-.713q-.3-.3-.712-.3t-.713.3zM12 21.9q-.175 0-.325-.025t-.3-.075Q8 20.675 6 17.638T4 11.1V6.375q0-.625.363-1.125t.937-.725l6-2.25q.35-.125.7-.125t.7.125l6 2.25q.575.225.938.725T20 6.375V11.1q0 3.5-2 6.538T12.625 21.8q-.15.05-.3.075T12 21.9"})}))}},2636:function(e,n,t){t.d(n,{Z:function(){return s}});var l=t(85893);function s(e){var n=e.isLoaded,e=e.children;return(0,l.jsx)(l.Fragment,{children:n&&(0,l.jsxs)("div",{children:[!e&&(0,l.jsxs)("div",{className:"animate-pulse flex space-x-4 ",children:[(0,l.jsx)("div",{className:"rounded-full bg-slate-200 h-10 w-10 bg-backgroundAuxiliaryTextColor"}),(0,l.jsxs)("div",{className:"flex-1 space-y-6 py-1",children:[(0,l.jsx)("div",{className:"h-2 bg-slate-200 rounded bg-backgroundAuxiliaryTextColor"}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,l.jsx)("div",{className:"h-2 bg-slate-200 bg-backgroundAuxiliaryTextColor rounded col-span-2"}),(0,l.jsx)("div",{className:"h-2 bg-slate-200 bg-backgroundAuxiliaryTextColor rounded col-span-1"})]}),(0,l.jsx)("div",{className:"h-2 bg-slate-200 rounded"})]})]})]}),(0,l.jsx)("div",{className:"animate-pulse",children:e})]})})}},17424:function(e,n,t){t.d(n,{Z:function(){return a}});var l=t(6429),s=t(21636),r=t(55186),i={renderTextBox:"renderTextBox___TriX5"},o=t(85893);function a(e){e=e.data,e=void 0===e?{}:e;return(0,o.jsxs)("div",{className:i.renderTextBox,children:[(null==e?void 0:e.editorType)===l.AG.RICH_TEXT&&(0,o.jsx)("div",{dangerouslySetInnerHTML:{__html:null==e?void 0:e.content}}),(null==e?void 0:e.editorType)===l.AG.MARKDOWN&&(0,o.jsx)(s.U,{remarkPlugins:[r.Z],children:null==e?void 0:e.content})]})}},70718:function(e,n,t){t.d(n,{Z:function(){return l}});var n=t(5574),K=t.n(n),Y=t(59248),J=t(43254),Q=t(11735),ee=t(54866),ne=t(83018),te=t(6429),le=t(86547),se=t(50040),re=t(2389),ie=t(60854),oe=t(86679),ae=t(60967),ce=t(79644),de=t(18266),ue=t(81481),xe=t(80854),he=t(78234),ve=t(77598),me=t(67294),fe=t(67421),pe=t(85893);function l(e){var e=e||{},n=e.isBuy,t=e.submitLoading,E=e.onSubmitRequest,l=e.onClose,e=(e.contentMaxHeight,(0,fe.$G)().t),I=(0,xe.useModel)("socket").sendMsg,s=(0,xe.useModel)("contract"),r=s.localContract,_=s.setLocalContract,G=(0,se.lS)(le.kM,{manual:!0,onSuccess:function(e){var n;null!=e&&e.list&&(_(null==e||null==(n=e.list)?void 0:n[0]),I('{"type":"SUB","data": '.concat(JSON.stringify(null==e?void 0:e.map(function(e){return null==e?void 0:e.symbol})),"}")))}}).run;(0,he.Z)(function(){r&&G({id:null==r?void 0:r.id,type:te.XG.CONTRACT})});var i=(0,xe.useModel)("user").userAmount,o=(0,xe.useModel)("socket").getSocketRowByName,s=((0,xe.useModel)("exchange").exchangeConversionFunds,(0,me.useState)([])),s=K()(s,2),a=s[0],c=s[1],d=o(null==r?void 0:r.symbol),s=(0,me.useState)("1"),s=K()(s,2),u=s[0],s=s[1],x=(0,me.useState)(.1),x=K()(x,2),h=x[0],v=x[1],x=(0,me.useState)(.1),x=K()(x,2),m=x[0],B=x[1],x=(0,me.useState)(""),x=K()(x,2),f=x[0],p=x[1],x=(0,me.useState)(""),x=K()(x,2),j=x[0],T=x[1],x=(0,me.useState)("1"),x=K()(x,2),g=x[0],V=x[1],x=(0,me.useState)("1"),x=K()(x,2),w=x[0],N=x[1],y=((0,he.Z)(function(){var e=null==(e=(0,oe.wB)(null==r?void 0:r.enableLever))||null==(e=e.sort(function(e,n){return e-n}))?void 0:e.map(function(e,n){return null==e?void 0:e.toString()});c(e),e&&0<e.length&&N(e[e.length-1])}),(0,ve.Z)(function(){var e=null==(e=(0,oe.wB)(null==r?void 0:r.enableLever))||null==(e=e.sort(function(e,n){return e-n}))?void 0:e.map(function(e,n){return null==e?void 0:e.toString()});c(e),e&&0<e.length&&N(e[e.length-1])},[r]),null!=(x=null==r?void 0:r.commissionType)?x:0),C=null!=(x=null==r?void 0:r.priceAccuracy)?x:2,b=null==r?void 0:r.commission,q=null==r?void 0:r.firstHand,M=null==r?void 0:r.earnestMoneyType,A=(0,me.useMemo)(function(){return 1===M?(null==r?void 0:r.earnestMoney)*q*h:2===M?d.a*(null==r?void 0:r.earnestMoney)/100*q*h:3===M?q*h*(null==d?void 0:d.a)/w:0},[y,h,q,r,d.a]),x=(0,me.useMemo)(function(){return 1===M?A*q:d.a*A/100*q},[y,q,A,d.a]),Z=((0,me.useMemo)(function(){var e=null==r||null==(e=r.commisionList)?void 0:e.find(function(e){return(null==e?void 0:e.lever)+""===w});return e?A*(null==e?void 0:e.commission)/100:1===y?b:A*b/100},[y,r,A,b,w]),(0,me.useMemo)(function(){var e=null==r||null==(e=r.commisionList)?void 0:e.find(function(e){return(null==e?void 0:e.lever)+""===w});return e?(e=(null==e?void 0:e.commission)/100,1===M?i.walletBalance/((null==r?void 0:r.earnestMoney)*q*e+(null==r?void 0:r.earnestMoney)*q):2===M?i.walletBalance/(d.a*(null==r?void 0:r.earnestMoney)/100*q*e+d.a*(null==r?void 0:r.earnestMoney)/100*q):i.walletBalance/(q*d.a/w*e+q*d.a/w)):0},[i,x,w,r])),x=[25,50,75,100],S=(0,me.useState)(0),S=K()(S,2),H=S[0],F=S[1];function P(e){var n;null!=i&&i.walletBalance&&null!=d&&d.a?(n=Z*(.01*e),console.log(n,"000"),0<n&&v(ie.Z.formatNum(n,2)),F(e)):console.error("必要的数据未加载完毕")}function k(e){E({symbolContractId:null==r?void 0:r.id,num:h,direction:e||(n?1:2),earnestMode:u,slNum:O?j:void 0,slType:4,spNum:O?f:void 0,spType:4,source:2,localState:0,type:g[0],limitPrice:m,lever:w,earnestMoney:0})}var S=(0,me.useState)(new Set([])),S=K()(S,2),D=S[0],U=S[1],O=(0,me.useMemo)(function(){return 0!==D.size},[D]),S=((0,ve.Z)(function(){var e;O&&(!f&&null!=d&&d.a&&p(ie.Z.formatNum(null==(e=o(null==r?void 0:r.symbol))?void 0:e.a,C)),!j)&&null!=d&&d.a&&T(ie.Z.formatNum(null==(e=o(null==r?void 0:r.symbol))?void 0:e.a,C))},[O]),(0,ve.Z)(function(){P(H),console.log(2222222222)},[w]),(0,ve.Z)(function(){p(""),T(""),U(new Set([]))},[r]),(0,xe.useModel)("system")),X=S.currentUpClass,W=S.currentDownClass,$=S.currentDownBgClass,S=S.currentUpBgClass,R=(0,xe.useModel)("system").isMobile,L=(0,xe.useModel)("appInfo").appInfo,L=void 0===L?{}:L,z=L.EARNEST_MODE_CONTROL,z=void 0===z||z;return(0,pe.jsxs)("div",{className:"pt-3 pb-2 text-foreground px-4  overflow-hidden  w-full sm:relative",children:[(0,pe.jsxs)("div",{className:"flex  items-center ".concat(z?"justify-between":"justify-end "),children:[z&&(0,pe.jsx)(ee.Z,{value:u,onChange:s,options:[{text:e("全仓"),value:"1"},{text:e("逐仓"),value:"2"}],variant:"bordered"}),R&&(0,pe.jsx)(Y.J,{className:"text-xl cursor-pointer",onClick:function(e){return e.stopPropagation(),e.defaultPrevented=!1,null!=l&&l(),!1}})]}),(0,pe.jsxs)("div",{className:"".concat(null!=L&&L.EARNEST_MODE_CONTROL?"pt-[20px] ":"pt-0"," overflow-y-auto"),children:[(0,pe.jsxs)("div",{className:"py-2 text-xs pt-2",children:[(0,pe.jsxs)("div",{className:"pb-4 pt-1 flex justify-between",children:[R&&(0,pe.jsx)("div",{children:(0,pe.jsxs)("div",{className:"text-base font-bold",children:[(0,pe.jsx)("span",{children:e(n?"做多":"做空")}),(0,pe.jsx)("span",{className:"".concat(n?X:W," ml-2 text-base font-bold"),children:null==r?void 0:r.alias})]})}),(0,pe.jsx)("div",{children:1===(null==r?void 0:r.vip)&&(0,pe.jsx)(ae.z,{variant:"faded",color:"success",children:"VIP"})})]}),(0,pe.jsxs)("div",{className:"flex justify-between pb-3",children:[(0,pe.jsxs)("div",{className:" text-auxiliaryTextColor",children:[e("最新价格")," (",re.Z.APP_DEFAULT_CURRENCY,")"]}),(0,pe.jsx)("div",{className:" font-bold",children:(0,pe.jsx)(ne.Z,{value:null==d?void 0:d.a,len:C})})]}),(0,pe.jsxs)("div",{className:"flex justify-between pb-3",children:[(0,pe.jsx)("div",{className:" text-auxiliaryTextColor",children:e("当日涨幅")}),(0,pe.jsx)("div",{className:" font-bold",children:(0,pe.jsx)(ne.Z,{value:null==d?void 0:d.pe,len:2,ratio:!0})})]}),(0,pe.jsxs)("div",{className:"flex justify-between pb-3",children:[(0,pe.jsx)("div",{className:" text-auxiliaryTextColor",children:e("可用资产")}),(0,pe.jsx)("div",{className:" font-bold",children:(0,pe.jsx)(ne.Z,{value:null==i?void 0:i.walletBalance,len:2})})]}),(0,pe.jsxs)("div",{className:"flex justify-between pb-3",children:[(0,pe.jsx)("div",{className:" text-auxiliaryTextColor",children:e("可购买数量")}),(0,pe.jsx)("div",{className:" font-bold",children:(0,pe.jsx)(ne.Z,{value:Z,len:4})})]}),(0,pe.jsxs)("div",{className:"pb-2",children:[(0,pe.jsx)("div",{className:"font-bold",children:e("限/市价")}),(0,pe.jsx)(ce.g,{className:"w-full mt-2 ",placeholder:e("请选择限/市价"),selectedKeys:[g],onChange:function(e){e.target.value&&V(e.target.value)},classNames:{trigger:"bg-backgroundAuxiliaryTextColor rounded-md h-[50px]"},popoverProps:{classNames:{content:"bg-backgroundAuxiliaryTextColor text-foreground"}},children:[{value:"1",label:e("市价")},{value:"2",label:e("限价")}].map(function(e){return(0,pe.jsx)(de.R,{value:e.value,children:e.label},e.value)})})]}),2==+g[0]&&(0,pe.jsxs)("div",{className:"pb-2",children:[(0,pe.jsx)("div",{className:"font-bold",children:e("价格")}),(0,pe.jsx)(Q.Z,{value:m,step:.01,onChange:function(e){B(e)},className:"py-6"})]}),(0,pe.jsxs)("div",{className:"pb-4 ",children:[(0,pe.jsx)("div",{className:"font-bold",children:e("数量")}),(0,pe.jsx)(Q.Z,{value:h,step:.01,onChange:function(e){v(e)},className:"py-6"}),(0,pe.jsx)("div",{className:"grid grid-cols-4 gap-3 pt-2",children:null==x?void 0:x.map(function(e){return(0,pe.jsxs)("div",{onClick:function(){P(e)},className:"border-1  text-center rounded-md text-sm py-[3px]\n                                             ".concat(H===e?"border-backContrastColor":"border-backgroundAuxiliaryTextColor"),children:[e,"%"]},e)})})]}),3===M&&(0,pe.jsxs)("div",{className:"pb-2",children:[(0,pe.jsx)("div",{className:"font-bold",children:e("杠杆")}),(0,pe.jsx)(ce.g,{className:"w-full mt-2 ",placeholder:e("请选择杠杆"),selectedKeys:[w],classNames:{trigger:"bg-backgroundAuxiliaryTextColor rounded-md h-[50px]"},popoverProps:{classNames:{content:"bg-backgroundAuxiliaryTextColor text-foreground"}},children:null==a?void 0:a.map(function(e){return(0,pe.jsx)(de.R,{value:e,onClick:function(){N(e)},children:e+"x"},e)})})]})]}),(0,pe.jsx)(pe.Fragment,{children:R&&(0,pe.jsx)(pe.Fragment,{children:n?(0,pe.jsx)(ue.A,{spinner:(0,pe.jsx)(J.A,{}),isLoading:t,onClick:function(){k()},className:"".concat(S," w-full my-2 text-[#fff] rounded-md"),children:(0,pe.jsx)("div",{className:"text-xs",children:(0,pe.jsx)("div",{children:e("做多")})})}):(0,pe.jsx)(ue.A,{spinner:(0,pe.jsx)(J.A,{}),isLoading:t,onClick:function(){k()},className:"".concat($," w-full  text-[#fff] rounded-md"),children:(0,pe.jsx)("div",{className:"text-xs",children:(0,pe.jsx)("div",{children:e("做空")})})})})}),!R&&(0,pe.jsxs)("div",{className:"flex items-center gap-3",children:[(0,pe.jsx)(ue.A,{spinner:(0,pe.jsx)(J.A,{}),isLoading:t,onClick:function(){k(1)},className:"".concat(S," w-full my-2 text-[#fff] rounded-md"),children:(0,pe.jsx)("div",{className:"text-xs",children:(0,pe.jsx)("div",{children:e("做多")})})}),(0,pe.jsx)(ue.A,{spinner:(0,pe.jsx)(J.A,{}),isLoading:t,onClick:function(){k(2)},className:"".concat($," w-full  text-[#fff] rounded-md"),children:(0,pe.jsx)("div",{className:"text-xs",children:(0,pe.jsx)("div",{children:e("做空")})})})]})]}),!1]})}},72909:function(E,e,n){n.r(e),n.d(e,{default:function(){return ze}});var e=n(8613),m=n(21257),t=n(5574),T=n.n(t),c=n(83018),d=n(75700),g=n(6429),w=n(86547),f=n(50040),N=n(44620),p=n(80854),y=n(67294),C=n(67421),b=n(85893),j=(0,e.Z)(function(){var e=(0,C.$G)().t,n=(0,p.useModel)("socket").getSocketRowByName,t=(0,p.useModel)("contract").localContract,l=(0,p.useModel)("coin").localCoin,s=(0,N.Z)({}),s=(T()(s,1)[0]||{}).type,r=void 0===s?g.XG.CONTRACT:s,i=(0,y.useMemo)(function(){return r===g.XG.CONTRACT?t:r===g.XG.COIN?l:void 0},[r,t,l]),s=n(null==i?void 0:i.symbol),n=(0,f.lS)(function(){return(0,w.ji)({symbol:null==i?void 0:i.symbol,noMsg:!0})},{}),o=n.data,o=void 0===o?{}:o,a=n.runAsync;return(0,y.useEffect)(function(){a()},[i]),(0,b.jsx)("div",{className:"flex items-center justify-between gap-5 p-2",children:(0,b.jsxs)("div",{className:"flex-1 flex items-center gap-4",children:[(0,b.jsxs)("div",{className:"flex flex-col  px-2",children:[(0,b.jsxs)("div",{className:" flex gap-2 items-center",children:[(0,b.jsx)("div",{className:" text-titleColor text-xl font-bold whitespace-nowrap",children:null==i?void 0:i.alias}),(0,b.jsx)(d.Z,{collectType:r})]}),(0,b.jsx)("div",{className:"py-1 text-base  flex justify-between items-center gap-1 rounded-md whitespace-nowrap",children:(0,b.jsx)(c.Z,{value:null==s?void 0:s.a,len:null==i?void 0:i.priceAccuracy,style:{fontWeight:"bold",fontSize:22}})})]}),(0,b.jsxs)("div",{className:"flex flex-1 justify-end items-center gap-10 w-full",children:[(0,b.jsxs)("div",{className:" flex items-center justify-center",children:[(0,b.jsx)("span",{className:"text-iconFontColor whitespace-nowrap mr-2.5",children:e("24小时成交额")}),(0,b.jsx)(c.Z,{propsColor:"#f23645",className:"text-sm ml-1 !bg-background font-bold",value:null==o?void 0:o.amount,len:2})]}),(0,b.jsxs)("div",{className:" flex items-center justify-center ",children:[(0,b.jsx)("span",{className:" text-iconFontColor whitespace-nowrap mr-2.5",children:e("24小时交易量")}),(0,b.jsx)(c.Z,{propsColor:"#f23645",className:"text-sm  !bg-background font-bold",value:null==o?void 0:o.volume,len:2})]}),(0,b.jsxs)("div",{className:" flex items-center justify-center ",children:[(0,b.jsxs)("span",{className:"text-sm text-iconFontColor whitespace-nowrap mr-2.5",children:["24h ",e("最高价")]}),(0,b.jsx)(c.Z,{className:"text-sm !text-titleColor !bg-background font-bold",value:(null==s?void 0:s.a)>(null==o?void 0:o.high)?null==s?void 0:s.a:null==o?void 0:o.high,len:2})]}),(0,b.jsxs)("div",{className:" flex items-center justify-center ",children:[(0,b.jsxs)("span",{className:"text-sm text-iconFontColor whitespace-nowrap mr-2.5",children:["24h ",e("最低价")]}),(0,b.jsx)(c.Z,{className:"text-sm !text-titleColor !bg-background font-bold",value:(null==s?void 0:s.a)<(null==o?void 0:o.low)?null==s?void 0:s.a:null==o?void 0:o.low,len:2})]})]})]})})}),q=n(45210),t=n(49677),u=n.n(t),t=n(97857),M=n.n(t);function l(e){return(0,b.jsx)("svg",M()(M()({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},e),{},{children:(0,b.jsx)("path",{fill:"currentColor",d:"M17 17q.625 0 1.063-.437T18.5 15.5t-.437-1.062T17 14t-1.062.438T15.5 15.5t.438 1.063T17 17m0 3q.775 0 1.425-.363t1.05-.962q-.55-.325-1.175-.5T17 18t-1.3.175t-1.175.5q.4.6 1.05.963T17 20m-5 2q-3.475-.875-5.738-3.988T4 11.1V5l8-3l8 3v5.675q-.475-.2-.975-.363T18 10.076V6.4l-6-2.25L6 6.4v4.7q0 1.175.313 2.35t.875 2.238T8.55 17.65t1.775 1.5q.275.8.725 1.525t1.025 1.3q-.025 0-.037.013T12 22m5 0q-2.075 0-3.537-1.463T12 17t1.463-3.537T17 12t3.538 1.463T22 17t-1.463 3.538T17 22m-5-10.35"})}))}function s(e){return(0,b.jsx)("svg",M()(M()({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},e),{},{children:(0,b.jsx)("path",{fill:"currentColor",d:"M7 16h10v-2H7zm0-4h4v-1.5H9.575q.5-.475 1.125-.737T12 9.5q1.175 0 2.088.688T15.35 12h1.55q-.35-1.75-1.725-2.875T12 8q-.975 0-1.887.375T8.5 9.45V8H7zm5 10q-2.075 0-3.9-.788t-3.175-2.137T2.788 15.9T2 12t.788-3.9t2.137-3.175T8.1 2.788T12 2t3.9.788t3.175 2.137T21.213 8.1T22 12t-.788 3.9t-2.137 3.175t-3.175 2.138T12 22m0-2q3.35 0 5.675-2.325T20 12t-2.325-5.675T12 4T6.325 6.325T4 12t2.325 5.675T12 20m0-8"})}))}function r(e){return(0,b.jsx)("svg",M()(M()({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},e),{},{children:(0,b.jsx)("path",{fill:"currentColor",d:"M4 21v-5q0-.825.588-1.412T6 14h12q.825 0 1.413.588T20 16v5zm5-8q-2.075 0-3.537-1.463T4 8t1.463-3.537T9 3h6q2.075 0 3.538 1.463T20 8t-1.463 3.538T15 13zm-3 6h12v-3H6zm3-8h6q1.25 0 2.125-.875T18 8t-.875-2.125T15 5H9q-1.25 0-2.125.875T6 8t.875 2.125T9 11m0-2q.425 0 .713-.288T10 8t-.288-.712T9 7t-.712.288T8 8t.288.713T9 9m6 0q.425 0 .713-.288T16 8t-.288-.712T15 7t-.712.288T14 8t.288.713T15 9m-3-1"})}))}function i(e){return(0,b.jsx)("svg",M()(M()({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},e),{},{children:(0,b.jsx)("path",{fill:"currentColor",d:"M18 22q-1.25 0-2.125-.875T15 19q0-.175.025-.363t.075-.337l-7.05-4.1q-.425.375-.95.588T6 15q-1.25 0-2.125-.875T3 12t.875-2.125T6 9q.575 0 1.1.213t.95.587l7.05-4.1q-.05-.15-.075-.337T15 5q0-1.25.875-2.125T18 2t2.125.875T21 5t-.875 2.125T18 8q-.575 0-1.1-.212t-.95-.588L8.9 11.3q.05.15.075.338T9 12t-.025.363t-.075.337l7.05 4.1q.425-.375.95-.587T18 16q1.25 0 2.125.875T21 19t-.875 2.125T18 22m0-16q.425 0 .713-.287T19 5t-.288-.712T18 4t-.712.288T17 5t.288.713T18 6M6 13q.425 0 .713-.288T7 12t-.288-.712T6 11t-.712.288T5 12t.288.713T6 13m12 7q.425 0 .713-.288T19 19t-.288-.712T18 18t-.712.288T17 19t.288.713T18 20m0-1"})}))}function o(e){return(0,b.jsx)("svg",M()(M()({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},e),{},{children:(0,b.jsx)("path",{fill:"currentColor",d:"M2.005 19h20v2h-20zm9-11h2v8h-2zM7.97 8l-1.86 5.113L4.247 8H2.123l2.986 7.964h2L10.095 8zm9.035 6v2h-2V8h4a3 3 0 0 1 0 6zm0-4v2h2a1 1 0 1 0 0-2zm-15-7h20v2h-20z"})}))}function a(e){return(0,b.jsx)("svg",M()(M()({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},e),{},{children:(0,b.jsx)("path",{fill:"currentColor",d:"M6.5 17.5L14 14l3.5-7.5L10 10zM12 13q-.425 0-.712-.288T11 12q0-.425.288-.712T12 11q.425 0 .713.288T13 12q0 .425-.288.713T12 13m0 9q-2.075 0-3.9-.788t-3.175-2.137q-1.35-1.35-2.137-3.175T2 12q0-2.075.788-3.9t2.137-3.175q1.35-1.35 3.175-2.137T12 2q2.075 0 3.9.788t3.175 2.137q1.35 1.35 2.138 3.175T22 12q0 2.075-.788 3.9t-2.137 3.175q-1.35 1.35-3.175 2.138T12 22m0-2q3.35 0 5.675-2.325T20 12q0-3.35-2.325-5.675T12 4Q8.65 4 6.325 6.325T4 12q0 3.35 2.325 5.675T12 20m0-8"})}))}function x(e){return(0,b.jsx)("svg",M()(M()({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},e),{},{children:(0,b.jsx)("path",{fill:"currentColor",d:"M8.1 14.75q.35 1.2 1.088 1.938T11.1 17.7v.425q0 .35.263.613t.612.262q.35 0 .613-.262t.262-.613v-.375q1.25-.225 2.15-.975t.9-2.225q0-1.05-.6-1.925T12.9 11.1q-1.5-.5-2.075-.875T10.25 9.2q0-.65.463-1.025T12.05 7.8q.8 0 1.25.387t.65.963l1.6-.65q-.275-.875-1.012-1.525T12.9 6.25v-.375q0-.35-.262-.612T12.025 5q-.35 0-.612.263t-.263.612v.375q-1.25.275-1.95 1.1T8.5 9.2q0 1.175.688 1.9t2.162 1.25q1.575.575 2.188 1.025t.612 1.175q0 .825-.587 1.213t-1.413.387q-.825 0-1.463-.512T9.75 14.1zM12 22q-2.075 0-3.9-.788t-3.175-2.137q-1.35-1.35-2.137-3.175T2 12q0-2.075.788-3.9t2.137-3.175q1.35-1.35 3.175-2.137T12 2q2.075 0 3.9.788t3.175 2.137q1.35 1.35 2.138 3.175T22 12q0 2.075-.788 3.9t-2.137 3.175q-1.35 1.35-3.175 2.138T12 22m0-2q3.35 0 5.675-2.325T20 12q0-3.35-2.325-5.675T12 4Q8.65 4 6.325 6.325T4 12q0 3.35 2.325 5.675T12 20m0-8"})}))}var I=n(28298),_=n(82190),G=n(55903),B=(0,e.Z)(function(e){u()(e);var e=(0,C.$G)().t,n=(0,p.useModel)("appInfo").getShowMenuList,t=(0,p.useModel)("user").user,e=null==(t=n(null==(n=[(null==t?void 0:t.realnameStatus)!==_.O.REAL?{text:e("实名"),Icon:l,path:m.Z.VERIFIED}:{text:e("充值"),Icon:I.h,path:m.Z.TopUp},{text:e("VIP"),Icon:o,path:m.Z.VIP},{text:e("提现"),Icon:s,path:m.Z.WITHDRAW},{text:e("AI交易"),Icon:r,path:m.Z.AITRADE},{text:e("币币"),Icon:x,path:m.Z.TRANSACTION},{text:e("合约"),Icon:a,path:m.Z.CONTRACT},{text:e("返佣"),Icon:i,path:m.Z.INVITE}])?void 0:n.filter(function(e){return!!e})))?void 0:t.slice(0,4);return(0,b.jsxs)("div",{className:"bg-[transparent] my-4",children:[(0,b.jsx)("div",{className:"flex justify-between py-3 pb-0",children:null==e?void 0:e.map(function(e){return(0,b.jsxs)("div",{className:" text-center flex justify-center flex-col items-center",onClick:function(){p.history.push(e.path,null==e?void 0:e.state)},children:[(0,b.jsx)(e.Icon,{className:"text-3xl"}),(0,b.jsx)("div",{className:"pt-2 text-xs",children:e.text})]},e.text)})}),(0,b.jsx)(G.j,{className:"my-4 pb-0 !bg-backgroundAuxiliaryTextColor"})]})}),A=n(54866),Z=n(50052),V=(0,e.Z)(function(){var e=(0,C.$G)().t,n=(0,p.useModel)("contract").contractList,t=(0,p.useModel)("coin").coinListData,l=[{text:e("合约"),value:g.XG.CONTRACT},{text:e("币币"),value:g.XG.COIN}],s=(0,y.useState)(g.XG.CONTRACT),s=T()(s,2),r=s[0],s=s[1],i=(0,y.useMemo)(function(){return r===g.XG.CONTRACT?n:t},[r,n,t]);return(0,b.jsx)("div",{className:" overflow-hidden",children:(0,b.jsxs)("div",{className:"pt-4",children:[(0,b.jsx)(A.Z,{value:r,onChange:s,options:l}),(0,b.jsx)("div",{children:(0,b.jsx)(Z.Z,{type:r,list:i})},r),(0,b.jsx)("div",{className:"pt-6 text-center text-darkBrandColor cursor-pointer",onClick:function(){p.history.push(m.Z.MARKET)},children:e("查看更多")})]})})}),t=n(13769),H=n.n(t),F=n(59248),P=n(17424),D=n(10581),U=n(69371),X=n(32226),W=n(86597),h=n(81481),$=n(96476),K=["data","onCloseModal","isOpen","onClose"];function S(e){var t=e.data,l=e.onCloseModal,n=e.isOpen,s=e.onClose,e=H()(e,K),r=(0,p.useModel)("system").isMobile,i=(0,y.useState)(0),i=T()(i,2),o=i[0],a=i[1],c=(null==t?void 0:t.length)-1,d=(0,C.$G)().t;return(0,b.jsx)(U.R,M()(M()({isOpen:n,onClose:s,classNames:{modal:r?"w-[95vw]":"w-[30vw]"},clickMaskClose:!1,hideCloseButton:!0,placement:"center"},e),{},{children:(0,b.jsx)(X.A,{className:" text-foreground",children:function(e){var n;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(W.I,{children:[(0,b.jsxs)("div",{className:"flex justify-between items-center w-full px-3",children:[(0,b.jsx)("span",{className:"font-bold text-xl",children:d("通知公告")}),(0,b.jsx)(F.J,{width:"18px",height:"18px",className:"cursor-pointer text-foreground",onClick:function(){return l&&l()}})]}),(0,b.jsxs)("div",{className:"p-3 max-h-[400px] overflow-y-scroll mt-9",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center w-full",children:[(0,b.jsx)("div",{className:"w-[80%] text-base font-bold truncate",children:null==(n=t[o])?void 0:n.title}),(0,b.jsx)("div",{children:(0,b.jsx)(h.A,{color:"primary",variant:"light",onClick:function(){var e;D.m.push("".concat(m.Z.ANNOUNCEMENTDETAIL,"?"),{id:null==(e=t[o])?void 0:e.id,isSendRequest:!0}),l&&l(),a(1)},children:d("查看")})})]}),null==t?void 0:t.map(function(e,n){return(0,b.jsx)(b.Fragment,{children:n===o&&(0,b.jsx)(P.Z,{data:e},e.id)})})]}),(0,b.jsxs)("div",{className:"flex justify-end items-center p-1",children:[0!==o&&(0,b.jsx)(h.A,{color:"primary",variant:"light",onClick:function(){return a(function(e){return e-1})},children:d("上一条")}),o<c&&(0,b.jsx)(h.A,{color:"primary",variant:"light",onClick:function(){a(function(e){return e+1}),console.log(o,"===",c)},children:d("下一条")})]})]}),(0,b.jsxs)($.R,{children:[(0,b.jsx)(h.A,{color:"danger",variant:"light",onPress:e,children:d("取消")}),(0,b.jsx)(h.A,{color:"primary",onPress:e,children:d("确定")})]})]})}})}))}function Y(){var e=(0,y.useRef)(null),n=(0,C.$G)().t,t=(0,y.useState)(""),l=(t=T()(t,2))[0],s=t[1],t=(0,N.Z)({}),r=void 0===(t=(T()(t,1)[0]||{}).type)?g.XG.CONTRACT:t,i=[{text:n("合约"),value:g.XG.CONTRACT},{text:n("币币"),value:g.XG.COIN},{text:n("自选"),value:g.XG.COLLECT}],t=(0,y.useMemo)(function(){return i.filter(function(e){return e.value===r||e.value===g.XG.COLLECT})},[r,i]),o=[{text:n("虚拟币"),value:g.iN.CRYPTOCURRENCY}],a=(0,y.useState)(r),c=(a=T()(a,2))[0],d=a[1],a=(0,y.useState)(o[0]),u=(a=T()(a,2))[0],a=a[1],x=((0,k.Z)(function(){d(r)},[r]),(0,y.useState)({pageNo:1,pageSize:20,type:c,contractType:null==u?void 0:u.value,isTripartite:r})),h=(x=T()(x,2))[0],v=x[1];(0,k.Z)(function(){v(M()(M()({},h),{},{fuzzy:l,pageNo:1,type:c,contractType:null==u?void 0:u.value,isTripartite:r}))},[c,u,l]);var m=(x=(0,ce.P)(w.kM,h)).list,f=x.loading,p=x.loadMore,j=x.error,x=x.total;return(0,b.jsxs)("div",{className:" relative",ref:e,children:[(0,b.jsx)(oe.Z,{value:l,className:"bg-backgroundAuxiliaryTextColor overflow-hidden h-[40px]",startContent:(0,b.jsx)(ie.d,{className:" text-iconFontColor text-xl"}),placeholder:n("搜索"),classNames:{base:"rounded-md overflow-hidden h-[40px]",inputWrapper:"h-full  rounded-md  group-data-[focus=true]:border-backgroundAuxiliaryTextColor"},onChange:function(e){s(e.target.value)}}),(0,b.jsxs)("div",{className:" h-full   max-h-[90vh] pr-2",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,b.jsx)(A.Z,{value:c,onChange:d,options:t}),c===g.XG.CONTRACT&&(0,b.jsx)("div",{className:"flex justify-between  mt-3",children:(0,b.jsx)("div",{className:"flex",children:(0,b.jsx)(de.Z,{options:o,onChange:a,current:u,title:n("类型")})})})]}),(0,b.jsx)("div",{children:(0,b.jsx)(ae.Z,{loadMore:p,total:x,list:m,error:!!j,loading:f,children:(0,b.jsx)(Z.Z,{isJump:!1,type:c,selected:!0,list:m})})},c)]})]})}function J(){var e=(0,N.Z)({}),e=void 0===(e=(T()(e,1)[0]||{}).type)?g.XG.CONTRACT:e;return(0,b.jsxs)(b.Fragment,{children:[e===g.XG.CONTRACT&&(0,b.jsx)(ue.Z,{}),e===g.XG.COIN&&(0,b.jsx)(xe.Z,{})]})}function Q(e){var e=e.reloadOrder,n=(0,Te.ZP)(),t=n.price,l=n.amount,s=n.onPriceChange,r=n.onAmountChange,i=n.priceType,o=n.onPriceTypeChange,a=n.priceTypeOption,c=n.priceTypeText,d=n.transactionMode,u=n.changeTransactionMode,x=n.data,h=n.orderKey,v=n.runAsync;return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("div",{children:[(0,b.jsx)(fe.Z,{changeTransactionMode:u,transactionMode:d}),(0,b.jsx)("div",{children:(0,b.jsx)(pe.Z,{amount:l,price:t,priceType:i,onPriceTypeChange:o,priceTypeOption:a,priceTypeText:c,onPriceChange:s,onAmountChange:r,transactionMode:d,userFund:x},h)},h),(0,b.jsx)(je.Z,{amount:l,price:t,priceType:i,transactionMode:d,reloadOrder:e,userFund:x,onSuccess:function(){v()}})]})})}function ee(e){var e=e.reloadOrder,n=(0,N.Z)({}),n=void 0===(n=(T()(n,1)[0]||{}).type)?g.XG.CONTRACT:n;return(0,b.jsxs)(b.Fragment,{children:[n===g.XG.CONTRACT&&(0,b.jsx)(me,{reloadOrder:e}),n===g.XG.COIN&&(0,b.jsx)(Q,{reloadOrder:e})]})}var ne=n(58080),v=n(82010),te=n(68068),le=n(48752),se=(0,e.Z)(function(e){var e=e.children,n=(0,y.useState)(!0),n=T()(n,2),t=n[0],l=n[1],n=(0,v.F)().theme;return(0,y.useEffect)(function(){var e=setTimeout(function(){l(!1)},800);return function(){return clearTimeout(e)}},[]),(0,b.jsxs)("div",{className:"h-full relative",children:[t&&(0,b.jsx)("div",{className:"absolute top-0 left-0 w-full h-full flex items-center justify-center z-[10]\n            ".concat(n===le.Z.light?" bg-white":" bg-[#2b3139]","\n          "),children:(0,b.jsx)(te.j,{className:" text-primary text-2xl"})}),e]})}),re=(0,e.Z)(function(e){var n=e.len,n=void 0===n?2:n,e=e.coinType,t=void 0===e?0:e,e=(0,p.useModel)("kline"),l=e.interval,s=e.timeString,r=e.setInterval,e=e.supported_resolutions,i=(0,p.useModel)("contract").localContract,o=(0,p.useModel)("coin").localCoin,a=(0,N.Z)({}),a=(T()(a,1)[0]||{}).type,c=void 0===a?g.XG.CONTRACT:a,a=(0,y.useMemo)(function(){return c===g.XG.CONTRACT?i:c===g.XG.COIN?o:void 0},[c,i,o]),d=(0,p.useModel)("language").chartlanguage,u=(0,v.F)().theme,x=null!=(x=null==a?void 0:a.alias)?x:null==a?void 0:a.name,a={interval:l,theme:u,symbol:null==a?void 0:a.symbol,title:x,locale:d,socketSymbol:"x",len:n,favorites:{intervals:e},disabled_features:["header_symbol_search","header_compare","symbol_search_hot_key","compare_symbol","symbol_info","go_to_date","timeframes_toolbar","save_chart_properties_to_local_storage","volume_force_overlay","left_toolbar","header_saveload","header_undo_redo","header_indicators","header_screenshot"]};(0,y.useEffect)(function(){[1,3,4,5,6].includes(t)&&r("1D")},[t]);n=(0,C.$G)().t;return(0,b.jsx)("div",{id:"chart-view",className:" w-full",children:(0,b.jsxs)("div",{className:" h-[735px]  overflow-hidden",children:[(0,b.jsx)(se,{children:(0,b.jsx)(ne.Z,{chartProperties:a,chartType:0,className:"px-3"},l+d+s+u+x)}),(0,b.jsxs)("div",{className:"w-full flex pb-4",onClick:function(){p.history.push(m.Z.TRANSACTION)},children:[(0,b.jsxs)("div",{className:"text-center rounded-md text-successColor border-successColor border-[1px] flex-1",onClick:function(){},children:[(0,b.jsx)("div",{className:"pb5",children:n("买涨")}),(0,b.jsx)("span",{children:"0.05"})]}),(0,b.jsx)("div",{className:"mx-3"}),(0,b.jsxs)("div",{className:"text-center rounded-md text-errorColor border-errorColor border-[1px] flex-1",onClick:function(){},children:[(0,b.jsx)("div",{className:"pb5",children:n("买跌")}),(0,b.jsx)("span",{children:"0.07"})]})]})]})})}),ie=n(86062),oe=n(13897),ae=n(49995),k=n(77598),ce=n(92232),de=n(38586),ue=n(41712),xe=n(59575),he=n(55678),ve=n(70718),me=(0,e.Z)(function(e){var n=(0,C.$G)().t,t=e.reloadOrder,e=(0,f.lS)(w.s9,{loadingDefault:!1,manual:!0,onSuccess:function(){he.Am.success(n("操作成功")),t()}}),l=e.run,e=e.loading;return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(ve.Z,{contentMaxHeight:9e3,onSubmitRequest:l,submitLoading:e})})}),fe=n(14840),pe=n(70032),je=n(43831),Te=n(99144);function ge(e){return(0,b.jsx)("svg",M()(M()({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 32 32"},e),{},{children:(0,b.jsx)("path",{fill:"currentColor",d:"M16 3C8.832 3 3 8.832 3 16s5.832 13 13 13s13-5.832 13-13S23.168 3 16 3m0 2c6.087 0 11 4.913 11 11s-4.913 11-11 11S5 22.087 5 16S9.913 5 16 5m-1 4v10.28l-4-4l-1.406 1.44l5.687 5.686l.72.72l.72-.72l5.686-5.687L21 15.28l-4 4V9z"})}))}function we(e){return(0,b.jsx)("svg",M()(M()({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 32 32"},e),{},{children:(0,b.jsx)("path",{fill:"currentColor",d:"M16 3C8.832 3 3 8.832 3 16s5.832 13 13 13s13-5.832 13-13S23.168 3 16 3m0 2c6.087 0 11 4.913 11 11s-4.913 11-11 11S5 22.087 5 16S9.913 5 16 5m0 3.875l-.72.72l-5.686 5.686L11 16.72l4-4V23h2V12.72l4 4l1.406-1.44l-5.687-5.686l-.72-.72z"})}))}function Ne(l){var n=l.data,e=l.canvasWidth,t=l.canvasHeight,s=l.LineColor,r=void 0===s?"grey":s,i=(0,y.useMemo)(function(){return e=null==n?void 0:n.length,Array.from(Array(e),function(e,n){return n+1});var e},[n]),o=(0,y.useRef)(),a=Math.min.apply(Math,L()(n)),c=Math.max.apply(Math,L()(n));return(0,y.useEffect)(function(){function e(){n.resize()}var n=be.S1(o.current),t={grid:{bottom:"10%",left:"0%",right:"0%",top:"10%",containLabel:!0},xAxis:{type:"category",data:i,axisLabel:{show:!1},axisTick:{show:!1},axisLine:{show:!1}},yAxis:{type:"value",axisLabel:{show:!1},splitLine:{lineStyle:{color:r}},min:a,max:c},series:[{data:null==l?void 0:l.data,type:"line",animation:!1,smooth:!0,symbol:"circle",symbolSize:0,areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:l.isUp?"rgba(71,171,134,0.5)":"rgba(221,93,81,0.5)"},{offset:1,color:l.isUp?"rgba(71,171,134,0)":"rgba(221,93,81,0)"}],global:!1}},lineStyle:{color:l.isUp?"#47ab86":"#dd5d51",width:1.7}}]};return n.resize({width:"auto",height:"auto"}),n.setOption(t),window.addEventListener("resize",e),function(){n.dispose(),window.removeEventListener("resize",e)}},[]),(0,b.jsx)("div",{id:"trend",ref:o,style:{width:e+"",height:t+""}})}function ye(){var e=(0,p.useModel)("system").upDownColorConfig,t="upGreen"===e?"#2db880":"#ee4456",l="upGreen"===e?"#ee4456":"#2db880",n=(e=(0,f.lS)(w.wx,{manual:!0,defaultValue:[]})).data,s=void 0===n?[]:n,r=e.run;return e.loading,(0,R.Z)(function(){r()}),(0,b.jsxs)(b.Fragment,{children:[Array.isArray(s)&&0<s.length&&(0,b.jsx)("div",{className:"flex justify-between items-center pb-2 ".concat(z),children:null==s?void 0:s.slice(0,3).map(function(e,n){return(0,b.jsxs)("div",{className:"p-3 rounded-2xl w-full bg-backgroundAuxiliaryTextColor ".concat(n===(null==s?void 0:s.length)?"":"mx-1"),children:[(0,b.jsx)("div",{className:"text-base truncate",children:e.symbol}),(0,b.jsx)("div",{className:"font-bold mt-2 text-base",children:O.Z.FormatAmount(e.a)}),(0,b.jsxs)("div",{className:"flex items-center mt-1",children:[0<=e.pe&&(0,b.jsx)(we,{className:"mr-[1px]",style:{color:t}}),e.pe<0&&(0,b.jsx)(ge,{className:"mr-[1px]",style:{color:l}}),(0,b.jsxs)("div",{className:"text-xs",style:{color:0<=e.pe?t:l},children:[O.Z.FormatAmount(e.pe),"%"]})]}),(0,b.jsx)(Ne,{LineColor:"transparent",isUp:0<e.pe,data:null==e||null==(n=e.currencyCandlestickApiDTO)?void 0:n.map(function(e){return null==e?void 0:e.c}),canvasWidth:"calc(100% )",canvasHeight:"60px"})]},e.symbol)})}),(0,b.jsx)(Ce.Z,{isLoaded:0===s.length,children:(0,b.jsxs)("div",{className:"flex overflow-x-auto pb-2 ".concat(z),children:[(0,b.jsx)("div",{className:"h-[150px] w-[150px] flex-shrink-0 bg-backgroundAuxiliaryTextColor rounded-md mr-3"}),(0,b.jsx)("div",{className:"h-[150px] w-[150px] flex-shrink-0 bg-backgroundAuxiliaryTextColor rounded-md mr-3"}),(0,b.jsx)("div",{className:"h-[150px] w-[150px] flex-shrink-0 bg-backgroundAuxiliaryTextColor rounded-md mr-3"})]})})]})}var Ce=n(2636),O=n(60854),R=n(78234),t=n(19632),L=n.n(t),be=n(64389),z="card___DtqnS",qe=n(17031),Me=n(2389),Ae=n(57457),Ze=n(72825),Se=n(92153),ke=n(32616),Oe=(0,e.Z)(function(e){u()(e);var e=(0,C.$G)().t,n=(0,p.useModel)("exchange"),t=n.exchange,l=n.setCurrentExchangeFunds,s=n.currentExchangeFunds,r=n.exchangeConversionFunds,n=n.joinSymbol,i=(0,p.useModel)("user").userAmount,o=(0,y.useState)(Me.Z.APP_DEFAULT_CURRENCY),o=T()(o,2),a=(o[0],o[1]),o=(0,y.useMemo)(function(){if(![void 0,null].includes(null==s?void 0:s.priceAccuracy))return+(null==s?void 0:s.priceAccuracy)<8?null==s?void 0:s.priceAccuracy:8},[s]);return(0,b.jsx)("div",{children:(0,b.jsx)("div",{className:"flex justify-between  items-center",children:(0,b.jsxs)("div",{className:"w-full",children:[(0,b.jsxs)("div",{className:"text-sm flex items-center",children:[e("总资产"),(0,b.jsxs)(Ae.F,{classNames:{content:"bg-background"},children:[(0,b.jsx)(Ze.S,{children:(0,b.jsxs)("div",{className:"flex items-center ml-2",children:[(0,b.jsx)("span",{className:"text-base mr-1",children:null==s?void 0:s.exchange}),(0,b.jsx)(qe.x,{width:"0.7em",height:"0.7em"})]})}),(0,b.jsx)(Se.a,{className:"text-backContrastColor",variant:"flat",closeOnSelect:!0,disallowEmptySelection:!0,selectionMode:"single",onAction:function(e){return a(e)},selectedKeys:[(null==s?void 0:s.id)+""],children:null==t||null==(t=t.usdExchangeList)||null==(t=t.filter(function(e){return 0==+e.type}))?void 0:t.map(function(e){return(0,b.jsx)(ke.W,{onClick:function(){l(e)},children:e.exchange},(null==e?void 0:e.id)+"")})})]})]}),(0,b.jsxs)("div",{className:"pt-3 flex items-center justify-between",children:[(0,b.jsxs)("span",{className:"text-2xl font-bold flex-1 max-w-[250px]",style:{overflowWrap:"break-word"},children:[n(O.Z.FormatAmount(r(null==i?void 0:i.total),o),"FUNDS")," "]}),(0,b.jsx)("div",{children:(0,b.jsx)(h.A,{onClick:function(){p.history.push(m.Z.TopUp)},className:"mainColorButton !w-[100px] !py-[12px]",children:e("充值")})})]})]})})})}),Re=n(99986),Le=n(86390),ze=(0,e.Z)(function(){var e,n,t,l,s,r,i,o=(0,p.useModel)("system").isMobile,a=(a=(0,C.$G)().t,e=(0,p.useModel)("user").requestUserInfo,a=[{text:a("外汇"),value:"1"},{text:a("自选"),value:"2"}],d=(0,y.useState)("1"),d=T()(d,2),c=d[0],d=d[1],n=(0,y.useState)(1),n=T()(n,2),u=n[0],t=n[1],n=(0,y.useState)(!1),n=T()(n,2),l=n[0],s=n[1],n=(0,Le._)({key:Re.Z.APP_LOGIN_TYPE}),r=T()(n,1)[0],n=(0,f.lS)(function(){return(0,w.bJ)()},{formatResult:function(e){return null!=(e=null==e?void 0:e.data)?e:[]},onSuccess:function(e){s(!1),0!==(null==e?void 0:e.length)?s(!0):s(!1)}}),h=n.loading,i=n.runAsync,n=void 0===(n=n.data)?[]:n,(0,R.Z)(function(){e(),r&&"1"===r&&i()}),{tabOptions:a,tabSelected:c,setTabSelected:d,orderKey:u,reloadOrder:function(){t(function(e){return e+1})},noticeLoading:h,getNoticeUnread:i,noticeData:n,isOpen:l,setIsOpen:s}),c=a.orderKey,d=a.reloadOrder,u=a.isOpen,x=a.setIsOpen,h=a.noticeData,v=((0,p.useRouteProps)()||{}).path;return(0,q.Z)(function(){x(!1)}),(0,y.useEffect)(function(){v&&v!==m.Z.PCHOME&&v!==m.Z.HOME&&x(!1)},[v]),o?(0,b.jsx)("div",{className:"px-4 pt-2 flex flex-1",children:(0,b.jsxs)("div",{className:"w-full",children:[(0,b.jsx)(Oe,{}),(0,b.jsx)(B,{}),(0,b.jsx)(ye,{}),(0,b.jsx)(V,{}),(0,b.jsx)(S,{data:h,isOpen:u,onCloseModal:function(){x(!1)},onClose:function(){x(!1)}})]})}):(0,b.jsxs)("div",{className:" flex justify-center m-auto  w-full ",children:[(0,b.jsxs)("div",{className:"flex flex-1 flex-col",children:[(0,b.jsx)(j,{}),(0,b.jsxs)("div",{className:" flex-1 flex justify-between border-t border-backgroundAuxiliaryTextColor",children:[(0,b.jsx)("div",{className:"border-r border-backgroundAuxiliaryTextColor p-4 w-[380px]",children:(0,b.jsx)(Y,{})}),(0,b.jsxs)("div",{className:"center flex-1 px-2",children:[(0,b.jsx)(re,{}),(0,b.jsx)("div",{children:(0,b.jsx)(J,{})},c)]})]})]}),(0,b.jsx)("div",{className:"border-l border-backgroundAuxiliaryTextColor w-[380px] p-4",children:(0,b.jsx)(ee,{reloadOrder:d})},c),(0,b.jsx)(S,{data:h,isOpen:u,onCloseModal:function(){x(!1)},onClose:function(){x(!1)}})]})})},82190:function(e,n,t){t.d(n,{O:function(){return j},Z:function(){return T}});var l=t(90384),s=t(72954),r=t(85415),i=t(63129),o=t(60561),a=t(50242),c=t(28298),d=t(44337),n=t(97857),u=t.n(n),x=t(85893);function h(e){return(0,x.jsx)("svg",u()(u()({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},e),{},{children:(0,x.jsx)("path",{fill:"currentColor",d:"M16 11q.425 0 .713-.288T17 10q0-.425-.288-.712T16 9q-.425 0-.712.288T15 10q0 .425.288.713T16 11M8 9h5V7H8zM4.5 21q-.85-2.85-1.675-5.687T2 9.5q0-2.3 1.6-3.9T7.5 4h5q.725-.95 1.763-1.475T16.5 2q.625 0 1.063.438T18 3.5q0 .125-.125.575q-.1.275-.187.563t-.138.587L19.825 7.5H22v6.975l-2.825.925L17.5 21H12v-2h-2v2z"})}))}var v=t(65637),m=t(21257),f=t(80854),p=t(67421),j=function(e){return e[e.UNREAL=0]="UNREAL",e[e.UNDER=1]="UNDER",e[e.REAL=2]="REAL",e}({});function T(){var e=(0,p.$G)().t,n=(0,f.useModel)("user").user,t=(0,(0,f.useModel)("appInfo").getShowMenuList)([{key:e("返佣"),icon:s.R,path:m.Z.INVITE},{key:e("充值"),icon:c.h,path:m.Z.TopUp},{key:e("提现"),icon:h,path:m.Z.WITHDRAW},{key:e("AI交易"),icon:d.L,path:m.Z.AITRADE},{key:e("钱包"),icon:r.v,path:m.Z.BANK},{key:e("资金记录"),icon:i.n,path:m.Z.ORDER_HISTORY},{key:e("消息通知"),icon:l.Z,path:m.Z.MESSAGE},{key:e("支付密码"),icon:a.U,path:m.Z.CHANGEPAYMENTPASSWORD},{key:e("登录密码"),icon:o.z,path:m.Z.CHANGEPASSWORD}]);return(null==n?void 0:n.realnameStatus)!==j.REAL&&t.splice(t.length-1,0,{key:e("实名认证"),icon:v.g,path:m.Z.VERIFIED}),{t:e,cards:t,user:n}}},41712:function(e,n,t){t.d(n,{Z:function(){return c}});function l(e){var n=e.orderTabSelected,t=e.orderTabOptions,l=e.changeOrderTab,s=e.list,r=e.loadMore,i=e.error,o=e.total,a=e.loading,c=e.closeContractOrder,d=e.closingContractOrder,u=void 0!==(u=e.isShowSift)&&u,x=e.directionFilterOption,h=e.direction,v=e.setDirection,m=e.tradeTypeOption,f=e.type,p=e.setType,j=e.marginModeOption,T=e.earnestMode,g=e.setEarnestMode,w=e.setTime,N=(e=(0,Z.q)()).isOpen,y=e.onOpen,C=e.onClose,e=(0,O.$G)().t,x=[{options:x,onChange:v,current:h,title:e("方向")},{options:m,onChange:p,current:f,title:e("类型")},{options:j,onChange:g,current:T,title:e("保证金模式")}];return(0,I.jsxs)("div",{children:[(0,I.jsxs)("div",{className:"flex items-center justify-between mt-3",children:[(0,I.jsx)(M.Z,{tabsPropsProps:{className:"w-full",classNames:{tab:"first:!pl-3",tabList:"pb-0 mt-4"}},value:n,onChange:l,options:t}),(0,I.jsx)(R.e,{onClick:function(){k.history.push(z.Z.ORDER+"?type="+L.Kv.CONTRACT)},width:"1.3em",height:"1.3em",className:"cursor-pointer text-foreground pt-1 mr-2"})]}),!u&&(0,I.jsx)(S.j,{className:"m-0"}),u&&(0,I.jsxs)("div",{className:"flex justify-between px-4 mt-3",children:[(0,I.jsx)("div",{className:"flex",children:x.map(function(e){return(0,I.jsx)(q.Z,{options:e.options,onChange:e.onChange,current:e.current,title:e.title},null==e?void 0:e.title)})}),(0,I.jsx)("div",{children:(0,I.jsx)(b.k,{className:"text-iconFontColor text-xl cursor-pointer",onClick:y})})]}),(0,I.jsx)("div",{className:"p-3 px-4 pb-16 mt-4 min-h-[40vh]",children:(0,I.jsx)(E.Z,{closingContractOrder:d,list:s,loadMore:r,error:i,total:o,closeContractOrder:c,orderTabSelected:n,loading:a})}),(0,I.jsx)(A.e,{open:N,onClose:C,onCancel:C,onConfirm:function(e){var n=e.start,e=e.end;null!=w&&w([n,e]),C()}})]})}var n=t(15009),s=t.n(n),n=t(97857),r=t.n(n),n=t(99289),i=t.n(n),o=t(56449),n=t(8613),b=t(95566),q=t(38586),M=t(54866),A=t(37591),Z=t(41027),S=t(55903),k=t(80854),O=t(67421),R=t(34884),L=t(6429),z=t(21257),E=t(31247),I=t(85893),a=t(54118),c=(0,n.Z)(function(e){var n=e.isShowSift,n=void 0===n||n,e=e.symbolId,t=(0,a.Z)(e);return(0,I.jsx)(o.Z,{disabled:!n,refreshFn:i()(s()().mark(function e(){return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchList(r()(r()({},t.params||{}),{},{pageNo:1}));case 2:case"end":return e.stop()}},e)})),children:(0,I.jsx)(l,r()({isShowSift:n},t))})})}}]);