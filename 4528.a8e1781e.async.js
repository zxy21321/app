"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4528],{98103:function(e,t,l){l.d(t,{Cs:function(){return i},_t:function(){return n},dp:function(){return u},gq:function(){return a},ip:function(){return F}});var b=l(73935),M=l(67294),T=l(28628),P=l(768),A=l(76644),k=l(33685);function D(e){return(0,P.ad)()?e.altKey:e.ctrlKey}function R(e){return(0,P.V5)()?e.metaKey:e.ctrlKey}const o=1e3;function F(e){let{keyboardDelegate:i,selectionManager:n,onTypeSelect:s}=e,r=(0,M.useRef)({search:"",timeout:null}).current;return{typeSelectProps:{onKeyDownCapture:i.getKeyForSearch?t=>{var l=1!==(l=t.key).length&&/^[A-Z]/i.test(l)?"":l;if(l&&!t.ctrlKey&&!t.metaKey&&t.currentTarget.contains(t.target)){" "===l&&0<r.search.trim().length&&(t.preventDefault(),"continuePropagation"in t||t.stopPropagation()),r.search+=l;let e=i.getKeyForSearch(r.search,n.focusedKey);null!=(e=null==e?i.getKeyForSearch(r.search):e)&&(n.setFocusedKey(e),s)&&s(e),clearTimeout(r.timeout),r.timeout=setTimeout(()=>{r.search=""},o)}}:null}}}function a(e){let{selectionManager:r,keyboardDelegate:o,ref:c,autoFocus:i=!1,shouldFocusWrap:a=!1,disallowEmptySelection:u=!1,disallowSelectAll:d=!1,selectOnFocus:y="replace"===r.selectionBehavior,disallowTypeAhead:t=!1,shouldUseVirtualFocus:n,allowsTabNavigation:h=!1,isVirtualized:s,scrollRef:f=c,linkBehavior:g="action"}=e,p=(0,k.bU)()["direction"],K=(0,P.tv)();let v=(0,M.useRef)({top:0,left:0});(0,P.zX)(f,"scroll",s?null:()=>{v.current={top:f.current.scrollTop,left:f.current.scrollLeft}});const S=(0,M.useRef)(i);(0,M.useEffect)(()=>{if(S.current){let e=null;"first"===i&&(e=o.getFirstKey()),"last"===i&&(e=o.getLastKey());var t=r.selectedKeys;if(t.size)for(var l of t)if(r.canSelectItem(l)){e=l;break}r.setFocused(!0),r.setFocusedKey(e),null!=e||n||(0,T.ex)(c.current)}},[]);let l=(0,M.useRef)(r.focusedKey),m=((0,M.useEffect)(()=>{var e,t=(0,A.Jz)();r.isFocused&&null!=r.focusedKey&&null!==f&&void 0!==f&&f.current&&(e=f.current.querySelector(`[data-key="${CSS.escape(r.focusedKey.toString())}"]`))&&("keyboard"===t||S.current)&&(s||(0,P.zT)(f.current,e),"virtual"!==t)&&(0,P.Gt)(e,{containingElement:c.current}),r.isFocused&&null==r.focusedKey&&null!=l.current&&(0,T.ex)(c.current),l.current=r.focusedKey,S.current=!1},[s,f,r.focusedKey,r.isFocused,c]),{onKeyDown:i=>{if(i.altKey&&"Tab"===i.key&&i.preventDefault(),c.current.contains(i.target)){var t,l=(e,t)=>{var l;null!=e&&(r.isLink(e)&&"selection"===g&&y&&!D(i)?((0,b.flushSync)(()=>{r.setFocusedKey(e,t)}),l=f.current.querySelector(`[data-key="${CSS.escape(e.toString())}"]`),K.open(l,i)):(r.setFocusedKey(e,t),r.isLink(e)&&"override"===g||(i.shiftKey&&"multiple"===r.selectionMode?r.extendSelection(e):y&&!D(i)&&r.replaceSelection(e))))};switch(i.key){case"ArrowDown":if(o.getKeyBelow){i.preventDefault();let e=null!=r.focusedKey?o.getKeyBelow(r.focusedKey):null==(t=o.getFirstKey)?void 0:t.call(o);l(e=null==e&&a?null==(t=o.getFirstKey)?void 0:t.call(o,r.focusedKey):e)}break;case"ArrowUp":if(o.getKeyAbove){i.preventDefault();let e=null!=r.focusedKey?o.getKeyAbove(r.focusedKey):null==(t=o.getLastKey)?void 0:t.call(o);l(e=null==e&&a?null==(t=o.getLastKey)?void 0:t.call(o,r.focusedKey):e)}break;case"ArrowLeft":if(o.getKeyLeftOf){i.preventDefault();let e=o.getKeyLeftOf(r.focusedKey);l(e=null==e&&a?"rtl"===p?null==(t=o.getFirstKey)?void 0:t.call(o,r.focusedKey):null==(t=o.getLastKey)?void 0:t.call(o,r.focusedKey):e,"rtl"===p?"first":"last")}break;case"ArrowRight":if(o.getKeyRightOf){i.preventDefault();let e=o.getKeyRightOf(r.focusedKey);l(e=null==e&&a?"rtl"===p?null==(t=o.getLastKey)?void 0:t.call(o,r.focusedKey):null==(t=o.getFirstKey)?void 0:t.call(o,r.focusedKey):e,"rtl"===p?"last":"first")}break;case"Home":o.getFirstKey&&(i.preventDefault(),t=o.getFirstKey(r.focusedKey,R(i)),r.setFocusedKey(t),R(i)&&i.shiftKey&&"multiple"===r.selectionMode?r.extendSelection(t):y&&r.replaceSelection(t));break;case"End":o.getLastKey&&(i.preventDefault(),t=o.getLastKey(r.focusedKey,R(i)),r.setFocusedKey(t),R(i)&&i.shiftKey&&"multiple"===r.selectionMode?r.extendSelection(t):y&&r.replaceSelection(t));break;case"PageDown":o.getKeyPageBelow&&(i.preventDefault(),l(o.getKeyPageBelow(r.focusedKey)));break;case"PageUp":o.getKeyPageAbove&&(i.preventDefault(),l(o.getKeyPageAbove(r.focusedKey)));break;case"a":R(i)&&"multiple"===r.selectionMode&&!0!==d&&(i.preventDefault(),r.selectAll());break;case"Escape":i.preventDefault(),u||r.clearSelection();break;case"Tab":if(!h)if(i.shiftKey)c.current.focus();else{var n,s=(0,T.QL)(c.current,{tabbable:!0});let e;for(;(n=s.lastChild())&&(e=n),n;);e&&!e.contains(document.activeElement)&&(0,P.Ao)(e)}}}},onFocus:e=>{var t,l;r.isFocused?e.currentTarget.contains(e.target)||r.setFocused(!1):e.currentTarget.contains(e.target)&&(r.setFocused(!0),null==r.focusedKey?(t=e=>{null!=e&&(r.setFocusedKey(e),y)&&r.replaceSelection(e)},(l=e.relatedTarget)&&e.currentTarget.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_FOLLOWING?t(null!=(e=r.lastSelectedKey)?e:o.getLastKey()):t(null!=(l=r.firstSelectedKey)?l:o.getFirstKey())):s||(f.current.scrollTop=v.current.top,f.current.scrollLeft=v.current.left),s||null==r.focusedKey||(e=f.current.querySelector(`[data-key="${CSS.escape(r.focusedKey.toString())}"]`))&&(e.contains(document.activeElement)||(0,P.Ao)(e),"keyboard"===(0,A.Jz)())&&(0,P.Gt)(e,{containingElement:c.current}))},onBlur:e=>{e.currentTarget.contains(e.relatedTarget)||r.setFocused(!1)},onMouseDown(e){f.current===e.target&&e.preventDefault()}});e=F({keyboardDelegate:o,selectionManager:r}).typeSelectProps;t||(m=(0,P.dG)(e,m));let w;return n||(w=null==r.focusedKey?0:-1),{collectionProps:{...m,tabIndex:w}}}function i(e){let{selectionManager:t,key:l,ref:i,shouldSelectOnPressUp:n,shouldUseVirtualFocus:s,focus:r,isDisabled:o,onAction:c,allowsDifferentPressOrigin:a,linkBehavior:u="action"}=e,d=(0,P.tv)(),y=e=>{if("keyboard"===e.pointerType&&D(e))t.toggleSelection(l);else if("none"!==t.selectionMode){if(t.isLink(l)){if("selection"===u)return d.open(i.current,e),void t.setSelectedKeys(t.selectedKeys);if("override"===u||"none"===u)return}"single"===t.selectionMode?t.isSelected(l)&&!t.disallowEmptySelection?t.toggleSelection(l):t.replaceSelection(l):e&&e.shiftKey?t.extendSelection(l):"toggle"===t.selectionBehavior||e&&(R(e)||"touch"===e.pointerType||"virtual"===e.pointerType)?t.toggleSelection(l):t.replaceSelection(l)}},h=((0,M.useEffect)(()=>{l===t.focusedKey&&t.isFocused&&!s&&(r?r():document.activeElement!==i.current&&(0,T.ex)(i.current))},[i,l,t.focusedKey,t.childFocusStrategy,t.isFocused,s]),o=o||t.isDisabled(l),{});s||o?o&&(h.onMouseDown=e=>{e.preventDefault()}):h={tabIndex:l===t.focusedKey?0:-1,onFocus(e){e.target===i.current&&t.setFocusedKey(l)}};e=t.isLink(l)&&"override"===u;let f=t.isLink(l)&&"selection"!==u&&"none"!==u,g=!o&&t.canSelectItem(l)&&!e,p=(c||f)&&!o,K=p&&("replace"===t.selectionBehavior?!g:!g||t.isEmpty),v=p&&g&&"replace"===t.selectionBehavior,S=K||v,m=(0,M.useRef)(null),w=S&&g,b=(0,M.useRef)(!1),k=(0,M.useRef)(!1),F=e=>{c&&c(),f&&d.open(i.current,e)};var e={},{pressProps:e,isPressed:x}=(n?(e.onPressStart=e=>{m.current=e.pointerType,b.current=w,"keyboard"!==e.pointerType||S&&!N()||y(e)},a?(e.onPressUp=K?null:e=>{"keyboard"!==e.pointerType&&g&&y(e)},e.onPress=K?F:null):e.onPress=e=>{K||v&&"mouse"!==e.pointerType?"keyboard"===e.pointerType&&!E()||F(e):"keyboard"!==e.pointerType&&g&&y(e)}):(e.onPressStart=e=>{m.current=e.pointerType,b.current=w,k.current=K,g&&("mouse"===e.pointerType&&!K||"keyboard"===e.pointerType&&(!p||N()))&&y(e)},e.onPress=e=>{("touch"===e.pointerType||"pen"===e.pointerType||"virtual"===e.pointerType||"keyboard"===e.pointerType&&S&&E()||"mouse"===e.pointerType&&k.current)&&(S?F(e):g&&y(e))}),h["data-key"]=l,e.preventFocusOnPress=s,(0,A.r7)(e)),C=v?e=>{"mouse"===m.current&&(e.stopPropagation(),e.preventDefault(),F(e))}:void 0,I=(0,A.TA)({isDisabled:!w,onLongPress(e){"touch"===e.pointerType&&(y(e),t.setSelectionBehavior("toggle"))}})["longPressProps"],B=t.isLink(l)?e=>{P.nG.isOpening||e.preventDefault()}:void 0;return{itemProps:(0,P.dG)(h,g||K?e:{},w?I:{},{onDoubleClick:C,onDragStartCapture:e=>{"touch"===m.current&&b.current&&e.preventDefault()},onClick:B}),isPressed:x,isSelected:t.isSelected(l),isFocused:t.isFocused&&t.focusedKey===l,isDisabled:o,allowsSelection:g,hasAction:S}}function E(){var e=window.event;return"Enter"===(null==e?void 0:e.key)}function N(){var e=window.event;return" "===(null==e?void 0:e.key)||"Space"===(null==e?void 0:e.code)}class u{getNextKey(e){for(e=this.collection.getKeyAfter(e);null!=e;){if("item"===this.collection.getItem(e).type&&!this.disabledKeys.has(e))return e;e=this.collection.getKeyAfter(e)}return null}getPreviousKey(e){for(e=this.collection.getKeyBefore(e);null!=e;){if("item"===this.collection.getItem(e).type&&!this.disabledKeys.has(e))return e;e=this.collection.getKeyBefore(e)}return null}findKey(e,t,l){let i=this.getItem(e);if(!i)return null;for(var n=i.getBoundingClientRect();e=t(e),(i=this.getItem(e))&&l(n,i.getBoundingClientRect()););return e}isSameRow(e,t){return e.top===t.top||e.left!==t.left}isSameColumn(e,t){return e.left===t.left||e.top!==t.top}getKeyBelow(e){return"grid"===this.layout&&"vertical"===this.orientation?this.findKey(e,e=>this.getNextKey(e),this.isSameRow):this.getNextKey(e)}getKeyAbove(e){return"grid"===this.layout&&"vertical"===this.orientation?this.findKey(e,e=>this.getPreviousKey(e),this.isSameRow):this.getPreviousKey(e)}getNextColumn(e,t){return t?this.getPreviousKey(e):this.getNextKey(e)}getKeyRightOf(e){return"grid"===this.layout?"vertical"===this.orientation?this.getNextColumn(e,"rtl"===this.direction):this.findKey(e,e=>this.getNextColumn(e,"rtl"===this.direction),this.isSameColumn):"horizontal"===this.orientation?this.getNextColumn(e,"rtl"===this.direction):null}getKeyLeftOf(e){return"grid"===this.layout?"vertical"===this.orientation?this.getNextColumn(e,"ltr"===this.direction):this.findKey(e,e=>this.getNextColumn(e,"ltr"===this.direction),this.isSameColumn):"horizontal"===this.orientation?this.getNextColumn(e,"ltr"===this.direction):null}getFirstKey(){let e=this.collection.getFirstKey();for(;null!=e;){var t=this.collection.getItem(e);if("item"===(null==t?void 0:t.type)&&!this.disabledKeys.has(e))return e;e=this.collection.getKeyAfter(e)}return null}getLastKey(){let e=this.collection.getLastKey();for(;null!=e;){if("item"===this.collection.getItem(e).type&&!this.disabledKeys.has(e))return e;e=this.collection.getKeyBefore(e)}return null}getItem(e){return this.ref.current.querySelector(`[data-key="${CSS.escape(e.toString())}"]`)}getKeyPageAbove(e){var t=this.ref.current;let l=this.getItem(e);if(!l)return null;if(!(0,P.a9)(t))return this.getFirstKey();var i=t.getBoundingClientRect();let n=l.getBoundingClientRect();if("horizontal"===this.orientation)for(var s=i.x-t.scrollLeft,r=Math.max(0,n.x-s+n.width-i.width);l&&n.x-s>r;)e=this.getKeyAbove(e),l=null==e?null:this.getItem(e),n=null===l||void 0===l?void 0:l.getBoundingClientRect();else for(var o=i.y-t.scrollTop,c=Math.max(0,n.y-o+n.height-i.height);l&&n.y-o>c;)e=this.getKeyAbove(e),l=null==e?null:this.getItem(e),n=null===l||void 0===l?void 0:l.getBoundingClientRect();return null!=e?e:this.getFirstKey()}getKeyPageBelow(e){var t=this.ref.current;let l=this.getItem(e);if(!l)return null;if(!(0,P.a9)(t))return this.getLastKey();var i=t.getBoundingClientRect();let n=l.getBoundingClientRect();if("horizontal"===this.orientation)for(var s=i.x-t.scrollLeft,r=Math.min(t.scrollWidth,n.x-s-n.width+i.width);l&&n.x-s<r;)e=this.getKeyBelow(e),l=null==e?null:this.getItem(e),n=null===l||void 0===l?void 0:l.getBoundingClientRect();else for(var o=i.y-t.scrollTop,c=Math.min(t.scrollHeight,n.y-o-n.height+i.height);l&&n.y-o<c;)e=this.getKeyBelow(e),l=null==e?null:this.getItem(e),n=null===l||void 0===l?void 0:l.getBoundingClientRect();return null!=e?e:this.getLastKey()}getKeyForSearch(t,l){if(this.collator){var i=this.collection;let e=l||this.getFirstKey();for(;null!=e;){var n=i.getItem(e),s=n.textValue.slice(0,t.length);if(n.textValue&&0===this.collator.compare(s,t))return e;e=this.getKeyBelow(e)}}return null}constructor(...e){var t;1===e.length?(t=e[0],this.collection=t.collection,this.ref=t.ref,this.collator=t.collator,this.disabledKeys=t.disabledKeys||new Set,this.orientation=t.orientation,this.direction=t.direction,this.layout=t.layout||"stack"):(this.collection=e[0],this.disabledKeys=e[1],this.ref=e[2],this.collator=e[3],this.layout="stack",this.orientation="vertical"),"stack"===this.layout&&"vertical"===this.orientation&&(this.getKeyLeftOf=void 0,this.getKeyRightOf=void 0)}}function n(e){let{selectionManager:t,collection:l,disabledKeys:i,ref:n,keyboardDelegate:s}=e,r=(0,k.Xe)({usage:"search",sensitivity:"base"}),o=t.disabledBehavior;var c=(0,M.useMemo)(()=>s||new u(l,"selection"===o?new Set:i,n,r),[s,l,i,n,r,o]),e=a({...e,ref:n,selectionManager:t,keyboardDelegate:c})["collectionProps"];return{listProps:e}}},67911:function(e,t,l){l.d(t,{Kx:function(){return s},_P:function(){return r},ck:function(){return n},eg:function(){return a},is:function(){return y},l8:function(){return c}});var h=l(67294);function i(e){return null}i.getCollectionNode=function*(e,t){let{childItems:l,title:i,children:n}=e;var s=e.title||e.children,r=e.textValue||("string"==typeof s?s:"")||e["aria-label"]||"";r||null!=t&&t.suppressTextValueWarning||console.warn("<Item> with non-plain text contents is unsupported by type to select for accessibility. Please add a `textValue` prop."),yield{type:"item",props:e,rendered:s,textValue:r,"aria-label":e["aria-label"],hasChildNodes:null!=(t=e).hasChildItems?t.hasChildItems:!!t.childItems||!!(t.title&&0<h.Children.count(t.children)),*childNodes(){if(l)for(var e of l)yield{type:"item",value:e};else if(i){let t=[];h.Children.forEach(n,e=>{t.push({type:"item",element:e})}),yield*t}}}};let n=i;class o{build(e,t){return this.context=t,f(()=>this.iterateCollection(e))}*iterateCollection(e){var l,{children:i,items:t}=e;if("function"==typeof i){if(!t)throw new Error("props.children was a function but props.items is missing");for(var n of e.items)yield*this.getFullNode({value:n},{renderer:i})}else{let t=[],e=(h.Children.forEach(i,e=>{t.push(e)}),0);for(var s of t)for(l of this.getFullNode({element:s,index:e},{}))e++,yield l}}getKey(e,t,l,i){if(null!=e.key)return e.key;if("cell"===t.type&&null!=t.key)return""+i+t.key;e=t.value;if(null==e)return i?i+"."+t.index:"$."+t.index;t=null!=(i=e.key)?i:e.id;if(null==t)throw new Error("No key found for item");return t}getChildState(e,t){return{renderer:t.renderer||e.renderer}}*getFullNode(s,r,i,o){let n=s.element;if(!n&&s.value&&r&&r.renderer){var e=this.cache.get(s.value);if(e&&(!e.shouldInvalidate||!e.shouldInvalidate(this.context)))return e.index=s.index,e.parentKey=o?o.key:null,void(yield e);n=r.renderer(s.value)}if(h.isValidElement(n)){var c,e=n.type;if("function"!=typeof e&&"function"!=typeof e.getCollectionNode)throw c="function"==typeof n.type?n.type.name:n.type,new Error(`Unknown element <${c}> in collection.`);var a=e.getCollectionNode(n.props,this.context);let t=s.index,l=a.next();for(;!l.done&&l.value;){var u=l.value;s.index=t;let e=u.key;e=e||(u.element?null:this.getKey(n,s,r,i));var d,y=[...this.getFullNode({...u,key:e,index:t,wrapper:function(t,l){return t&&l?e=>t(l(e)):t||l||void 0}(s.wrapper,u.wrapper)},this.getChildState(r,u),i?""+i+n.key:n.key,o)];for(d of y){if(d.value=u.value||s.value,d.value&&this.cache.set(d.value,d),s.type&&d.type!==s.type)throw new Error(`Unsupported type <${g(d.type)}> in <${g(o.type)}>. Only <${g(s.type)}> is supported.`);t++,yield d}l=a.next(y)}}else if(null!=s.key){let i=this,n={type:s.type,props:s.props,key:s.key,parentKey:o?o.key:null,value:s.value,level:o?o.level+1:0,index:s.index,rendered:s.rendered,textValue:s.textValue,"aria-label":s["aria-label"],wrapper:s.wrapper,shouldInvalidate:s.shouldInvalidate,hasChildNodes:s.hasChildNodes,childNodes:f(function*(){if(s.hasChildNodes){let e=0;for(var t of s.childNodes()){var l;null!=t.key&&(t.key=""+n.key+t.key),t.index=e;for(l of i.getFullNode(t,i.getChildState(r,t),n.key,n))e++,yield l}}})};yield n}}constructor(){this.cache=new WeakMap}}function f(l){let i=[],n=null;return{*[Symbol.iterator](){for(var e of i)yield e;for(var t of n=n||l())i.push(t),yield t}}}function g(e){return e[0].toUpperCase()+e.slice(1)}function s(e,t,l){let i=(0,h.useMemo)(()=>new o,[]),{children:n,items:s,collection:r}=e;return(0,h.useMemo)(()=>{var e;return r||(e=i.build({children:n,items:s},l),t(e))},[i,n,s,r,l,t])}function r(e,t){return"function"==typeof t.getChildren?t.getChildren(e.key):e.childNodes}function c(t){{var l=0;if(!(l<0)){let e=0;for(var i of t){if(e===l)return i;e++}}}}function a(e,t,l){if(t.parentKey===l.parentKey)return t.index-l.index;var i=[...u(e,t),t];let n=[...u(e,l),l];e=i.slice(0,n.length).findIndex((e,t)=>e!==n[t]);return-1!==e?(t=i[e],l=n[e],t.index-l.index):0<=i.findIndex(e=>e===l)?1:(n.findIndex(e=>e===t),-1)}function u(e,t){for(var l=[];null!=(null==t?void 0:t.parentKey);)t=e.getItem(t.parentKey),l.unshift(t);return l}const d=new WeakMap;function y(i){let n=d.get(i);if(null==n){n=0;let l=e=>{for(var t of e)"section"===t.type?l(r(t,i)):n++};l(i),d.set(i,n)}return n}},96417:function(e,t,l){l.d(t,{Z:function(){return s},q:function(){return i}});var v=l(65897),S=l(67294),n=l(67911);class m extends Set{constructor(e,t,l){super(e),e instanceof m?(this.anchorKey=t||e.anchorKey,this.currentKey=l||e.currentKey):(this.anchorKey=t,this.currentKey=l)}}function i(e){let{selectionMode:t="none",disallowEmptySelection:l,allowDuplicateSelectionEvents:i,selectionBehavior:n="toggle",disabledBehavior:s="all"}=e,r=(0,S.useRef)(!1),[,o]=(0,S.useState)(!1),c=(0,S.useRef)(null),a=(0,S.useRef)(null),[,u]=(0,S.useState)(null);var d=(0,S.useMemo)(()=>w(e.selectedKeys),[e.selectedKeys]),y=(0,S.useMemo)(()=>w(e.defaultSelectedKeys,new m),[e.defaultSelectedKeys]);let[h,f]=(0,v.zk)(d,y,e.onSelectionChange);d=(0,S.useMemo)(()=>e.disabledKeys?new Set(e.disabledKeys):new Set,[e.disabledKeys]);let[g,p]=(0,S.useState)(n),K=("replace"===n&&"toggle"===g&&"object"==typeof h&&0===h.size&&p("replace"),(0,S.useRef)(n));return(0,S.useEffect)(()=>{n!==K.current&&(p(n),K.current=n)},[n]),{selectionMode:t,disallowEmptySelection:l,selectionBehavior:g,setSelectionBehavior:p,get isFocused(){return r.current},setFocused(e){r.current=e,o(e)},get focusedKey(){return c.current},get childFocusStrategy(){return a.current},setFocusedKey(e,t="first"){c.current=e,a.current=t,u(e)},selectedKeys:h,setSelectedKeys(e){!i&&function(e,t){if(e.size===t.size){for(var l of e)if(!t.has(l))return;return 1}}(e,h)||f(e)},disabledKeys:d,disabledBehavior:s}}function w(e,t){return e?"all"===e?"all":new m(e):t}class s{get selectionMode(){return this.state.selectionMode}get disallowEmptySelection(){return this.state.disallowEmptySelection}get selectionBehavior(){return this.state.selectionBehavior}setSelectionBehavior(e){this.state.setSelectionBehavior(e)}get isFocused(){return this.state.isFocused}setFocused(e){this.state.setFocused(e)}get focusedKey(){return this.state.focusedKey}get childFocusStrategy(){return this.state.childFocusStrategy}setFocusedKey(e,t){null!=e&&!this.collection.getItem(e)||this.state.setFocusedKey(e,t)}get selectedKeys(){return"all"===this.state.selectedKeys?new Set(this.getSelectAllKeys()):this.state.selectedKeys}get rawSelection(){return this.state.selectedKeys}isSelected(e){return"none"!==this.state.selectionMode&&(e=this.getKey(e),"all"===this.state.selectedKeys?this.canSelectItem(e):this.state.selectedKeys.has(e))}get isEmpty(){return"all"!==this.state.selectedKeys&&0===this.state.selectedKeys.size}get isSelectAll(){if(this.isEmpty)return!1;if("all"===this.state.selectedKeys)return!0;if(null==this._isSelectAll){var e=this.getSelectAllKeys();let t=this.state.selectedKeys;this._isSelectAll=e.every(e=>t.has(e))}return this._isSelectAll}get firstSelectedKey(){let e=null;for(var t of this.state.selectedKeys){t=this.collection.getItem(t);(!e||t&&(0,n.eg)(this.collection,t,e)<0)&&(e=t)}return null===e||void 0===e?void 0:e.key}get lastSelectedKey(){let e=null;for(var t of this.state.selectedKeys){t=this.collection.getItem(t);(!e||t&&0<(0,n.eg)(this.collection,t,e))&&(e=t)}return null===e||void 0===e?void 0:e.key}get disabledKeys(){return this.state.disabledKeys}get disabledBehavior(){return this.state.disabledBehavior}extendSelection(t){if("none"!==this.selectionMode)if("single"===this.selectionMode)this.replaceSelection(t);else{t=this.getKey(t);let e;if("all"===this.state.selectedKeys)e=new m([t],t,t);else{var l,i,n=this.state.selectedKeys,s=n.anchorKey||t;e=new m(n,s,t);for(l of this.getKeyRange(s,n.currentKey||t))e.delete(l);for(i of this.getKeyRange(t,s))this.canSelectItem(i)&&e.add(i)}this.state.setSelectedKeys(e)}}getKeyRange(e,t){var l=this.collection.getItem(e),i=this.collection.getItem(t);return l&&i?(0,n.eg)(this.collection,l,i)<=0?this.getKeyRangeInternal(e,t):this.getKeyRangeInternal(t,e):[]}getKeyRangeInternal(e,t){var l=[];let i=e;for(;i;){var n=this.collection.getItem(i);if((n&&"item"===n.type||"cell"===n.type&&this.allowsCellSelection)&&l.push(i),i===t)return l;i=this.collection.getKeyAfter(i)}return[]}getKey(e){let t=this.collection.getItem(e);if(!t)return e;if("cell"===t.type&&this.allowsCellSelection)return e;for(;"item"!==t.type&&null!=t.parentKey;)t=this.collection.getItem(t.parentKey);return t&&"item"===t.type?t.key:null}toggleSelection(e){var t;"none"!==this.selectionMode&&("single"!==this.selectionMode||this.isSelected(e)?null==(e=this.getKey(e))||((t=new m("all"===this.state.selectedKeys?this.getSelectAllKeys():this.state.selectedKeys)).has(e)?t.delete(e):this.canSelectItem(e)&&(t.add(e),t.anchorKey=e,t.currentKey=e),this.disallowEmptySelection&&0===t.size)||this.state.setSelectedKeys(t):this.replaceSelection(e))}replaceSelection(e){"none"!==this.selectionMode&&null!=(e=this.getKey(e))&&(e=this.canSelectItem(e)?new m([e],e,e):new m,this.state.setSelectedKeys(e))}setSelectedKeys(e){if("none"!==this.selectionMode){var t,l=new m;for(t of e)if(null!=(t=this.getKey(t))&&(l.add(t),"single"===this.selectionMode))break;this.state.setSelectedKeys(l)}}getSelectAllKeys(){let l=[],i=e=>{for(;e;){var t;this.canSelectItem(e)&&("item"===(t=this.collection.getItem(e)).type&&l.push(e),t.hasChildNodes)&&(this.allowsCellSelection||"item"!==t.type)&&i((0,n.l8)((0,n._P)(t,this.collection)).key),e=this.collection.getKeyAfter(e)}};return i(this.collection.getFirstKey()),l}selectAll(){this.isSelectAll||"multiple"!==this.selectionMode||this.state.setSelectedKeys("all")}clearSelection(){!this.disallowEmptySelection&&("all"===this.state.selectedKeys||0<this.state.selectedKeys.size)&&this.state.setSelectedKeys(new m)}toggleSelectAll(){this.isSelectAll?this.clearSelection():this.selectAll()}select(e,t){"none"!==this.selectionMode&&("single"===this.selectionMode?this.isSelected(e)&&!this.disallowEmptySelection?this.toggleSelection(e):this.replaceSelection(e):"toggle"===this.selectionBehavior||t&&("touch"===t.pointerType||"virtual"===t.pointerType)?this.toggleSelection(e):this.replaceSelection(e))}isSelectionEqual(e){if(e!==this.state.selectedKeys){var t,l,i=this.selectedKeys;if(e.size!==i.size)return!1;for(t of e)if(!i.has(t))return!1;for(l of i)if(!e.has(l))return!1}return!0}canSelectItem(e){return"none"!==this.state.selectionMode&&!this.state.disabledKeys.has(e)&&!(!(e=this.collection.getItem(e))||"cell"===e.type&&!this.allowsCellSelection)}isDisabled(e){return this.state.disabledKeys.has(e)&&"all"===this.state.disabledBehavior}isLink(e){return!(null==(e=this.collection.getItem(e))||null==(e=e.props)||!e.href)}constructor(e,t,l){this.collection=e,this.state=t,this.allowsCellSelection=null!=(e=null==l?void 0:l.allowsCellSelection)&&e,this._isSelectAll=null}}}}]);