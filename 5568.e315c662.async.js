"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5568],{24355:function(e,n,r){r.d(n,{E:function(){return l}});var n=r(97857),t=r.n(n),o=(r(67294),r(85893));function l(e){return(0,o.jsx)("svg",t()(t()({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},e),{},{children:(0,o.jsx)("path",{fill:"currentColor",d:"m8.85 16.825l3.15-1.9l3.15 1.925l-.825-3.6l2.775-2.4l-3.65-.325l-1.45-3.4l-1.45 3.375l-3.65.325l2.775 2.425zm3.15.45l-4.15 2.5q-.275.175-.575.15t-.525-.2q-.225-.175-.35-.437t-.05-.588l1.1-4.725L3.775 10.8q-.25-.225-.312-.513t.037-.562q.1-.275.3-.45t.55-.225l4.85-.425l1.875-4.45q.125-.3.388-.45t.537-.15q.275 0 .537.15t.388.45l1.875 4.45l4.85.425q.35.05.55.225t.3.45q.1.275.038.563t-.313.512l-3.675 3.175l1.1 4.725q.075.325-.05.588t-.35.437q-.225.175-.525.2t-.575-.15zm0-5.025"})}))}},83018:function(e,n,r){var t=r(97857),m=r.n(t),p=r(60854),v=r(80854),h=r(45908),f=r(67294),S=r(85893);n.Z=function(e){var n=e.value,r=e.style,t=e.className,o=e.len,l=e.ratio,a=e.propsColor,e=e.isSubLen,e=void 0===e||e,i=null!=(i=(0,h.Z)(n))?i:"0",s={borderRadius:"5px",display:"inline-block"},u=m()({},s),c=(0,v.useModel)("system").upDownColorConfig,d="0"!==n?n:i,n=(Number(n)>Number(i)?u=m()(m()({},s),{},{color:"upGreen"===c?"#2db880":"#ee4456"}):Number(n)<Number(i)&&(u=m()(m()({},s),{},{color:"upGreen"===c?"#ee4456":"#2db880"})),m()(m()({},u),r)),i=(0,f.useMemo)(function(){return d?o||0===o?p.Z.FormatAmount(d,o):p.Z.FormatAmount(d):(0,S.jsx)("span",{className:"color_secondary",children:"0"})},[d,o]);return e?(0,S.jsxs)("div",{style:a?m()(m()({},n),{},{color:a}):n,className:"flex justify-center items-center  ".concat(t),children:[i," ",l?"%":""]}):(0,S.jsxs)("span",{style:n,className:t,children:[d," ",l?"%":""]})}},75700:function(e,n,r){r.d(n,{Z:function(){return o}});var n=r(5574),d=r.n(n),n=r(97857),t=r.n(n),m=r(67294),p=r(85893);function v(e){return(0,p.jsx)("svg",t()(t()({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},e),{},{children:(0,p.jsx)("path",{fill:"currentColor",d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2L9.19 8.63L2 9.24l5.46 4.73L5.82 21z"})}))}var h=r(24355),f=r(6429),S=r(86547),y=r(50040),C=r(80854),b=r(81481),g=r(62410),w=r(78234),_=r(77598),x=r(67421),k=r(55678);function o(e){function n(){+r===f.XC.CONTRACT_COLLECT&&c({sourceId:null==o?void 0:o.id}),+r===f.XC.COIN_COLLECT&&c({sourceId:null==l?void 0:l.id})}var r=e.collectType,t=(0,x.$G)().t,o=(0,C.useModel)("contract").localContract,l=(0,C.useModel)("coin").localCoin,e=(0,m.useState)(!1),e=d()(e,2),a=e[0],i=e[1],s=(0,y.lS)(S.gn,{manual:!0,onSuccess:function(){i(!0),k.Am.success(t("已成功"))},onError:function(){i(!1),k.Am.error(t("收藏失败,请稍后再试"))}}).run,u=(0,y.lS)(S.GJ,{manual:!0,onSuccess:function(){i(!1),k.Am.success(t("已取消"))},onError:function(){i(!0),k.Am.error(t("取消收藏失败,请稍后再试"))}}).run,c=(0,y.lS)(S.h8,{onSuccess:function(e){i(e)}}).run;return(0,w.Z)(function(){n()}),(0,_.Z)(function(){n()},[r,o,l]),(0,p.jsx)("div",{onClick:function(e){e.stopPropagation},children:(0,p.jsx)(b.A,{isIconOnly:!0,className:(0,g.cn)("",{}),radius:"full",size:"sm",variant:"flat",onPress:function(){a?(+r===f.XC.CONTRACT_COLLECT&&u({ids:null==o?void 0:o.id}),+r===f.XC.COIN_COLLECT&&u({ids:null==l?void 0:l.id})):(+r===f.XC.CONTRACT_COLLECT&&s({sourceId:null==o?void 0:o.id,isTripartite:r}),+r===f.XC.COIN_COLLECT&&s({sourceId:null==l?void 0:l.id,isTripartite:r}))},children:a?(0,p.jsx)(v,{className:"text-primary text-xl"}):(0,p.jsx)(h.E,{className:"text-xl"})})})}},46546:function(e,n,r){var t=r(97857),s=r.n(t),t=r(5574),u=r.n(t),c=r(67294),d=r(85893);n.Z=function(e){function n(){l||a(!0)}var r=e.value,t=e.onChange,e=e.options,o=(0,c.useState)(!1),o=u()(o,2),l=o[0],a=o[1],i=(0,c.useRef)(null);return(0,c.useEffect)(function(){var e=setTimeout(function(){a(!1)},1e3);return function(){clearTimeout(e)}},[l]),(0,c.useEffect)(function(){var e=i.current;return null!=e&&e.addEventListener("scroll",n),function(){null!=e&&e.removeEventListener("scroll",n)}},[]),(0,d.jsx)("div",{ref:i,style:s()({display:"flex",overflowX:"auto",whiteSpace:"nowrap",scrollbarWidth:"none",msOverflowStyle:"none"},l&&{scrollbarWidth:"thin",msOverflowStyle:"scrollbar"}),onScroll:n,children:e.map(function(e,n){return(0,d.jsx)("span",{onClick:function(){return t(e.value)},style:{margin:"0 10px",marginLeft:0===n?0:10},className:e.value===r?"font-bold":"text-auxiliaryTextColor border-[none]",children:e.text},e.value)})})}},58080:function(e,n,r){r.d(n,{Z:function(){return t}});var n=r(97857),w=r.n(n),n=r(5574),_=r.n(n),x=r(80854),d=r(78234),m=r(45210),k=r(77598),p=r(82010),P=r(67294),v=r(46546),h={chart_container:"chart_container___koFlT"},n=r(15009),T=r.n(n),n=r(99289),A=r.n(n),n=r(19632),D=r.n(n),M=r(60854);var L=function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=2<arguments.length?arguments[2]:void 0,t=(0,x.useModel)("kline"),o=t.setInterval,l=t.supported_resolutions,t=(t.setHasReq,(0,x.useModel)("system").upDownColorConfig),a=function(){var n=A()(T()().mark(function e(n){return T()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o(n);case 1:case"end":return e.stop()}},e)}));return function(e){return n.apply(this,arguments)}}(),t={container_id:"chart_container",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,library_path:"/scripts/charting_library/",debug:!1,fullscreen:!1,allow_symbol_change:!0,autosize:!0,autoscale:!0,disabled_features:["header_symbol_search","header_compare","symbol_search_hot_key","compare_symbol","symbol_info","go_to_date","timeframes_toolbar","save_chart_properties_to_local_storage","volume_force_overlay","left_toolbar","header_saveload","header_undo_redo","header_indicators","header_fullscreen_button","header_screenshot","header_widget","upGreen"===t?"":"use_localstorage_for_settings"],loading_screen:{backgroundColor:r},overrides:"upGreen"===t?{"paneProperties.background":r}:w()({"paneProperties.background":r},{"mainSeriesProperties.style":0,"mainSeriesProperties.candleStyle.upColor":"#ee4456","mainSeriesProperties.candleStyle.downColor":"#2db880","mainSeriesProperties.candleStyle.drawWick":!0,"mainSeriesProperties.candleStyle.drawBorder":!0,"mainSeriesProperties.candleStyle.borderColor":"#ee4456","mainSeriesProperties.candleStyle.borderUpColor":"#ee4456","mainSeriesProperties.candleStyle.borderDownColor":"#2db880","mainSeriesProperties.candleStyle.wickUpColor":"#ee4456","mainSeriesProperties.candleStyle.wickDownColor":"#2db880","mainSeriesProperties.candleStyle.barColorsOnPrevClose":!1,"mainSeriesProperties.hollowCandleStyle.upColor":"#ee4456","mainSeriesProperties.hollowCandleStyle.downColor":"#2db880","mainSeriesProperties.hollowCandleStyle.drawWick":!0,"mainSeriesProperties.hollowCandleStyle.drawBorder":!0,"mainSeriesProperties.hollowCandleStyle.borderColor":"#2db880","mainSeriesProperties.hollowCandleStyle.borderUpColor":"#2db880","mainSeriesProperties.hollowCandleStyle.borderDownColor":"#ee4456","mainSeriesProperties.hollowCandleStyle.wickColor":"#737375","mainSeriesProperties.haStyle.upColor":"#ee4456","mainSeriesProperties.haStyle.downColor":"#2db880","mainSeriesProperties.haStyle.drawWick":!0,"mainSeriesProperties.haStyle.drawBorder":!0,"mainSeriesProperties.haStyle.borderColor":"#2db880","mainSeriesProperties.haStyle.borderUpColor":"#ee4456","mainSeriesProperties.haStyle.borderDownColor":"#2db880","mainSeriesProperties.haStyle.wickColor":"#737375","mainSeriesProperties.haStyle.barColorsOnPrevClose":!1,"mainSeriesProperties.barStyle.upColor":"#ee4456","mainSeriesProperties.barStyle.downColor":"#2db880","mainSeriesProperties.barStyle.barColorsOnPrevClose":!1,"mainSeriesProperties.barStyle.dontDrawOpen":!1})};var i={supports_time:!0,supported_resolutions:l,supports_marks:!0,supports_timescale_marks:!0,exchanges:["MEKE"],supports_search:!1,supports_group_request:!1},s={name:e,description:"",ticker:e,listed_exchange:"Binance12",type:"forex",session:"24x7",minmov:1,pricescale:function(e){return e=(e=0<arguments.length&&void 0!==e?e:0)?Math.pow(10,e):1}(n),has_intraday:!0,has_daily:!0,currency_code:"",intraday_multipliers:["1"],has_weekly_and_monthly:!1,has_no_volume:!1,regular_session:"24x7"};return{changeTime:a,chartConfig:t,onReady:function(e){e(i)},formatKlineData:function(e){var n;return{time:Number(e.ts),open:null!=(n=parseFloat(e.o))?n:0,high:null!=(n=parseFloat(e.h))?n:0,low:null!=(n=parseFloat(e.l))?n:0,close:null!=(n=parseFloat(e.c))?n:0,volume:parseFloat(null!=(n=null==e?void 0:e.v)?n:0)}},resolveSymbol:function(e,n,r){setTimeout(function(){n(s)},0)}}},f=function(e){var e=e.chartProperties,n=(0,x.useModel)("kline"),r=n.klineData,t=void 0===r?[]:r,d=n.setKlineData,o=n.loading,m=n.requestKlinInfo,p=n.interval,r=(n.LocalChartInfo,null==e?void 0:e.title),v=null==e?void 0:e.symbol,n=null==e?void 0:e.len,e=(0,x.useModel)("socket"),l=e.marketList,a=e.getLastKline,e=(e.lastKlineList,e.getSocketRowByName),i=(0,P.useState)(null),i=_()(i,2),s=i[0],u=i[1],i=L(r,n),r=i.onReady,n=i.resolveSymbol,h=i.formatKlineData,c=e(v),i=(0,P.useState)(0),e=_()(i,2),f=e[0],S=e[1],y=a(v),C=((0,k.Z)(function(){var e,n;(null==y?void 0:y.s)===v&&!o&&null!=l&&l.length&&null!=t&&t.length&&null!=y&&y.ts&&s&&(console.log(M.Z.formatDate(null==y?void 0:y.ts),"最新数据时间"),null!=t)&&t.length&&(e=null==t?void 0:t.find(function(e){return(null==e?void 0:e.ts)===(null==y?void 0:y.ts)}),n=null==(n=t[t.length-1])?void 0:n.ts,null!=y&&y.ts&&n&&(null==y?void 0:y.ts)<n?console.error(M.Z.formatDate(null==y?void 0:y.ts),"数据小于数组里面的数据，不插入图表"):(null==e?void 0:e.ts)!==n&&e||(console.log(v,y,"插入新数据哦"),s(h(y)),d(function(e){return[].concat(D()(e),[y])}),n=(new Date).getTime(),S(n)))},[null==y?void 0:y.ts]),!1),b=[],g="",i=function(){var i=A()(T()().mark(function e(n,r,t,o,l,a,i){var s,u,c;return T()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(g===(null==(s=b)||null==(s=s[0])?void 0:s.ts)||C)return l([],{noData:!0}),e.abrupt("return");e.next=3;break;case 3:if(e.prev=3,i||null!=(s=b)&&null!=(s=s[0])&&s.ts)return e.next=7,m({timeSpan:function(e){if(null==(e=e.match(/[a-zA-Z]+/))||!e[0])return"min";switch(null==e?void 0:e[0]){case"D":case"d":return"day";case"W":case"w":return"week";case"M":case"m":return"month";default:return"min"}}(p),symbol:v,time:parseInt(p.match(/\d+/)[0],10),endTimestamp:null!=(u=null==(u=b)||null==(u=u[0])?void 0:u.ts)?u:"",noMsg:!0});e.next=13;break;case 7:u=e.sent,g=null!=(c=null==(c=b)||null==(c=c[0])?void 0:c.ts)?c:"",b=(b=(c=null!=u?u:[]).concat(b)).sort(function(e,n){return(null==e?void 0:e.ts)-(null==n?void 0:n.ts)}),!i&&(0===(null==c?void 0:c.length)||(null==c?void 0:c.length)<10)&&(C=!0);case 13:0===b.length?l([],{noData:!0}):(d(b),c=b.map(function(e){return h(e)}),l(c,{noData:!1})),e.next=18;break;case 16:e.prev=16,e.t0=e.catch(3);case 18:case"end":return e.stop()}},e,null,[[3,16]])}));return function(e,n,r,t,o,l,a){return i.apply(this,arguments)}}();return(0,k.Z)(function(){var e,n,r;2e3<(new Date).getTime()-f&&!o&&null!=l&&l.length&&null!=t&&t.length&&0!==c.a&&(e=t[t.length-1],n=null==c?void 0:c.a)&&e&&(r=w()(w()({},e),{},{c:n,h:Math.max(null==e?void 0:e.h,n),l:Math.min(null==e?void 0:e.l,n)}),0===f||2e3<(new Date).getTime()-f?(s&&s(h(r)),(n>e.h||n<(null==e?void 0:e.l))&&d(function(e){return[].concat(D()(e.slice(0,-1)),[r])})):console.log("时间小于两秒暂时不更新"))},[c,t]),{onReady:r,resolveSymbol:n,getBars:i,subscribeBars:function(e,n,r,t,o){u(function(){return r})},unsubscribeBars:function(e){console.log("取消订阅实时更新。",e)}}},S=r(85893);function t(e){var n=e.chartProperties,r=e.chartType,t=void 0===r?1:r,r=e.className,e=void 0===r?"":r,r="dark"===(0,p.F)().theme?"#2b3139":"#ffffff",o=(0,P.useState)(null),o=_()(o,2),l=o[0],a=o[1],o=L(null==n?void 0:n.symbol,void 0,r),i=o.changeTime,r=o.chartConfig,o=f({debug:!1,chartProperties:n,tradingViewWidget:l}),s=w()(w()({datafeed:o},r),n);(0,d.Z)(function(){var e;l||null!=s&&s.symbol&&window.TradingView&&window.TradingView.widget&&document.getElementById("chart_container")&&(e=new window.TradingView.widget(s))&&a(e)});var u=(0,x.useModel)("kline").setHasReq,o=((0,m.Z)(function(){null!==l&&(u(!1),l.remove(),a(null))}),(0,k.Z)(function(){l&&l.onChartReady(function(){var e=l.activeChart();t&&e.setChartType(t),e.onIntervalChanged().subscribe(null,function(e){i(e)})})},[l]),(0,P.useState)("MACD")),n=_()(o,2),o=n[0],c=n[1];return(0,P.useEffect)(function(){l&&null!=l&&l._ready},[o,l]),(0,S.jsxs)("div",{className:"pb-12 h-[100%]",children:[(0,S.jsx)("div",{className:h[r.container_id],id:"chart_container"}),(0,S.jsx)("div",{className:"".concat(e," pt-1"),children:(0,S.jsx)(v.Z,{value:o,onChange:function(e){!function(e){var n;if(null==l||!l._ready||!l||!l.activeChart)return;var r=l.activeChart();if(r)switch(null!=(n=r.getAllStudies())&&n.forEach(function(e){return r.removeEntity(e.id)}),e){case"MACD":r.createStudy("MACD",!1,!1,[12,26,"close",9]);break;case"KDJ":r.createStudy("Stochastic",!1,!1,[14,1,3]);break;case"RSI":r.createStudy("Relative Strength Index",!1,!1,[14]);break;case"Bollinger Bands":r.createStudy("Bollinger Bands",!1,!1,[20,2]);break;case"Volume":r.createStudy("Volume",!1,!1);break;case"EMA":r.createStudy("Moving Average Exponential",!1,!1,[9]);break;case"SMA":r.createStudy("Moving Average",!1,!1,[14]);break;case"ATR":r.createStudy("Average True Range",!1,!1,[14])}}(e),c(e)},options:[{text:"MACD",value:"MACD"},{text:"KDJ",value:"KDJ"},{text:"RSI",value:"RSI"},{text:"Boll",value:"Bollinger Bands"},{text:"Volume",value:"Volume"},{text:"EMA",value:"EMA"},{text:"SMA",value:"SMA"},{text:"ATR",value:"ATR"}]})})]})}}}]);