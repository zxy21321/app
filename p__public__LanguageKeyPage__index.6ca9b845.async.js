"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9244],{86062:function(e,n,t){t.d(n,{d:function(){return l}});var n=t(97857),r=t.n(n),a=t(85893);function l(e){return(0,a.jsx)("svg",r()(r()({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},e),{},{children:(0,a.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M14.385 15.446a6.751 6.751 0 1 1 1.06-1.06l5.156 5.155a.75.75 0 1 1-1.06 1.06zM6.46 13.884a5.25 5.25 0 1 1 7.43-.005l-.005.005l-.005.004a5.25 5.25 0 0 1-7.42-.004",clipRule:"evenodd"})}))}},59248:function(e,n,t){t.d(n,{J:function(){return l}});var n=t(97857),r=t.n(n),a=t(85893);function l(e){return(0,a.jsx)("svg",r()(r()({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},e),{},{children:(0,a.jsx)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4"})}))}},43254:function(e,n,t){t.d(n,{A:function(){return l}});var n=t(97857),r=t.n(n),a=t(85893);function l(e){return(0,a.jsxs)("svg",r()(r()({className:"animate-spin h-5 w-5 text-current",fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",fill:"currentColor"})]}))}},59956:function(e,n,t){t.d(n,{q:function(){return l}});var n=t(97857),r=t.n(n),a=t(85893);function l(e){return(0,a.jsx)("svg",r()(r()({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},e),{},{children:(0,a.jsx)("path",{fill:"currentColor",d:"m7.825 13l5.6 5.6L12 20l-8-8l8-8l1.425 1.4l-5.6 5.6H20v2z"})}))}},13897:function(e,n,t){t.d(n,{Z:function(){return r}});var n=t(97857),d=t.n(n),f=t(59248),h=t(41821),p=t(81481),v=t(80854),x=t(67294),m=t(85893);function r(e){var n=e.value,t=e.onChange,r=e.endContent,a=e.isShowClear,a=void 0===a||a,l=e.classNames,s=e.className,o=e.onFocus,c=e.onBlur,i=(0,v.useModel)("compontentSetting").setIsHideBottomNav,u=(0,x.useRef)(null);return(0,m.jsx)(h.Y,d()(d()({ref:u,variant:"bordered",isClearable:!0},e),{},{onFocus:function(e){i(!0),null!=o&&o(e)},onBlur:function(e){i(!1),null!=c&&c(e)},classNames:d()(d()({},null==e?void 0:e.classNames),{},{input:"bg-[transparent] rounded-md caret-darkBrandColor text-backContrastColor ".concat(null==l?void 0:l.input," custom-input"),inputWrapper:"rounded-md relative border-1 group-data-[focus=true]:border-primary ".concat(null==l?void 0:l.inputWrapper),clearButton:"h-full ".concat(null==l?void 0:l.clearButton)}),className:"h-[50px] ".concat(s),endContent:(0,m.jsxs)("div",{className:"text-sm outline-none flex items-center h-full",onClick:function(e){return e.stopPropagation(),e.preventDefault(),!1},children:[!(!n||!a)&&(0,m.jsx)(p.A,{className:"mr-1 text-xl bg-transparent",onClick:function(){null!=t&&t({target:{value:""}})},isIconOnly:!0,children:(0,m.jsx)(f.J,{className:"text-foreground"})}),r]})}))}},84094:function(e,n,t){t.d(n,{Z:function(){return r}});var l=t(59956),s=t(80854),o=t(85893);function r(e){var n=e.leftNode,t=e.title,r=e.roghtNode,a=e.onBack;return(0,o.jsx)("div",{className:"text-xl px-4 pt-6 pb-4",children:(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsx)("div",{className:"cursor-pointer select-none",children:null!=n?n:(0,o.jsx)("div",{onClick:function(){return a?a():s.history.back()},children:(0,o.jsx)(l.q,{className:"text-xl font-bold"})})}),(0,o.jsx)("div",{className:" text-center font-bold text-base",children:void 0===t?"":t}),(0,o.jsx)("div",{className:" flex justify-end",children:void 0===r?"":r})]})})}},5114:function(e,n,t){t.r(n),t.d(n,{default:function(){return s}});var n=t(15009),r=t.n(n),n=t(5574),p=t.n(n),n=t(99289),a=t.n(n),v=t(86062),x=t(43254),m=t(13897),g=t(84094),j=t(68123),N=t(60359),y=t(19594),w=t(41587),b=t(1835),k=t(76016),C=t(16555),L=t(1553),A=t(89890),S=t(50040),B=t(55678),M=t(5251),F=t(79644),z=t(18266),O=t(81596),R=t(81481),T=t(80854),Z=t(67294),H=t(67421),I=t(85893);function K(e){return l.apply(this,arguments)}function l(){return(l=a()(r()().mark(function e(n){return r()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,S.SH)("/api/app-api/system/i18n-missing/import",n));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function s(){var e=(0,T.useModel)("language"),n=e.setAppLanguage,r=e.setLanguage,e=(0,Z.useState)("zh"),e=p()(e,2),t=e[0],a=e[1],e=(0,Z.useState)(!0),e=p()(e,2),l=e[0],e=(e[1],(0,Z.useState)("")),e=p()(e,2),s=e[0],o=e[1],e=(0,S.lS)(K,{loadingDefault:!1,manual:!0,onSuccess:function(){B.Am.success("操作成功")}}),c=e.run,e=e.loading;function i(e){var n,t=[];for(n in e)t.push({title:n,translation:e[n]});return t}var u=(0,Z.useMemo)(function(){switch(t){case"zh":return i(A.translation);case"en":return i(y.translation);case"jp":return i(L.translation);case"de":return i(N.translation);case"es":return i(w.translation);case"fr":return i(b.translation);case"hi":return i(k.translation);case"it":return i(C.translation)}return[]},[t]),d=Object.keys(y.translation).join(),f=(console.log(Object.keys(y.translation).length,"length"),(0,Z.useMemo)(function(){return s?u.filter(function(e){return(l?e.title:e.translation).toLowerCase().includes(s.toLowerCase())}):u},[s,u,l])),h=(0,H.$G)().i18n;return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(g.Z,{title:"国际化工具"}),(0,I.jsxs)("div",{className:"pt-3",children:[(0,I.jsxs)("div",{className:"w-full justify-between items-center px-3",children:[(0,I.jsxs)("span",{children:["选择的语言 ",t]}),(0,I.jsx)(F.g,{className:"w-full mt-2",placeholder:"请选择语言",selectedKeys:[t],classNames:{trigger:"bg-backgroundAuxiliaryTextColor rounded-md h-[50px]"},popoverProps:{classNames:{content:"bg-backgroundAuxiliaryTextColor text-foreground"}},children:[{label:"中文",value:"zh"},{label:"英文",value:"en"},{label:"日本",value:"jp"},{label:"德国",value:"de"},{label:"西班牙",value:"es"},{label:"法国",value:"fr"},{label:"印度",value:"hi"},{label:"意大利",value:"it"}].map(function(e){return(0,I.jsx)(z.R,{value:e.value,onClick:function(){a(e.value)},children:e.label},e.value)})})]}),(0,I.jsxs)("div",{className:"justify-center py-6 px-2",children:[(0,I.jsx)("span",{children:"打开原本的key显示所有页面 (点击会返回首页)"}),(0,I.jsx)("div",{className:"pt-5",children:(0,I.jsx)(O.i,{onChange:function(e){var t;e&&((e=e.target.checked)?(e=(y||{}).translation,t={},Object.entries(e).forEach(function(e){var e=p()(e,2),n=e[0];e[1];t[n]=n}),r("sourseKey"),h.addResourceBundle("sourseKey","translation",t),h.changeLanguage("sourseKey"),requestAnimationFrame(function(){T.history.replace("/")})):n(j.al))}})})]}),(0,I.jsxs)("div",{className:"justify-center py-6 px-2",children:[(0,I.jsx)("span",{children:"发送 JSON 到后端"}),(0,I.jsx)("div",{className:"pt-5",children:(0,I.jsx)(R.A,{spinner:(0,I.jsx)(x.A,{}),onClick:function(){c({typeCode:t,catalog:1,current:d})},className:"text-white rounded-md",isLoading:e,children:(0,I.jsx)("div",{className:"text-xs",children:(0,I.jsxs)("div",{children:["发送 ",t," json 到后端"]})})})})]}),(0,I.jsx)("div",{className:"p-3 w-full",children:(0,I.jsx)(m.Z,{value:s,onChange:function(e){return o(e.target.value)},placeholder:"请输入搜索关键字",startContent:(0,I.jsx)(v.d,{className:"text-iconFontColor text-xl"})})}),0===f.length&&(0,I.jsx)("div",{className:"pt-6",children:"空"}),f.map(function(e){return(0,I.jsxs)("div",{className:"flex justify-start items-center p-2",children:[(0,I.jsx)("span",{className:"cursor-pointer",onClick:function(){return M.c.copyText(e.title)},children:e.title}),(0,I.jsx)("span",{className:"text-red-700 mx-2 font-bold",children:":"}),(0,I.jsx)("span",{className:"cursor-pointer",onClick:function(){return M.c.copyText(e.translation)},children:e.translation})]},e.title)})]})]})}},5251:function(e,n,t){t.d(n,{c:function(){return u}});var n=t(12444),r=t.n(n),n=t(72004),a=t.n(n),n=t(68123),l=t(20640),s=t.n(l),l=t(27484),o=t.n(l),l=t(84110),l=t.n(l),c=t(55678),i=(o().extend(l()),n.ZP.t),u=function(){function e(){r()(this,e)}return a()(e,null,[{key:"copyText",value:function(e){e=decodeURI(e);s()(e),e?c.Am.success(i("复制成功")):c.Am.error(i("复制失败"))}},{key:"processDecimal",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:6,e=parseFloat(e);return isNaN(e)?0:parseFloat(e.toFixed(n))}},{key:"clearLocalStorage",value:function(n){var e=Object.keys(localStorage);null!=e&&e.forEach(function(e){e!==n&&"theme"!==e&&localStorage.removeItem(e)})}},{key:"stableSort",value:function(e,r){e=e.map(function(e,n){return[e,n]});return e.sort(function(e,n){var t=r(e[0],n[0]);return 0!==t?t:e[1]-n[1]}),e.map(function(e){return e[0]})}},{key:"descendingComparator",value:function(e,n,t){return(null==n?void 0:n[t])<(null==e?void 0:e[t])?-1:(null==n?void 0:n[t])>(null==e?void 0:e[t])?1:0}},{key:"getComparator",value:function(e,n){switch(n){case"title":return function(e,n){return e.field1-n.field1};case"p":return function(e,n){return e.field2-n.field2};default:return function(e,n){return 0}}}},{key:"formatTimestamp",value:function(e){var n=o()(),e=o()(e),n=n.diff(e,"minute"),e=Math.floor(n/525600),t=Math.floor(n%525600/1440),r=0<e?"".concat(e).concat(i("年")):"",a=0<t?"".concat(t).concat(i("天")):"",l="";return 0===e&&0===t&&(e=Math.floor(n%1440/60),l="".concat(e).concat(i("小时"))),"".concat(r," ").concat(a," ").concat(l," ").concat(i("前"))}},{key:"sortMarketList",value:function(e,t,r){return 0===(null==e?void 0:e.length)?[]:e.sort(function(e,n){e=e[t],n=n[t];return e<n?"asc"===r?-1:1:n<e?"asc"===r?1:-1:0})}},{key:"extractNumberFromUrl",value:function(e){e=e.match(/https?:\/\/(\w+)\./);return!e||!e[1]||["pc","h5"].includes(e[1].toLowerCase())||e[1].length<4?"":e[1]}},{key:"getFullNum",value:function(e){return!isNaN(e)&&/e/i.test(""+e)?e.toFixed(18).replace(/\.?0+$/,""):e}}]),e}()}}]);