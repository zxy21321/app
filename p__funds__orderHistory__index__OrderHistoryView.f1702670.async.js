"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9934],{95566:function(e,t,r){r.d(t,{k:function(){return s}});var t=r(97857),n=r.n(t),o=(r(67294),r(85893));function s(e){return(0,o.jsx)("svg",n()(n()({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 1024 1024"},e),{},{children:(0,o.jsx)("path",{fill:"currentColor",d:"M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48"})}))}},9738:function(p,e,t){t.r(e),t.d(e,{default:function(){return v}});function m(e){var t=e.list;return e.type,e.sourceOptions,r()(s()),(0,z.jsx)(z.Fragment,{children:t.map(function(e){return(0,z.jsx)("div",{children:(0,z.jsx)(n.Z,{item:e,clickOnTheCard:function(e){var t;(null==e?void 0:e.sourceType)===re.K1.CONTRACT_TRANSFER?l.history.push("".concat(o.Z.CONTRACT_ORDER_DETAIL,"/").concat(null==e?void 0:e.id,"?type=transfer")):[re.K1.CONTRACT_ORDER_TRADE,re.K1.CONTRACT_ORDER_TRADE_PRICE_LIMIT,re.K1.CONTRACT_TRANSFER].includes(null==e?void 0:e.sourceType)?l.history.push("".concat(o.Z.CONTRACT_ORDER_DETAIL,"/").concat(null==e||null==(t=e.orderInfo)?void 0:t.id,"?type=coin")):l.history.push("".concat(o.Z.CONTRACT_ORDER_DETAIL,"/").concat(null==e||null==(t=e.orderInfo)?void 0:t.id,"?source=").concat(null==e?void 0:e.sourceType))},children:(0,z.jsx)(i.j,{className:"my-4 !bg-backgroundAuxiliaryTextColor"})})},null==e?void 0:e.id)})})}function d(e){var t=e.list;return e.siftType,e.type,(0,z.jsx)(z.Fragment,{children:t.map(function(e){return(0,z.jsx)("div",{children:(0,z.jsx)(a.Z,{item:e,clickOnTheCard:function(e){c.m.push(o.Z.TRADINGHISTORYDETAIL,{id:e.id,type:null==e?void 0:e.cardType})},children:(0,z.jsx)(i.j,{className:"my-4 !bg-backgroundAuxiliaryTextColor"})})},null==e?void 0:e.id)})})}var K=t(56449),B=t(84094),G=t(37591),re=t(6429),O=t(95566),T=t(49995),e=t(49677),r=t.n(e),n=t(26441),o=t(21257),ne=t(67421),s=function(){var t=(0,ne.$G)().t;return{getFundsOrderHistoryChineseComment:function(e){switch(e){case re.cS.RECHARGE_STOCK_ACCOUNT:return t("充值到股票账户");case re.cS.STOCK_MARKET_BUY:return t("市价购买");case re.cS.STOCK_ENTRUST_BUY:return t("委托购买");case re.cS.STOCK_ENTRUST_SUCCESS:return t("委托成功");case re.cS.STOCK_CANCEL:return t("取消委托");case re.cS.STOCK_CLOSING_SETTLEMENT:return t("平仓结算");case re.cS.STOCK_CLOSING_DEDUCTION:return t("平仓扣除");case re.cS.STOCK_BURST_DEDUCTION:return t("爆仓扣除");case re.cS.STOCK_CLOSING_FEE:return t("平仓手续费");default:return""}},getFundsOrderHistorySourceChineseComment:function(e){switch(e){case re.oI.DIRECT_PURCHASE:return t("直接购买");case re.oI.SUBSCRIPTION:return t("申购");case re.oI.BULK:return t("大宗");default:return""}}}},i=t(55903),l=t(80854),z=t(85893),S=t(38586),Y=function(e){var t=e.statusOption,r=e.changeStatus,n=e.currentStatus,o=e.t,s=e.currentFunds,i=e.setOpen,l=e.loadMore,a=e.loading,c=e.list,u=e.total,d=e.error,p=e.sourceOptions,h=e.selectedCompletedOrderOrderProcess,x=e.setSourceType,f=e.sourceType,e=e.hiddenSource,e=void 0!==e&&e;return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)("div",{className:"flex justify-between relative",children:[(0,z.jsxs)("div",{className:"flex",children:[h!==re.$S.SWAP&&(0,z.jsx)(S.Z,{options:t,onChange:r,current:n,title:o("方向")}),!e&&(0,z.jsx)(S.Z,{title:o("来源"),options:p,onChange:function(e){x(e)},current:f})]}),(0,z.jsx)(O.k,{className:"text-iconFontColor text-xl absolute right-0",onClick:function(){return i(!0)}})]}),(0,z.jsx)("div",{className:"pt-[30px]",children:(0,z.jsx)(T.Z,{loadMore:l,total:u,list:c,error:!!d,loading:a,children:(0,z.jsx)(m,{list:c,type:s,sourceOptions:p})})})]})},a=t(34397),c=t(10581),H=function(e){var t=e.selectedCompletedOrderOrderProcess,r=e.setOpen,n=e.t,o=e.changeStatus,s=e.currentStatus,i=e.statusOption,l=e.loadMore,a=e.loading,c=e.list,u=e.total,e=e.error;return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)("div",{className:"flex justify-between relative",children:[(0,z.jsx)(S.Z,{options:i,onChange:o,current:s,title:n("状态")}),(0,z.jsx)(O.k,{className:"text-iconFontColor text-xl absolute right-0 cursor-pointer",onClick:function(){return r(!0)}})]}),(0,z.jsx)("div",{className:"pt-[30px]",children:(0,z.jsx)(T.Z,{loadMore:l,total:u,list:c,error:!!e,loading:a,children:(0,z.jsx)(d,{list:c,type:t,siftType:s.value})})})]})},u=t(54866),W=function(e){var t=e.completedOrderOrderProcessOptions,r=e.changeSelectedCompletedOrderOrderProcess,n=e.selectedCompletedOrderOrderProcess,e=e.isComponent;return(0,z.jsx)(z.Fragment,{children:(0,z.jsx)("div",{children:(0,z.jsx)("div",{className:"px-4 ".concat(e?"pt-4":""),children:(0,z.jsx)(u.Z,{options:t,value:n,variant:e?"light":"underlined",onChange:r,tabsPropsProps:{classNames:{tabList:"'px-0 ".concat(e?"pl-1":"","'")}}})})})})},e=t(15009),oe=t.n(e),e=t(99289),se=t.n(e),e=t(9783),ie=t.n(e),e=t(97857),le=t.n(e),e=t(5574),ae=t.n(e),ce=t(67294),ue=t(92232),de=t(86547),pe=t(44620),fe=t(78234),me=t(85980),he=t(77598),xe=t(44667),V=function(){var e=(0,ne.$G)().t,t=(0,xe.Z)(),r=t.statusOption,n=t.fundsOption,o=t.orderTypeOptions,s=t.sourceOptions,t=(0,pe.Z)({}),t=ae()(t,1)[0],i=(0,ce.useState)(!1),i=ae()(i,2),l=i[0],i=i[1],t=t||{},a=t.type,c=(t.sourceType,t.walletType),u=t.coinId,t=(0,ce.useMemo)(function(){return void 0===c?s:+c===re.Kv.CONTRACT?null==s?void 0:s.filter(function(e){return+(null==e?void 0:e.type)===re.Kv.CONTRACT||"all"===(null==e?void 0:e.type)}):+c!==re.Kv.COIN||null==s?void 0:s.filter(function(e){return+(null==e?void 0:e.type)===re.Kv.COIN||"all"===(null==e?void 0:e.type)})},[c]),d=(0,ce.useState)(),d=ae()(d,2),p=d[0],h=d[1],d=((0,fe.Z)(function(){h(a||re.$S.BUY)}),(0,ce.useState)({text:e("全部"),value:void 0})),d=ae()(d,2),x=d[0],f=d[1],d=(0,ce.useState)(n[0]),d=ae()(d,2),m=d[0],O=d[1],d=(0,ce.useState)({text:e("全部"),value:void 0}),d=ae()(d,2),T=d[0],d=d[1],S=(0,ce.useState)(o[0]),S=ae()(S,2),v=S[0],S=S[1],C=(0,ce.useState)([]),C=ae()(C,2),g=C[0],N=C[1],C=(0,ce.useState)({pageNo:1,pageSize:10,sourceType:null==T?void 0:T.value,walletType:c,coinId:u}),C=ae()(C,2),y=C[0],j=C[1],C=(0,ce.useState)({pageNo:1,pageSize:10,status:null==x?void 0:x.value,walletType:c,coinId:u}),C=ae()(C,2),R=C[0],A=C[1],C=(0,ce.useState)({pageNo:1,pageSize:10,status:null==x?void 0:x.value,walletType:c,coinId:u}),C=ae()(C,2),M=C[0],w=C[1],C=(0,ce.useState)({pageNo:1,pageSize:10,walletType:c,sourceCoinId:u}),C=ae()(C,2),E=C[0],I=C[1],_=(0,ce.useMemo)(function(){return{pageNo:1,pageSize:10,status:x.value,sourceType:null==T?void 0:T.value,direction:null==m?void 0:m.value,startTime:0<g.length?encodeURI(g[0]+"T00:00:00"):void 0,endTime:0<g.length?encodeURI(g[1]+"T23:59:59"):void 0,walletType:c,coinId:u,sourceCoinId:u}},[g,x,v,T,m]),F=ie()(ie()(ie()(ie()(ie()({},re.$S.TRANSFER,function(e){j(le()(le()({},e),{},{sourceType:re.K1.CONTRACT_TRANSFER}))}),re.$S.BUY,function(e){j(e)}),re.$S.ADD,function(e){A(e)}),re.$S.SUB,function(e){w(e)}),re.$S.SWAP,function(e){I(e)}),b=(0,me.Z)(function(e){F[p](null!=e?e:_)},{wait:50}).run,C=((0,he.Z)(function(){f({text:e("全部"),value:void 0}),N([])},[p]),(0,he.Z)(function(){b()},[g,x,m,T,v,p]),(0,ue.P)(de.zD,y,!0,!0)),D=C.list,P=C.loading,L=C.loadMore,Z=C.error,$=C.total,k=C.fetchList,C=(0,ue.P)(de.AG,R,!0,!0),R=C.list,U=C.loading,K=C.loadMore,B=C.error,G=C.total,z=C.fetchList,C=(0,ue.P)(de.Wl,M,!0,!0),M=C.list,Y=C.loading,H=C.loadMore,W=C.error,V=C.total,q=C.fetchList,C=(0,ue.P)(de.l1,E,!0,!0),E=C.list,J=C.loading,Q=C.loadMore,X=C.error,ee=C.total,C=C.fetchList,te=ie()(ie()(ie()({},re.$S.BUY,se()(oe()().mark(function e(){return oe()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(le()(le()({},_||{}),{},{pageNo:1}));case 2:case"end":return e.stop()}},e)}))),re.$S.ADD,se()(oe()().mark(function e(){return oe()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z(le()(le()({},_||{}),{},{pageNo:1}));case 2:case"end":return e.stop()}},e)}))),re.$S.SUB,se()(oe()().mark(function e(){return oe()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q(le()(le()({},_||{}),{},{pageNo:1}));case 2:case"end":return e.stop()}},e)})));return{selectedCompletedOrderOrderProcess:p,changeSelectedCompletedOrderOrderProcess:function(e){h(e)},currentStatus:x,sourceType:T,open:l,setOpen:i,params:y,setTime:N,currentFunds:m,orderType:v,getReloadListAsync:te,list:D,loading:P,loadMore:L,error:Z,total:$,rechargeInformationList:R,loading2:U,loadMore2:K,error2:B,total2:G,withdrawalListList:M,loading3:Y,loadMore3:H,error3:W,total3:V,changeStatus:function(e){f(e)},changeFunds:function(e){O(e)},sourceOptions:t,fundsOption:n,orderTypeOptions:o,statusOption:r,setSourceType:d,setOrderType:S,flashRedemptionList:E,loading4:J,loadMore4:Q,error4:X,total4:ee,fetchList4:C,getReloadList:b}},h=t(60854);function x(e){var t=e.item,r=e.children,n=e.clickOnTheCard,o=e.isRight,s=void 0!==o&&o,o=e.isReply,i=void 0!==o&&o,e=(0,ne.$G)().t;(0,xe.Z)().sourceOptions,(0,ce.useMemo)(function(){return s&&!i?"text-[#1D2129]":i?"text-[#4E5969]":"text-auxiliaryTextColor"},[s,i]);return(0,z.jsxs)("div",{onClick:function(){n&&n(t)},children:[(0,z.jsxs)("div",{className:"flex justify-between text-backContrastColor items-center text-sm mb-1",children:[(0,z.jsxs)("div",{children:[(0,z.jsx)("span",{className:"mr-1",children:null==t?void 0:t.amount}),null==t?void 0:t.sourceCoinName]}),(0,z.jsxs)("div",{children:[(0,z.jsx)("span",{className:"mr-1",children:null==t?void 0:t.targetAmount}),null==t?void 0:t.targetCoinName]})]}),(0,z.jsxs)("div",{className:"flex justify-between text-xs items-center",children:[(0,z.jsx)("span",{className:"text-auxiliaryTextColor",children:h.Z.formatDate(null==t?void 0:t.createTime)}),(0,z.jsxs)("span",{className:"flex items-center",children:[(0,z.jsx)("span",{className:"text-successColor text-4xl",children:"·"}),(0,z.jsx)("span",{className:"text-auxiliaryTextColor ml-[2px] pt-1",children:e("成功")})]})]}),r]},t)}function f(e){return e=e.list,r()(s()),(0,z.jsx)(z.Fragment,{children:e.map(function(e){return(0,z.jsx)("div",{children:(0,z.jsx)(x,{item:e,clickOnTheCard:function(e){},children:(0,z.jsx)(i.j,{className:"my-4 !bg-backgroundAuxiliaryTextColor"})})},null==e?void 0:e.id)})})}var q=function(e){var t=e.loadMore,r=e.loading,n=e.list,o=e.total,e=e.error;return(0,z.jsx)(z.Fragment,{children:(0,z.jsx)("div",{className:"pt-[30px]",children:(0,z.jsx)(T.Z,{loadMore:t,total:o,list:n,error:!!e,loading:r,children:(0,z.jsx)(f,{list:n})})})})};function v(e){var e=e.isComponent,e=void 0!==e&&e,t=(0,ne.$G)().t,r=V(),n=r.selectedCompletedOrderOrderProcess,o=r.changeSelectedCompletedOrderOrderProcess,s=r.currentStatus,i=r.sourceType,l=r.open,a=r.setOpen,c=r.params,u=r.setTime,d=r.currentFunds,p=r.orderType,h=r.getReloadListAsync,x=r.list,f=r.loading,m=r.loadMore,O=r.error,T=r.total,S=r.rechargeInformationList,v=r.loading2,C=r.loadMore2,g=r.error2,N=r.total2,y=r.withdrawalListList,j=r.loading3,R=r.loadMore3,A=r.error3,P=r.total3,M=r.changeStatus,w=r.changeFunds,E=r.sourceOptions,I=r.fundsOption,_=r.orderTypeOptions,F=r.statusOption,b=r.setSourceType,D=r.setOrderType,L=r.loading4,Z=r.loadMore4,$=r.error4,k=r.total4,r=r.flashRedemptionList,U=[{text:t("资金"),value:re.$S.BUY},e?null:{text:t("充值"),value:re.$S.ADD},e?null:{text:t("提现"),value:re.$S.SUB},{text:t("划转"),value:re.$S.TRANSFER},{text:t("闪兑"),value:re.$S.SWAP}];return(0,z.jsxs)(K.Z,{refreshFn:h[n],disabled:e,children:[(0,z.jsxs)("div",{className:"w-full",children:[!e&&(0,z.jsx)(B.Z,{title:t("记录")}),(0,z.jsx)("div",{className:"",children:(0,z.jsx)(W,{isComponent:e,changeSelectedCompletedOrderOrderProcess:o,completedOrderOrderProcessOptions:U,selectedCompletedOrderOrderProcess:n})}),(0,z.jsx)(G.e,{value:c,open:l,onClose:function(){return a(!1)},onCancel:function(){return a(!1)},onConfirm:function(e){var t=e.start,e=e.end;u([t,e]),a(!1)}})]}),(0,z.jsxs)("div",{className:"min-h-[40vh] px-4 mt-2",children:[+n==+re.$S.BUY&&(0,z.jsx)(z.Fragment,{children:(0,z.jsx)(Y,{selectedCompletedOrderOrderProcess:n,t:t,sourceOptions:E,statusOption:I,currentFunds:d,changeStatus:w,currentStatus:d,setOpen:a,loadMore:m,loading:f,list:x,total:T,error:O,sourceType:i,setSourceType:b,orderTypeOptions:_,orderType:p,setOrderType:D})}),+n==+re.$S.ADD&&!e&&(0,z.jsx)(z.Fragment,{children:(0,z.jsx)(H,{selectedCompletedOrderOrderProcess:n,t:t,statusOption:F,changeStatus:M,currentStatus:s,setOpen:a,loadMore:C,loading:v,list:S,total:N,error:g})}),+n==+re.$S.SUB&&!e&&(0,z.jsx)(z.Fragment,{children:(0,z.jsx)(H,{selectedCompletedOrderOrderProcess:n,t:t,statusOption:F,changeStatus:M,currentStatus:s,setOpen:a,loadMore:R,loading:j,list:y,total:P,error:A})}),+n==+re.$S.TRANSFER&&(0,z.jsx)(z.Fragment,{children:(0,z.jsx)(Y,{selectedCompletedOrderOrderProcess:n,t:t,hiddenSource:!0,sourceOptions:E,statusOption:I,currentFunds:d,changeStatus:w,currentStatus:d,setOpen:a,loadMore:m,loading:f,list:x,total:T,error:O,sourceType:i,setSourceType:b,orderTypeOptions:_,orderType:p,setOrderType:D})}),+n==+re.$S.SWAP&&(0,z.jsx)(z.Fragment,{children:(0,z.jsx)(q,{list:r,loading:L,loadMore:Z,error:$,total:k})})]})]})}},85980:function(e,t,r){var s=r(97582),n=r(23279),i=r.n(n),l=r(67294),a=r(3930),c=r(45210),u=r(92770),d=r(31663);t.Z=function(e,t){d.Z&&!(0,u.mf)(e)&&console.error("useDebounceFn expected parameter is a function, got ".concat(typeof e));var r=(0,a.Z)(e),n=null!=(e=null==t?void 0:t.wait)?e:1e3,o=(0,l.useMemo)(function(){return i()(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.current.apply(r,(0,s.ev)([],(0,s.CR)(e),!1))},n,t)},[]);return(0,c.Z)(function(){o.cancel()}),{run:o,cancel:o.cancel,flush:o.flush}}},65897:function(e,t,r){r.d(t,{N4:function(){return i},uZ:function(){return s},zk:function(){return n}});var o=r(67294);function n(e,t,s){let[r,i]=(0,o.useState)(e||t),n=(0,o.useRef)(void 0!==e),l=void 0!==e,a=((0,o.useEffect)(()=>{var e=n.current;e!==l&&console.warn(`WARN: A component changed from ${e?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}.`),n.current=l},[l]),l?e:r);t=(0,o.useCallback)((r,...n)=>{let o=(e,...t)=>{s&&!Object.is(a,e)&&s(e,...t),l||(a=e)};"function"==typeof r?(console.warn("We can not support a function callback. See Github Issues for details https://github.com/adobe/react-spectrum/issues/2320"),i((e,...t)=>{t=r(l?a:e,...t);return o(t,...n),l?e:t})):(l||i(r),o(r,...n))},[l,a,s]);return[a,t]}function s(e,t=-1/0,r=1/0){return Math.min(Math.max(e,t),r)}function i(e,t,r,n){t=Number(t),r=Number(r);var o=(e-(isNaN(t)?0:t))%n;let s=2*Math.abs(o)>=n?e+Math.sign(o)*(n-Math.abs(o)):e-o;isNaN(t)?!isNaN(r)&&s>r&&(s=Math.floor(r/n)*n):s<t?s=t:!isNaN(r)&&s>r&&(s=t+Math.floor((r-t)/n)*n);e=n.toString(),o=e.indexOf("."),r=0<=o?e.length-o:0;return 0<r&&(t=Math.pow(10,r),s=Math.round(s*t)/t),s}}}]);