"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9907],{11664:function(e,t,n){n.d(t,{d:function(){return s}});var t=n(97857),l=n.n(t),r=n(85893);function s(e){return(0,r.jsx)("svg",l()(l()({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 16 16"},e),{},{children:(0,r.jsx)("path",{fill:"currentColor",d:"M6.687 1.777a1.5 1.5 0 0 1 2.629 0l5.499 9.999a1.5 1.5 0 0 1-1.314 2.223H2.502a1.5 1.5 0 0 1-1.314-2.223z"})}))}},5177:function(e,t,n){n.d(t,{s:function(){return s}});var t=n(97857),l=n.n(t),r=(n(67294),n(85893));function s(e){return(0,r.jsx)("svg",l()(l()({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},e),{},{children:(0,r.jsx)("path",{fill:"currentColor",d:"M11.95 18q.525 0 .888-.363t.362-.887q0-.525-.362-.888t-.888-.362q-.525 0-.887.363t-.363.887q0 .525.363.888t.887.362m.05 4q-2.075 0-3.9-.788t-3.175-2.137q-1.35-1.35-2.137-3.175T2 12q0-2.075.788-3.9t2.137-3.175q1.35-1.35 3.175-2.137T12 2q2.075 0 3.9.788t3.175 2.137q1.35 1.35 2.138 3.175T22 12q0 2.075-.788 3.9t-2.137 3.175q-1.35 1.35-3.175 2.138T12 22m0-2q3.35 0 5.675-2.325T20 12q0-3.35-2.325-5.675T12 4Q8.65 4 6.325 6.325T4 12q0 3.35 2.325 5.675T12 20m.1-12.3q.625 0 1.088.4t.462 1q0 .55-.337.975t-.763.8q-.575.5-1.012 1.1t-.438 1.35q0 .35.263.588t.612.237q.375 0 .638-.25t.337-.625q.1-.525.45-.937t.75-.788q.575-.55.988-1.2t.412-1.45q0-1.275-1.037-2.087T12.1 6q-.95 0-1.812.4T8.975 7.625q-.175.3-.112.638t.337.512q.35.2.725.125t.625-.425q.275-.375.688-.575t.862-.2"})}))}},65639:function(e,t,n){n.d(t,{v:function(){return s}});var t=n(97857),l=n.n(t),r=n(85893);function s(e){return(0,r.jsx)("svg",l()(l()({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},e),{},{children:(0,r.jsx)("path",{fill:"currentColor",d:"M12 22q-2.075 0-3.9-.788t-3.175-2.137q-1.35-1.35-2.137-3.175T2 12q0-2.075.788-3.9t2.137-3.175q1.35-1.35 3.175-2.137T12 2q2.075 0 3.9.788t3.175 2.137q1.35 1.35 2.138 3.175T22 12q0 2.075-.788 3.9t-2.137 3.175q-1.35 1.35-3.175 2.138T12 22m0-2q3.35 0 5.675-2.325T20 12q0-3.35-2.325-5.675T12 4Q8.65 4 6.325 6.325T4 12q0 3.35 2.325 5.675T12 20m-.025-1q.35 0 .613-.262t.262-.613v-.375q1.25-.225 2.15-.975t.9-2.225q0-1.05-.6-1.925T12.9 11.1q-1.5-.5-2.075-.875T10.25 9.2q0-.65.463-1.025T12.05 7.8q.5 0 .875.175t.625.475q.25.3.563.412t.587-.012q.375-.15.513-.513t-.063-.662q-.4-.575-.987-.975T12.9 6.25v-.375q0-.35-.262-.612T12.025 5q-.35 0-.612.263t-.263.612v.375q-1.25.275-1.95 1.1T8.5 9.2q0 1.175.688 1.9t2.162 1.25q1.575.575 2.188 1.025t.612 1.175q0 .825-.587 1.213t-1.413.387q-.65 0-1.175-.312T10.1 14.9q-.2-.35-.525-.475t-.65 0q-.35.125-.513.475t-.012.675q.4.85 1.075 1.388t1.625.737v.425q0 .35.263.613t.612.262"})}))}},62478:function(e,t,n){n.d(t,{d:function(){return s}});var t=n(97857),l=n.n(t),r=(n(67294),n(85893));function s(e){return(0,r.jsx)("svg",l()(l()({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 48 48"},e),{},{children:(0,r.jsxs)("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:4,children:[(0,r.jsx)("circle",{cx:24,cy:11,r:7,fill:"currentColor"}),(0,r.jsx)("path",{d:"M4 41c0-8.837 8.059-16 18-16"}),(0,r.jsx)("path",{fill:"currentColor",d:"m31 42l10-10l-4-4l-10 10v4z"})]})}))}},17032:function(e,t,n){n.d(t,{E:function(){return s}});var t=n(97857),l=n.n(t),r=(n(67294),n(85893));function s(e){return(0,r.jsx)("svg",l()(l()({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 256 256"},e),{},{children:(0,r.jsx)("path",{fill:"currentColor",d:"M216 32H88a8 8 0 0 0-8 8v40H40a8 8 0 0 0-8 8v128a8 8 0 0 0 8 8h128a8 8 0 0 0 8-8v-40h40a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8m-8 128h-32V88a8 8 0 0 0-8-8H96V48h112Z"})}))}},13897:function(e,t,n){n.d(t,{Z:function(){return l}});var t=n(97857),d=n.n(t),p=n(59248),x=n(41821),v=n(81481),h=n(80854),m=n(67294),f=n(85893);function l(e){var t=e.value,n=e.onChange,l=e.endContent,r=e.isShowClear,r=void 0===r||r,s=e.classNames,i=e.className,o=e.onFocus,a=e.onBlur,c=(0,h.useModel)("compontentSetting").setIsHideBottomNav,u=(0,m.useRef)(null);return(0,f.jsx)(x.Y,d()(d()({ref:u,variant:"bordered",isClearable:!0},e),{},{onFocus:function(e){c(!0),null!=o&&o(e)},onBlur:function(e){c(!1),null!=a&&a(e)},classNames:d()(d()({},null==e?void 0:e.classNames),{},{input:"bg-[transparent] rounded-md caret-darkBrandColor text-backContrastColor ".concat(null==s?void 0:s.input," custom-input"),inputWrapper:"rounded-md relative border-1 group-data-[focus=true]:border-primary ".concat(null==s?void 0:s.inputWrapper),clearButton:"h-full ".concat(null==s?void 0:s.clearButton)}),className:"h-[50px] ".concat(i),endContent:(0,f.jsxs)("div",{className:"text-sm outline-none flex items-center h-full",onClick:function(e){return e.stopPropagation(),e.preventDefault(),!1},children:[!(!t||!r)&&(0,f.jsx)(v.A,{className:"mr-1 text-xl bg-transparent",onClick:function(){null!=n&&n({target:{value:""}})},isIconOnly:!0,children:(0,f.jsx)(p.J,{className:"text-foreground"})}),l]})}))}},61420:function(n,e,t){t.r(e),t.d(e,{default:function(){return ee}});var e=t(15009),we=t.n(e),e=t(99289),Te=t.n(e),e=t(5574),Ce=t.n(e),e=t(97857),Se=t.n(e),Ne=t(85893);function Ze(e){return(0,Ne.jsx)("svg",Se()(Se()({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 20 20"},e),{},{children:(0,Ne.jsx)("path",{fill:"currentColor",d:"M6.494 8.075c.045-.295.339-.575.754-.575s.709.28.754.575a.5.5 0 1 0 .988-.15C8.863 7.09 8.104 6.5 7.248 6.5s-1.615.59-1.742 1.425a.5.5 0 1 0 .988.15m6.254-.575c-.415 0-.708.28-.754.575a.5.5 0 0 1-.988-.15c.127-.835.886-1.425 1.742-1.425s1.615.59 1.742 1.425a.5.5 0 0 1-.988.15c-.046-.295-.339-.575-.754-.575M5.495 10a.5.5 0 0 0-.497.549C5.236 12.992 7.154 15 9.995 15s4.76-2.008 4.998-4.451a.5.5 0 0 0-.498-.549zm4.5 4c-2.081 0-3.516-1.303-3.912-3h7.825c-.397 1.697-1.831 3-3.913 3M10 2a8 8 0 1 0 0 16a8 8 0 0 0 0-16m-7 8a7 7 0 1 1 14 0a7 7 0 0 1-14 0"})}))}var be=t(67294);function ze(e){return(0,Ne.jsx)("svg",Se()(Se()({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},e),{},{children:(0,Ne.jsx)("path",{fill:"currentColor",d:"M5 21q-.825 0-1.412-.587T3 19V5q0-.825.588-1.412T5 3h14q.825 0 1.413.588T21 5v14q0 .825-.587 1.413T19 21zm1-8.425l4-4l4 4l4-4l1 1V5H5v6.575zM5 19h14v-6.6l-1-1l-4 4l-4-4l-4 4l-1-1zm0 0v-6.6v2V5z"})}))}var He=t(95990);function Ge(e){return(0,Ne.jsx)("svg",Se()(Se()({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},e),{},{children:(0,Ne.jsx)("path",{fill:"currentColor",d:"M12 17.5q1.875 0 3.188-1.312T16.5 13t-1.312-3.187T12 8.5T8.813 9.813T7.5 13t1.313 3.188T12 17.5m0-2q-1.05 0-1.775-.725T9.5 13t.725-1.775T12 10.5t1.775.725T14.5 13t-.725 1.775T12 15.5M4 21q-.825 0-1.412-.587T2 19V7q0-.825.588-1.412T4 5h3.15L8.4 3.65q.275-.3.663-.475T9.875 3h4.25q.425 0 .813.175t.662.475L16.85 5H20q.825 0 1.413.588T22 7v12q0 .825-.587 1.413T20 21z"})}))}var _e=t(65639);function Ue(e){return(0,Ne.jsx)("svg",Se()(Se()({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 32 32"},e),{},{children:(0,Ne.jsx)("path",{fill:"currentColor",d:"M6 3v26h20V9.594l-.28-.313l-6-6l-.314-.28H6zm2 2h10v6h6v16H8zm12 1.438L22.563 9H20zM11 13v2h10v-2zm0 4v2h10v-2zm0 4v2h10v-2z"})}))}function Ve(e){return(0,Ne.jsx)("svg",Se()(Se()({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},e),{},{children:(0,Ne.jsxs)("g",{fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd",children:[(0,Ne.jsx)("path",{d:"M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12m10-8a8 8 0 1 0 0 16a8 8 0 0 0 0-16"}),(0,Ne.jsx)("path",{d:"M13 7a1 1 0 1 0-2 0v4H7a1 1 0 1 0 0 2h4v4a1 1 0 1 0 2 0v-4h4a1 1 0 1 0 0-2h-4z"})]})}))}var Me=t(13897),We=t(84094),Oe=t(51508),ke=t(6429),A=t(5177);function L(e){return(0,Ne.jsx)("svg",Se()(Se()({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},e),{},{children:(0,Ne.jsx)("path",{fill:"currentColor",d:"M9 22c-.6 0-1-.4-1-1v-3H4c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2h-6.1l-3.7 3.7c-.2.2-.4.3-.7.3zm1-6v3.1l3.1-3.1H20V4H4v12zm6.3-10l-1.4 3H17v4h-4V8.8L14.3 6zm-6 0L8.9 9H11v4H7V8.8L8.3 6z"})}))}function D(e){return(0,Ne.jsx)("svg",Se()(Se()({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},e),{},{children:(0,Ne.jsx)("path",{fill:"currentColor",d:"M8 7v4L2 6l6-5v4h5a8 8 0 1 1 0 16H4v-2h9a6 6 0 0 0 0-12z"})}))}function B(e){return(0,Ne.jsx)("svg",Se()(Se()({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 48 48"},e),{},{children:(0,Ne.jsx)("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:4,d:"M19.455 26.444C17.636 28.222 15.817 30 12.182 30C8.545 30 4 27.333 4 22s4.545-8 8.182-8c5.454 0 8.182 3.556 11.818 8c3.636 4.444 6.364 8 11.818 8C39.455 30 44 27.333 44 22s-4.545-8-8.182-8c-3.636 0-6.363 2.667-7.272 3.556"})}))}function F(e){return(0,Ne.jsx)("svg",Se()(Se()({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},e),{},{children:(0,Ne.jsx)("path",{fill:"currentColor",d:"M8.27 3L3 8.27v7.46L8.27 21h7.46C17.5 19.24 21 15.73 21 15.73V8.27L15.73 3M9.1 5h5.8L19 9.1v5.8L14.9 19H9.1L5 14.9V9.1m4.12-1.39L7.71 9.12L10.59 12l-2.88 2.88l1.41 1.41L12 13.41l2.88 2.88l1.41-1.41L13.41 12l2.88-2.88l-1.41-1.41L12 10.59"})}))}var H=t(62478),N=t(17032),j=t(11664);function y(e){return(0,Ne.jsx)("svg",Se()(Se()({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 12 12"},e),{},{children:(0,Ne.jsx)("path",{fill:"currentColor",d:"M5.214 10.541a.903.903 0 0 0 1.572 0l4.092-7.169C11.226 2.762 10.789 2 10.09 2H1.91c-.698 0-1.135.762-.787 1.372z"})}))}var Ie=t(77598),Re=t(78234),Ee=t(55914);function G(e){function n(){return(new Date).getTime()}function t(){var t=n();m=setInterval(function(){var e;400<n()-t&&(Number(null==(e=p.current)||null==(e=e.getBoundingClientRect())?void 0:e.top)<100?h(!1):h(!0),c?c(u):g(!1),clearInterval(m))},100)}function l(){m&&clearInterval(m)}function r(){d?null!=d&&d(-1):g(!1)}var s=e.children,i=e.menuClass,i=void 0===i?"":i,o=e.menuList,a=e.isOpen,c=e.onLongTouch,u=e.data,d=e.setIsMenuOpen,p=(0,be.useRef)(null),e=(0,be.useRef)(null),x=(0,be.useState)(!0),x=Ce()(x,2),v=x[0],h=x[1],m=null,x=(0,be.useState)(null!=a&&a),x=Ce()(x,2),f=x[0],g=x[1];(0,Ie.Z)(function(){g(a)},[a]);return(0,Re.Z)(function(){var e;return null!=(e=p.current)&&e.addEventListener("touchstart",t),null!=(e=p.current)&&e.addEventListener("touchend",l),null!=(e=p.current)&&e.addEventListener("mousedown",t),null!=(e=p.current)&&e.addEventListener("mouseup",l),document.addEventListener("scroll",r),function(){var e;null!=(e=p.current)&&e.removeEventListener("mousedown",t),null!=(e=p.current)&&e.removeEventListener("mouseup",l),null!=(e=p.current)&&e.addEventListener("mousedown",t),null!=(e=p.current)&&e.addEventListener("mouseup",l),document.body.removeEventListener("scroll",r),clearInterval(m)}}),(0,Ee.Z)(function(e){d?null!=d&&d(-1):g(!1)},e),(0,Ne.jsxs)("div",{className:"relative",ref:e,children:[f&&0<(null==o?void 0:o.length)&&(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)("div",{className:"absolute  text-backContrastColor z-[10001]  py-2 px-2\n            min-w-[150px] flex flex-wrap justify-between gap-y-2 bg-background shadow-2xl  rounded-md ".concat(i," ").concat(v?"-top-[64px]":"-bottom-[64px]"),children:null==o?void 0:o.map(function(e){return(0,Ne.jsxs)("div",{className:"flex flex-col mx-2 flex-shrink-0 items-center text-center",onClick:function(){e.handleClick&&e.handleClick(),g(!1)},children:[(0,Ne.jsx)(e.icon,{}),(0,Ne.jsx)("span",{className:"text-xs mt-1",children:e.label})]},e.icon)})}),v&&(0,Ne.jsx)(y,{className:"absolute -top-[20px] z-[10000] left-1/2 -translate-x-[calc(50%+30px)] text-backgroundAuxiliaryTextColor",height:"20px"}),!v&&(0,Ne.jsx)(j.d,{className:"absolute -bottom-[20px] z-[10000] left-1/2 -translate-x-[calc(50%+30px)] text-backgroundAuxiliaryTextColor",height:"20px"})]}),(0,Ne.jsx)("div",{ref:p,children:s})]})}var b=t(21257);function c(e){return(0,Ne.jsxs)("svg",Se()(Se()({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},e),{},{children:[(0,Ne.jsx)("circle",{cx:12,cy:2,r:0,fill:"currentColor",children:(0,Ne.jsx)("animate",{attributeName:"r",begin:0,calcMode:"spline",dur:"1s",keySplines:"0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8",repeatCount:"indefinite",values:"0;2;0;0"})}),(0,Ne.jsx)("circle",{cx:12,cy:2,r:0,fill:"currentColor",transform:"rotate(45 12 12)",children:(0,Ne.jsx)("animate",{attributeName:"r",begin:"0.125s",calcMode:"spline",dur:"1s",keySplines:"0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8",repeatCount:"indefinite",values:"0;2;0;0"})}),(0,Ne.jsx)("circle",{cx:12,cy:2,r:0,fill:"currentColor",transform:"rotate(90 12 12)",children:(0,Ne.jsx)("animate",{attributeName:"r",begin:"0.25s",calcMode:"spline",dur:"1s",keySplines:"0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8",repeatCount:"indefinite",values:"0;2;0;0"})}),(0,Ne.jsx)("circle",{cx:12,cy:2,r:0,fill:"currentColor",transform:"rotate(135 12 12)",children:(0,Ne.jsx)("animate",{attributeName:"r",begin:"0.375s",calcMode:"spline",dur:"1s",keySplines:"0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8",repeatCount:"indefinite",values:"0;2;0;0"})}),(0,Ne.jsx)("circle",{cx:12,cy:2,r:0,fill:"currentColor",transform:"rotate(180 12 12)",children:(0,Ne.jsx)("animate",{attributeName:"r",begin:"0.5s",calcMode:"spline",dur:"1s",keySplines:"0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8",repeatCount:"indefinite",values:"0;2;0;0"})}),(0,Ne.jsx)("circle",{cx:12,cy:2,r:0,fill:"currentColor",transform:"rotate(225 12 12)",children:(0,Ne.jsx)("animate",{attributeName:"r",begin:"0.625s",calcMode:"spline",dur:"1s",keySplines:"0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8",repeatCount:"indefinite",values:"0;2;0;0"})}),(0,Ne.jsx)("circle",{cx:12,cy:2,r:0,fill:"currentColor",transform:"rotate(270 12 12)",children:(0,Ne.jsx)("animate",{attributeName:"r",begin:"0.75s",calcMode:"spline",dur:"1s",keySplines:"0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8",repeatCount:"indefinite",values:"0;2;0;0"})}),(0,Ne.jsx)("circle",{cx:12,cy:2,r:0,fill:"currentColor",transform:"rotate(315 12 12)",children:(0,Ne.jsx)("animate",{attributeName:"r",begin:"0.875s",calcMode:"spline",dur:"1s",keySplines:"0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8",repeatCount:"indefinite",values:"0;2;0;0"})})]}))}var i=t(26441),a=t(34397),o=t(10581),qe=t(80854),M=function(e){var t=e.id,n=e.type,l=e.isRight,l=void 0!==l&&l,e=e.isReply,e=void 0!==e&&e,r=(0,qe.useModel)("orderHistoryCache"),s=r.getHistoryOrderDetailById;r.historyOrderDetail;return(0,Ne.jsxs)(Ne.Fragment,{children:[+n==+ke.$S.BUY&&(0,Ne.jsx)(Ne.Fragment,{children:(0,Ne.jsx)(i.Z,{isRight:l,isReply:e,item:s(n,t)?s(n,t):{},clickOnTheCard:function(e){var t;(null==e?void 0:e.sourceType)!==ke.K1.CONTRACT_TRANSFER&&([ke.K1.CONTRACT_ORDER_TRADE,ke.K1.CONTRACT_ORDER_TRADE_PRICE_LIMIT].includes(null==e?void 0:e.sourceType)?o.m.push("".concat(b.Z.CONTRACT_ORDER_DETAIL,"/").concat(null==e||null==(t=e.orderInfo)?void 0:t.id,"?type=coin")):o.m.push("".concat(b.Z.CONTRACT_ORDER_DETAIL,"/").concat(null==e||null==(t=e.orderInfo)?void 0:t.id,"?source=").concat(null==e?void 0:e.sourceType)))}})}),(+n==+ke.$S.ADD||+n==+ke.$S.SUB)&&(0,Ne.jsx)(a.Z,{isRight:l,isReply:e,item:s(n,t)?s(n,t):{},clickOnTheCard:function(e){o.m.push(b.Z.TRADINGHISTORYDETAIL,{id:e.id,type:null==e?void 0:e.cardType})}})]})},Ae=t(67421),O=t(71455),u=function(e){e.nickName,e.createTime;var t,n=e.children,l=e.content,e=e.isRight;(0,Ae.$G)().t;return(0,Ne.jsxs)("div",{children:[(0,Ne.jsx)("div",{className:"bg-[#000]/10 rounded-md  relative    p-[10px]  mt-1 box-border",children:n}),(0,Ne.jsx)("div",{className:"bg-[transparent]",children:(n=null==l?void 0:l.type,l={payload:{data:null==l?void 0:l.data}},e=e,n===ke.np.TEXT?(0,Ne.jsx)(I,{isRight:e,item:l,type:n,isShowAvatar:!1,isReply:!0,children:(0,Ne.jsx)("div",{className:"p-1 bg-[transparent] rounded-md break-words text-backContrastColor",children:null==l||null==(t=l.payload)||null==(t=t.data)?void 0:t.text})}):n===ke.np.IMAGE?(0,Ne.jsx)("div",{className:"relative",children:(0,Ne.jsx)(I,{isRight:e,item:l,type:n,isShowAvatar:!1,isReply:!0,children:(0,Ne.jsx)("div",{className:"p-1 bg-[transparent] rounded-md break-words relative",children:(0,Ne.jsx)(O.HI,{src:null==l||null==(t=l.payload)||null==(t=t.data)?void 0:t.url,children:(0,Ne.jsx)("img",{src:null==l||null==(t=l.payload)||null==(t=t.data)?void 0:t.url,alt:"",className:"h-[100px] w-full object-cover"})})})})}):n===ke.np.VIDEO?(0,Ne.jsx)("div",{className:"relative",children:(0,Ne.jsx)(I,{isRight:e,item:l,type:n,isShowAvatar:!1,isReply:!0,children:(0,Ne.jsx)("div",{className:"p-1 bg-[transparent] rounded-md break-words relative",children:(0,Ne.jsx)("div",{className:"rounded-md break-words relative",children:(0,Ne.jsx)("video",{src:null==l||null==(t=l.payload)||null==(t=t.data)?void 0:t.url,controls:!0,className:"h-[100px] w-full object-cover"})})})})}):n===ke.np.ORDER?(0,Ne.jsx)(I,{isRight:e,item:l,type:n,isShowAvatar:!1,isReply:!0,children:(0,Ne.jsx)("div",{className:"p-1 bg-[transparent]",children:(0,Ne.jsx)(M,Se()({isRight:e},null==l||null==(t=l.payload)?void 0:t.data))})}):null)})]})},k=t(60854),p=t(15704);function I(e){var t=e.isRight,n=e.item,l=e.children,r=e.isShowAvatar,r=void 0===r||r,e=e.isReply,e=void 0!==e&&e,s=(0,Ae.$G)().t,i=(0,qe.useModel)("imSocket"),o=i.imSocketState,a=i.sendImMessage;return n.status===ke.DO.WITHDRAW_MESSAGE?(0,Ne.jsx)(Ne.Fragment,{children:t?(0,Ne.jsx)("div",{className:"flex justify-center text-xs",children:(0,Ne.jsx)("div",{children:(0,Ne.jsxs)("span",{children:[null==(i=k.Z.formatDate(n.createTime))?void 0:i.slice(11)," ",s("你撤回了一条消息")]})})}):(0,Ne.jsx)("div",{className:"flex justify-center text-xs",children:(0,Ne.jsxs)("span",{children:[null==(i=k.Z.formatDate(n.createTime))?void 0:i.slice(11)," ",s("对方撤回了一条消息")]})})}):(0,Ne.jsx)(Ne.Fragment,{children:t?(0,Ne.jsxs)("div",{className:"flex items-center relative justify-end w-full text-backContrastColor",children:[(null==n?void 0:n.sendStatus)===ke.U1.WAIT&&(0,Ne.jsx)("div",{className:"flex items-center mr-2",children:(0,Ne.jsx)(c,{className:"mx-1 text-primary"})}),(null==n?void 0:n.sendStatus)===ke.U1.FAIL&&(0,Ne.jsx)("div",{className:"flex items-center mr-2",onClick:function(){o&&a({type:"SEND_MESSAGE",data:Se()(Se()({},n),{},{sendStatus:ke.U1.WAIT})})},children:(0,Ne.jsx)("div",{className:"mx-1 text-backContrastColor rounded-full text-xs flex justify-center items-center w-[18px] h-[18px] bg-errorColor",children:"!"})}),n.status===ke.DO.EDIT_MESSAGE&&(0,Ne.jsxs)("span",{className:"text-xs text-auxiliaryTextColor flex-shrink-0 mr-2",children:["（",s("已编辑"),"）"]}),(0,Ne.jsx)("div",{className:"w-full",children:(0,Ne.jsxs)("div",{className:"".concat(e?"bg-[transparent   ]":"bg-primary/70"," rounded-md break-words p-2"),children:[!(null!=n&&null!=(i=n.payload)&&null!=(i=i.data)&&i.replyId)&&l,(null==n||null==(i=n.payload)||null==(i=i.data)?void 0:i.replyId)&&(0,Ne.jsx)(u,{isRight:t,content:null==n||null==(i=n.payload)||null==(i=i.data)?void 0:i.content,nickName:null==n||null==(t=n.payload)||null==(t=t.data)||null==(t=t.userInfo)?void 0:t.username,createTime:k.Z.formatDate(null==n||null==(i=n.payload)||null==(i=i.data)?void 0:i.createTime),children:l})]})})]}):(0,Ne.jsxs)("div",{className:"flex items-center",children:[r&&(0,Ne.jsx)("span",{className:"w-[30px] flex-shrink-0 mr-2",children:(0,Ne.jsx)(p.J,{className:"w-[26px] h-[26px] flex-shrink-0 rounded-full object-cover",src:null==n||null==(t=n.userInfo)?void 0:t.avatar})}),(0,Ne.jsx)("div",{className:"w-[100%]",children:(0,Ne.jsxs)("div",{className:"".concat(e?"":"bg-backgroundAuxiliaryTextColor","  rounded-md break-words ").concat(r?"p-2":"p-0"),children:[!(null!=n&&null!=(i=n.payload)&&null!=(i=i.data)&&i.replyId)&&l,(null==n||null==(t=n.payload)||null==(t=t.data)?void 0:t.replyId)&&(0,Ne.jsx)(u,{content:null==n||null==(e=n.payload)||null==(e=e.data)?void 0:e.content,nickName:null==n||null==(r=n.payload)||null==(r=r.data)||null==(r=r.userInfo)?void 0:r.username,createTime:k.Z.formatDate(null==n||null==(i=n.payload)||null==(i=i.data)?void 0:i.createTime),children:l})]})}),n.status===ke.DO.EDIT_MESSAGE&&(0,Ne.jsxs)("span",{className:"text-xs text-auxiliaryTextColor flex-shrink-0 ml-2",children:["（",s("已编辑"),"）"]})]})})}function _(e){var t,e=e.payload;return(0,Ne.jsxs)(Ne.Fragment,{children:[(null==e?void 0:e.type)===ke.np.TEXT&&(0,Ne.jsx)("div",{children:null!=e&&null!=(t=e.data)&&t.replyId?null==e||null==(t=e.data)||null==(t=t.content)||null==(t=t.data)?void 0:t.text:null==e||null==(t=e.data)?void 0:t.text}),(null==e?void 0:e.type)===ke.np.IMAGE&&(0,Ne.jsx)("div",{className:"w-full",children:null!=e&&null!=(t=e.data)&&t.replyId?null==e||null==(t=e.data)?void 0:t.content:(0,Ne.jsx)(Ne.Fragment,{children:(0,Ne.jsx)(p.J,{className:"w-[100%] h-14 flex-shrink-0 rounded-md object-cover",src:null==e||null==(t=e.data)?void 0:t.url})})}),(null==e?void 0:e.type)===ke.np.VIDEO&&(0,Ne.jsx)("div",{className:"w-full",children:null!=e&&null!=(t=e.data)&&t.replyId?null==e||null==(t=e.data)?void 0:t.content:(0,Ne.jsx)(Ne.Fragment,{children:(0,Ne.jsx)("div",{className:"rounded-md break-words relative",children:(0,Ne.jsx)("video",{src:null==e||null==(t=e.data)?void 0:t.url,height:"100%",className:"max-h-[40px]"})})})}),(null==e?void 0:e.type)===ke.np.ORDER&&(0,Ne.jsx)("div",{className:"w-full",children:null!=e&&null!=(t=e.data)&&t.replyId?null==e||null==(t=e.data)?void 0:t.content:(0,Ne.jsx)("div",{className:"max-w-[90%]",children:(0,Ne.jsx)(M,Se()({},null==e?void 0:e.data))})})]})}function x(e){return(0,Ne.jsxs)("svg",Se()(Se()({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 64 64"},e),{},{children:[(0,Ne.jsx)("circle",{cx:"32",cy:"32",r:"30",fill:"#ffdd67"}),(0,Ne.jsx)("path",{fill:"#664e27",d:"M41 49.7c-5.8-4.8-12.2-4.8-18 0c-.7.6-1.3-.4-.8-1.3c1.8-3.4 5.3-6.5 9.8-6.5s8.1 3.1 9.8 6.5c.5.8-.1 1.8-.8 1.3"}),(0,Ne.jsx)("path",{fill:"#fff",d:"M10.2 24.9c-1.5 4.7.6 10 5.3 12.1c4.6 2.2 10 .5 12.7-3.7l-6.9-7.7z"}),(0,Ne.jsxs)("g",{fill:"#664e27",children:[(0,Ne.jsx)("path",{d:"M14.2 25.8c-1.4 2.9-.1 6.4 2.8 7.7c2.9 1.4 6.4.1 7.7-2.8c1-1.9-9.6-6.8-10.5-4.9"}),(0,Ne.jsx)("path",{d:"M10.2 24.9c1.6-1 3.5-1.5 5.4-1.5c1.9 0 3.8.5 5.6 1.3c1.7.8 3.3 2 4.6 3.4c1.2 1.5 2.2 3.2 2.4 5.1c-1.3-1.3-2.6-2.4-4-3.4S21.4 28 20 27.4c-1.5-.7-3-1.2-4.6-1.7c-1.8-.3-3.4-.6-5.2-.8"})]}),(0,Ne.jsx)("path",{fill:"#fff",d:"M53.8 24.9c1.5 4.7-.6 10-5.3 12.1c-4.6 2.2-10 .5-12.7-3.7l6.9-7.7z"}),(0,Ne.jsxs)("g",{fill:"#664e27",children:[(0,Ne.jsx)("path",{d:"M49.8 25.8c1.4 2.9.1 6.4-2.8 7.7c-2.9 1.4-6.4.1-7.7-2.8c-1-1.9 9.6-6.8 10.5-4.9"}),(0,Ne.jsx)("path",{d:"M53.8 24.9c-1.6-1-3.5-1.5-5.4-1.5c-1.9 0-3.8.5-5.6 1.3c-1.7.8-3.3 2-4.6 3.4c-1.2 1.5-2.2 3.2-2.4 5.1c1.3-1.3 2.6-2.4 4-3.4s2.8-1.8 4.2-2.4c1.5-.7 3-1.2 4.6-1.7c1.8-.3 3.4-.6 5.2-.8"})]})]}))}function h(e){return(0,Ne.jsxs)("svg",Se()(Se()({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 64 64"},e),{},{children:[(0,Ne.jsx)("circle",{cx:"32",cy:"32",r:"30",fill:"#ffdd67"}),(0,Ne.jsx)("path",{fill:"#f46767",d:"M50.9 58h-.1z"}),(0,Ne.jsx)("ellipse",{cx:"22",cy:"27",fill:"#664e27",rx:"5",ry:"6"}),(0,Ne.jsx)("path",{fill:"#f46767",d:"M61.4 42.6c-.9-1.8-2.7-3-5-2.8c-2.3.2-4.1 1.4-5.6 3.5c-1.5-2-3.3-3.3-5.6-3.4c-2.3-.1-4.1 1.1-5 2.9c-.9 1.8-.9 4.2.9 7c1.8 2.7 9.5 8.2 9.7 8.4c.2-.2 7.9-5.8 9.7-8.4c1.8-3 1.8-5.4.9-7.2"}),(0,Ne.jsx)("path",{fill:"#664e27",d:"M51.9 30.5c-1.9-4.1-4.7-6.1-7.5-6.1s-5.6 2-7.5 6.1c-.2.4.8 1.2 1.3.8c1.8-1.5 4-2.1 6.2-2.1s4.4.6 6.2 2.1c.5.4 1.4-.3 1.3-.8M39.5 50.4c1.6-1.6-1.8-3-1.8-5.9s3.4-4.2 1.8-5.9c-1.9-2-6-.5-8.6-3.1c0 2.2 1.8 4.5 5.2 4.5c0 0-2.3.9-2.3 4.5s2.3 4.5 2.3 4.5c-3.4 0-5.2 2.3-5.2 4.5c2.6-2.7 6.7-1.2 8.6-3.1"})]}))}function m(e){return(0,Ne.jsxs)("svg",Se()(Se()({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 64 64"},e),{},{children:[(0,Ne.jsxs)("g",{fill:"#65b1ef",children:[(0,Ne.jsx)("ellipse",{cx:"17.5",cy:"59.9",rx:"12.5",ry:"1.5"}),(0,Ne.jsx)("ellipse",{cx:"44",cy:"60.2",rx:"18",ry:"1.8"})]}),(0,Ne.jsx)("circle",{cx:"32",cy:"32",r:"30",fill:"#ffdd67"}),(0,Ne.jsx)("path",{fill:"#664e27",d:"M44.7 46c-1.4-3.6-4.8-6-12.7-6c-8 0-11.3 2.4-12.7 6c-.7 1.9.3 5 .3 5c1.3 3.9 1.1 5 12.4 5s11.1-1.1 12.4-5c0 0 1.1-3.1.3-5"}),(0,Ne.jsx)("path",{fill:"#fff",d:"M41 45c.1-.3 0-.6-.2-.8c0 0-2-2.2-8.8-2.2c-6.8 0-8.8 2.2-8.8 2.2c-.2.1-.2.5-.2.8l.2.6c.1.3.3.5.5.5h16.6c.2 0 .5-.2.5-.5z"}),(0,Ne.jsx)("path",{fill:"#65b1ef",d:"M44.5 60.5h6.8c8.2-9.9-1.5-20 .9-29.8c-2.3 0-4.6 2.5-6.8 2.5c-3.2 9.5 7.3 17.4-.9 27.3m-25 0h-6.8c-8.2-9.9 1.5-20-.9-29.8c2.3 0 4.6 2.5 6.8 2.5c3.2 9.5-7.3 17.4.9 27.3"}),(0,Ne.jsx)("path",{fill:"#917524",d:"M40.7 18.3c3 3 7.2 4.5 11.4 4.1c.6-.1.9 2.1.2 2.2c-4.9.4-9.7-1.3-13.1-4.8c-.6-.5 1.1-1.9 1.5-1.5M12 22.4c4.2.4 8.4-1.1 11.4-4.1c.4-.4 2.1 1 1.6 1.5c-3.4 3.5-8.3 5.2-13.1 4.8c-.9 0-.5-2.2.1-2.2"}),(0,Ne.jsx)("path",{fill:"#664e27",d:"M35.9 30.3c4.2 8 12.7 8 16.9 0c.2-.4-.3-.6-1-1c-4.2 3.3-11.1 3-14.9 0c-.6.4-1.2.6-1 1m-24.7 0c4.2 8 12.7 8 16.9 0c.2-.4-.3-.6-1-1c-4.2 3.3-11.1 3-14.9 0c-.7.4-1.2.6-1 1"})]}))}function f(e){return(0,Ne.jsxs)("svg",Se()(Se()({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 64 64"},e),{},{children:[(0,Ne.jsx)("circle",{cx:"32",cy:"32",r:"30",fill:"#ffdd67"}),(0,Ne.jsxs)("g",{fill:"#664e27",children:[(0,Ne.jsx)("circle",{cx:"20.5",cy:"26.6",r:"5"}),(0,Ne.jsx)("circle",{cx:"43.5",cy:"26.6",r:"5"}),(0,Ne.jsx)("path",{d:"M44.6 40.3c-8.1 5.7-17.1 5.6-25.2 0c-1-.7-1.8.5-1.2 1.6c2.5 4 7.4 7.7 13.8 7.7s11.3-3.6 13.8-7.7c.6-1.1-.2-2.3-1.2-1.6"})]})]}))}function g(e){return(0,Ne.jsxs)("svg",Se()(Se()({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 64 64"},e),{},{children:[(0,Ne.jsx)("circle",{cx:32,cy:32,r:30,fill:"#ffdd67"}),(0,Ne.jsxs)("g",{fill:"#664e27",children:[(0,Ne.jsx)("circle",{cx:20.5,cy:29.6,r:5}),(0,Ne.jsx)("circle",{cx:43.5,cy:29.6,r:5})]}),(0,Ne.jsx)("path",{fill:"#917524",d:"M51.2 18.7c-3.2-2.7-7.5-3.9-11.7-3.1c-.6.1-1.1-2-.4-2.2c4.8-.9 9.8.5 13.5 3.6c.6.5-1 2.1-1.4 1.7m-26.7-3.3c-4.2-.7-8.5.4-11.7 3.1c-.4.4-2-1.2-1.4-1.7c3.7-3.2 8.7-4.5 13.5-3.6c.7.2.2 2.4-.4 2.2"}),(0,Ne.jsx)("path",{fill:"#664e27",d:"M40.6 44.4c-5.4-2.5-11.8-2.5-17.2 0c-1.3.6.3 4.2 1.7 3.5c3.6-1.7 8.9-2.3 13.9 0c1.3.6 3-2.8 1.6-3.5"})]}))}function U(e){var t=e.data,e=(0,be.useState)(!1),n=(e=Ce()(e,2))[0],l=e[1],r=(0,Ae.$G)().t,e=(0,be.useState)(""),s=(e=Ce()(e,2))[0],i=e[1],o=(0,De.lS)(Le.IF,{manual:!0,onSuccess:function(){l(!0),Pe.Am.success(r("反馈成功"))}}).run,e=[{icon:m,text:r("不满意"),value:1},{icon:x,text:r("一般满意"),value:2},{icon:g,text:r("满意"),value:3},{icon:f,text:r("非常满意"),value:4},{icon:h,text:r("超级满意"),value:5}],a=(0,be.useState)(e[4]),c=(a=Ce()(a,2))[0],u=a[1];return(0,Ne.jsxs)("div",{className:"bg-backgroundAuxiliaryTextColor p-2 rounded-md break-words mx-4 mt-4 pb-4",children:[(0,Ne.jsx)("div",{className:"pt-2",children:r("在线客服")}),(0,Ne.jsx)("div",{className:"grid grid-cols-5 text-xl  pt-4 px-1 w-full",children:null==e?void 0:e.map(function(e){return(0,Ne.jsxs)("div",{className:"flex flex-col flex-1 items-center",onClick:function(){n||u(e)},children:[(0,Ne.jsx)(e.icon,{className:"text-xl duration-300 ".concat(e.value===(null==c?void 0:c.value)?"scale-[1.6]":"")}),(0,Ne.jsx)("div",{className:"text-xs pt-2 text-center w-full px-2",children:e.text})]},null==e?void 0:e.value)})}),(0,Ne.jsx)("div",{className:"pt-4 mb-4 text-xxs text-auxiliaryTextColor",children:r("请为我服务进行打分")}),(0,Ne.jsx)(Me.Z,{value:s,onChange:function(e){return i(e.target.value)},placeholder:r("请对客服评价"),isShowClear:!1,disabled:n,classNames:{clearButton:"block opacity-100 right-[3px]",input:"w-full"}}),(0,Ne.jsx)(d.A,{size:"sm",disabled:n,fullWidth:!0,onClick:function(){n||o({orderNumber:t,grade:c.value,gradeText:s})},children:r(n?"已提交":"提交反馈")})]})}var Le=t(86547),De=t(50040),d=t(81481),Pe=t(55678),R=t(5251),E=t(86679),q=t(36609);function l(e){var e=e||{},t=e.messageList,v=e.setWhatNeedsToBeRepliedTo,h=e.setCurrentReplyContent,n=e.bottomListRef,m=e.setCurrentEditMessage,f=e.setMsg,g=e.groupId,e=(0,qe.useModel)("imSocket"),j=e.setImMessage,y=e.imSocketState,w=e.sendImMessage,e=(0,be.useMemo)(function(){var l;return null!=t&&t.length?(l=null)==t?void 0:t.map(function(e){var t=new Date(null==e?void 0:e.createTime),n=!l||3e5<t-l;return n&&(l=t),Se()(Se()({},e),{},{payload:(0,E.wB)(e.payload),displayTime:n})}):[]},[t]),l=(0,be.useState)(),l=Ce()(l,2),T=l[0],C=l[1],S=(0,qe.useModel)("appInfo").appInfo;return(0,Ne.jsx)(O.TV,{children:(0,Ne.jsxs)("div",{className:"h-full px-4 pt-2",children:[e.map(function(e,t){var n,l,r,s,i,o,a,c=(0,E.wB)(null==e||null==(c=e.payload)?void 0:c.data),u=null!=(u=null==e||null==(u=e.payload)?void 0:u.type)?u:ke.np.TEXT,d=null==e?void 0:e.status,p=0===(null==e?void 0:e.showDirection),x=Se()(Se()({},e),{},{payload:Se()(Se()({},e.payload),{},{data:c})});return(0,Ne.jsxs)("div",{className:"pt-4",children:[(null==e?void 0:e.displayTime)&&(0,Ne.jsx)("div",{className:"pl-2 text-auxiliaryTextColor text-xxs pb-2 text-center",children:k.Z.formatDate(null==e?void 0:e.createTime)}),"EVALUATION"!==u&&(0,Ne.jsx)("div",{className:"w-full mb-2  ".concat(p?"pl-[30%]":"pr-[30%]"," ").concat(d===ke.DO.WITHDRAW_MESSAGE?"!px-0":""),children:(0,Ne.jsx)(G,{isOpen:t===T,onLongTouch:function(){C(function(e){return+e!==t?t:e})},setIsMenuOpen:C,data:e,menuClass:p?"right-[34px]":"left-[34px]",menuList:(l=e,r=(0,E.wB)(null==l||null==(i=l.payload)?void 0:i.data),s=null!=(i=null==l||null==(i=l.payload)?void 0:i.type)?i:ke.np.TEXT,i=null==l?void 0:l.status,d=0===(null==l?void 0:l.showDirection),o=Se()(Se()({},l),{},{payload:Se()(Se()({},l.payload),{},{data:r})}),a=((new Date).getTime()-new Date(null==l?void 0:l.createTime).getTime())/1e3/60,i===ke.DO.WITHDRAW_MESSAGE?[]:null==(i=[{icon:N.E,label:(0,q.t)("复制"),hidden:s!==ke.np.TEXT||!(null!=l&&l.id),handleClick:function(){var e;null!=r&&r.replyId?R.c.copyText(null==r||null==(e=r.content)||null==(e=e.data)?void 0:e.text):R.c.copyText(null==r?void 0:r.text)}},{icon:L,label:(0,q.t)("回复"),hidden:!(null!=l&&l.id),handleClick:function(){r.replyId?(h(Se()(Se()({},l),{},{payload:Se()(Se()({},null==l?void 0:l.payload),null==r?void 0:r.content)})),v((0,Ne.jsx)(Ne.Fragment,{children:(0,Ne.jsx)(_,Se()({},Se()(Se()({},l),{},{payload:Se()(Se()({},null==l?void 0:l.payload),null==r?void 0:r.content)})))}))):(h(o),v((0,Ne.jsx)(Ne.Fragment,{children:(0,Ne.jsx)(_,Se()({},o))})))}},{icon:H.d,label:(0,q.t)("编辑"),hidden:s!==ke.np.TEXT||!d||!(null!=l&&l.id)||(null==r?void 0:r.replyId),handleClick:function(){m(o),f(null==r?void 0:r.text)}},{icon:D,label:(0,q.t)("撤回消息"),hidden:!d||a>(null==S?void 0:S.IM_MESSAGE_REVOKE_TIME_LIMIT)||!(null!=l&&l.id),handleClick:function(){w({type:"REVOKE_MESSAGE",data:{groupId:g,id:null==o?void 0:o.id}})}},{icon:A.s,label:(0,q.t)("查看详情"),hidden:s!==ke.np.ORDER||!(null!=l&&l.id),handleClick:function(){s===ke.np.ORDER&&(+(null==r?void 0:r.type)==+ke.$S.BUY?qe.history.push("/funds/orderHistoryDetail/"+(null==r?void 0:r.id)):qe.history.push(b.Z.TRADINGHISTORYDETAIL,{id:null==r?void 0:r.id,type:null==r?void 0:r.type}))}},{icon:F,label:(0,q.t)("取消发送"),hidden:(null==l?void 0:l.sendStatus)!==ke.U1.FAIL,handleClick:function(){j(function(e){return null==e?void 0:e.filter(function(e){return(null==(e=(0,E.wB)(null==(e=(0,E.wB)(e.payload))?void 0:e.data))?void 0:e.uuid)!==(null==(e=(0,E.wB)(null==l||null==(e=l.payload)?void 0:e.data))?void 0:e.uuid)})})}},{icon:B,label:(0,q.t)("重新发送"),hidden:(null==l?void 0:l.sendStatus)!==ke.U1.FAIL,handleClick:function(){y&&w({type:"SEND_MESSAGE",data:null==l?void 0:l.payload})}}])?void 0:i.filter(function(e){return!e.hidden})),children:(0,Ne.jsx)("div",{onContextMenu:function(e){return e.preventDefault()},children:(d=x,a=p,(i=u)===ke.np.TEXT?(0,Ne.jsx)(Ne.Fragment,{children:(0,Ne.jsx)(I,{isRight:a,item:d,type:i,children:(0,Ne.jsx)("div",{className:"text-backContrastColor rounded-md break-words",children:null==d||null==(n=d.payload)||null==(n=n.data)?void 0:n.text})})}):i===ke.np.IMAGE?(0,Ne.jsx)("div",{className:"relative",children:(0,Ne.jsx)(I,{isRight:a,item:d,type:i,children:(0,Ne.jsx)("div",{className:"rounded-md break-words relative",children:(0,Ne.jsx)(O.HI,{src:null==d||null==(n=d.payload)||null==(n=n.data)?void 0:n.url,children:(0,Ne.jsx)("img",{src:null==d||null==(n=d.payload)||null==(n=n.data)?void 0:n.url,alt:"",className:"h-[100px] w-full object-cover"})})})})}):i===ke.np.VIDEO?(0,Ne.jsx)("div",{className:"relative",children:(0,Ne.jsx)(I,{isRight:a,item:d,type:i,children:(0,Ne.jsx)("div",{className:"".concat((null!=d&&null!=(n=d.payload)&&null!=(n=n.data)&&n.replyId,"")," rounded-md break-words relative"),children:(0,Ne.jsx)("video",{src:null==d||null==(n=d.payload)||null==(n=n.data)?void 0:n.url,controls:!0,className:"h-[100px] w-full object-cover"})})})}):i===ke.np.ORDER?(0,Ne.jsx)(I,{isRight:a,item:d,type:i,children:(0,Ne.jsx)(M,Se()(Se()({},null==d||null==(n=d.payload)?void 0:n.data),{},{isRight:a,isReply:(null==d||null==(i=d.payload)||null==(i=i.data)?void 0:i.replyId)&&a}))}):null)})})}),"EVALUATION"===u&&(0,Ne.jsx)(U,{data:c})]},null==e?void 0:e.id)}),(0,Ne.jsx)("div",{ref:n})]})})}var $e=be.memo(l),r=t(77666),s=["😀","😃","😄","😁","😆","😅","🤣","😂","🙂","🙃","😉","😊","😇","🥰","😍","🤩","😘","😗","☺","😚","😙","😋","😛","😜","🤪","😝","🤑","🤗","🤭","🤫","🤔","🤐","🤨","😐","😑","😶","😏","😒","🙄","😬","🤥","😌","😔","😪","🤤","😴","😷","🤒","🤕","🤢","🤮","🤧","🥵","🥶","🥴","😵","🤯","🤠","🥳","🥸","😎","🤓","🧐","😕","😟","🙁","☹","😮","😯","😲","😳","🥺","😦","😧","😨","😰","😥","😢","😭","😱","😖","😣","😞","😓","😩","😫","🥱","😤","😡","😠","🤬","😈","👿","💀","☠","*","🤡","👹","👺","👻","👽","👾","🤖","😺","😸","😹","😻","😼","😽","🙀","😿","😾","🙈","🙉","🙊","💋","💌","💘","💝","💖","💗","💓","💞","💕","💟","❣","💔","❤","🧡","💛","💚","💙","💜","🤎","🖤","🤍","💯","💢","💥","💫","💦","💨","🕳","💣","💬","👁","🗨","🗯","💭","💤","🤚","🖐","✋","🖖","👌","🤌","🤏","✌","🤞","🤟","🤘","🤙","👈","👉","👆","🖕","👇","☝","👍","👎","✊","👊","🤛","🤜","👏","🙌","👐","🤲","🤝","🙏","✍","💅","🤳","💪","🦾","🦿","🦵","🦶","👂","🦻","*","🧠","🫀","🫁","🦷","🦴","👀","👁","👅","👄","👶","🧒","👦","👧","🧑","👱","👨","🧔","👩","🧓","👴","👵","🙍","🙎","🙅","🙆","💁","🙋","🧏","🙇","🤦","🤷","👮","🕵","💂","🥷","👷","🤴","👸","👳","👲","🧕","🤵","👰","🤰","🤱","👼","🎅","🤶","🦸","🦹","🧙","🧚","🧛","🧜","🧝","🧞","🧟","💆","💇","🚶","🧍","🧎","🏃","💃","🕺","🕴","👯","🧖","🧗","🤺","🏇","⛷","🏂","🏌","🏄","🚣","🏊","⛹","🏋","🚴","🚵","🤸","🤼","🤽","🤾","🤹","🧘","🛀","🛌","👭","👫","👬","💏","💑","👪","🗣","👤","👥","🫂","👣","🐵","🐒","🦍","🦧","*","🐕","🦮","🐕","🐩","🐺","🦊","🦝","🐱","🐈","🐈","🦁","🐯","🐅","🐆","*","*","🦄","🦓","🦌","🦬","*","🐂","🐃","🐄","🐷","🐖","🐗","🐽","🐏","🐑","🐐","🐪","🐫","🦙","🦒","🐘","🦣","🦏","🦛","🐭","🐁","🐀","🐹","🐰","🐇","🐿","🦫","🦔","🦇","*","*","🐨","🐼","🦥","🦦","🦨","🦘","🦡","🐾","🦃","🐔","🐓","🐣","🐤","🐥","🐦","*","🕊","🦅","🦆","🦢","🦉","🦩","🦚","🦜","🐸","🐊","*","🦎","🐍","🐲","🐉","🦕","🦖","🐳","🐋","🐬","🦭","🐟","*","🐡","🦈","🐙","🐚","🐌","🦋","*","🐜","🐝","🐞","🦗","🕷","🕸","🦂","🦟","🦠","💐","🌸","💮","🏵","🌹","🥀","🌺","🌻","🌼","🌷","🌱","🪴","🌲","🌳","🌴","🌵","🌾","🌿","☘","🍀","🍁","🍂","🍃","🍇","🍈","🍉","🍊","🍋","🍌","🍍","🥭","🍎","🍏","*","🍑","🍒","🍓","🫐","🥝","🍅","🫒","🥥","🥑","🍆","🥔","🥕","🌽","🌶","🫑","🥒","🥬","🥦","🧄","🧅","🍄","🥜","🌰","🍞","🥐","🥖","🫓","🥨","🥯","🥞","🧇","🧀","🍖","🍗","🥩","🥓","🍔","🍟","🍕","🌭","🥪","🌮","🌯","🥙","🧆","🥚","🍳","🥘","🍲","🥣","🥗","🍿","🧈","🧂","🥫","🍱","🍘","🍙","🍚","🍛","🍜","🍝","🍠","🍢","🍣","🍤","🍥","🥮","🍡","🥟","🥠","🥡","🦀","🦞","🦐","🦑","🦪","🍦","🍧","🍨","🍩","🍪","🎂","🍰","🧁","🥧","🍫","🍬","🍭","🍮","🍯","🍼","🥛","☕","🍵","🍶","🍾","🍷","🍸","🍹","*","🍻","🥂","🥃","🥤","🧃","🧉","🧊","🥢","🍽","🍴","🥄","🔪","🏺","🌍","🌎","🌏","🌐","🗺","🗾","🧭","🏔","⛰","🌋","🗻","🏕","🏖","🏜","🏝","🏞","🏟","🏛","🏗","🧱","🏘","🏚","🏠","🏡","🏢","🏣","🏤","🏥","🏦","🏨","🏩","🏪","🏫","🏬","🏭","🏯","🏰","💒","*","🗽","⛪","🕌","🛕","🕍","⛩","🕋","⛲","⛺","🌁","🌃","🏙","🌄","🌅","🌆","🌇","🌉","♨","🎠","🎡","🎢","💈","🎪","🚂","🚃","🚄","🚅","🚆","🚇","🚈","🚉","🚊","🚝","🚞","🚋","🚌","🚍","🚎","🚐","🚑","🚒","🚓","🚔","🚕","🚖","🚗","🚘","🚙","🛻","🚚","🚛","🚜","🏎","🏍","🛵","🦽","🦼","🛺","🚲","🛴","🛹","🛼","🚏","🛣","🛤","🛢","⛽","🚨","🚥","🚦","🛑","🚧","⚓","⛵","🛶","🚤","🛳","⛴","🛥","🚢","✈","🛩","🛫","🛬","🪂","💺","🚁","🚟","🚠","🚡","🛰","🚀","🛸","🛎","🧳","⌛","⏳","⌚","⏰","⏱","⏲","🕰","🕛","🕧","🕐","🕜","🕑","🕝","🕒","🕞","🕓","🕟","🕔","🕠","🕕","🕡","🕖","🕢","🕗","🕣","🕘","🕤","🕙","🕥","🕚","🕦","🌑","🌒","🌓","🌔","🌕","🌖","🌗","🌘","🌙","🌚","🌛","🌜","🌡","☀","🌝","🌞","🪐","⭐","🌟","🌠","🌌","☁","⛅","⛈","🌤","🌥","🌦","🌧","🌨","🌩","🌪","🌫","🌬","🌀","🌈","🌂","☂","☔","⛱","⚡","❄","☃","⛄","☄","*","💧","🌊","🚗","🚕","🚙","🚌","🚎","🏎","🚓","🚑","🚒","🚐","🚚","🚛","🚜","🛴","🚲","🛵","🏍","🚨","🚔","🚍","🚘","🚖","🚡","🚠","🚟","🚃","🚋","🚞","🚝","🚄","🚅","🚈","🚂","🚆","🚇","🚊","🚉"],w=t(31895);function Ke(e){var e=e||{},t=e.isOpen,n=e.onClose,l=e.setMsg;return(0,Ne.jsx)(r.Z,{isOpen:t,onClose:n,children:(0,Ne.jsx)(w.o,{hideScrollBar:!0,className:"h-[40vh] sm:h-[40vh] mb-[68px] pt-[20px]",children:(0,Ne.jsx)("div",{className:"pt-1 pb-4 grid grid-cols-8  text-foreground px-4 h-full max-w-[100%] sm:w-[30vw]",children:null==s?void 0:s.map(function(t,e){return(0,Ne.jsxs)("span",{className:"text-xl mb-2 text-center",onClick:function(){l(function(e){return e+t})},children:[" ",t," "]},e)})})})})}function Xe(e){var e=e||{},t=e.isOpen,n=e.onClose,l=e.setMsg,e=(0,Ae.$G)().t,e=[e("我想了解一下我的账户资金情况。"),e("请问最新的[股票名称]价格是多少？"),e("今天有哪些重要的市场新闻？"),e("能否得到最近一周的[某行业]市场分析报告？"),e("如何进行股票买卖？"),e("请问我应该怎样设置止损？"),e("我的交易平台无法正常打开，需要怎么处理？")];return(0,Ne.jsx)(r.Z,{isOpen:t,onClose:n,children:(0,Ne.jsx)("div",{className:"pt-1 text-foreground px-4 h-full max-w-[100%] pb-[70px] max-h-[400px] overflow-y-scroll",children:null==e?void 0:e.map(function(e){return(0,Ne.jsx)("div",{className:"break-words w-full",onClick:function(){l(e),n()},children:(0,Ne.jsx)("div",{className:"bg-backgroundAuxiliaryTextColor rounded-md break-words mb-3 p-2",children:e})},e)})})})}var e=t(19632),Be=t.n(e);function Ye(e){for(var t="0123456789abcdefghijklmnopqrstuvwxyz",n=(new Date).getTime().toString(),l=t.length,r=n.length,s=new Uint32Array(e),i=crypto.getRandomValues(s),o="",a=0;a<e;a++){var c=i[a]%l;if(o+=t.charAt(c),a===Math.floor(e/2))for(var u=0;u<r;u++){var d=i[a+u]%l;o+=n.charAt(d)}}return o}var Fe=t(41027);function T(e){var t=e.list,n=e.sendFn,l=(e.sourceOptions,(0,Ae.$G)().t);return(0,Ne.jsx)(Ne.Fragment,{children:t.map(function(t){var e;return(0,Ne.jsx)("div",{children:(0,Ne.jsx)(i.Z,{item:t,children:(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsxs)("div",{className:"flex justify-between mt-2 text-xs text-right",children:[(0,Ne.jsx)("span",{className:" text-auxiliaryTextColor",children:l("订单号")}),(0,Ne.jsxs)("span",{className:"text-auxiliaryTextColor flex items-center",children:[null==t||null==(e=t.orderInfo)?void 0:e.no," ",(0,Ne.jsx)(N.E,{onClick:function(){var e;return R.c.copyText(null==t||null==(e=t.orderInfo)?void 0:e.no)},className:"text-base ml-1"})]})]}),(0,Ne.jsx)(d.A,{className:"mainColorButton !h-[30px] !py-0 mt-2",onClick:function(){n({type:ke.$S.BUY,id:null==t?void 0:t.id})},children:l("发送")}),(0,Ne.jsx)(X.j,{className:"my-4 !bg-backgroundAuxiliaryTextColor"})]})})},null==t?void 0:t.id)})})}function V(e){var t=e.statusOption,n=e.changeStatus,l=e.currentStatus,r=e.t,s=e.currentFunds,i=(e.setOpen,e.loadMore),o=e.loading,a=e.list,c=e.total,u=e.sourceType,d=e.setSourceType,p=e.error,x=e.sourceOptions,e=e.sendFn;return(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)("div",{className:"flex justify-between relative",children:(0,Ne.jsxs)("div",{className:"flex",children:[(0,Ne.jsx)(v.Z,{options:t,onChange:n,current:l,title:r("方向")}),(0,Ne.jsx)(v.Z,{title:r("来源"),options:x,onChange:function(e){d(e)},current:u})]})}),(0,Ne.jsx)("div",{className:"pt-[30px]",children:(0,Ne.jsx)(S.Z,{loadMore:i,total:c,list:a,error:!!p,loading:o,children:(0,Ne.jsx)(T,{list:a,sourceOptions:x,type:s,sendFn:e})})})]})}function C(e){var t=e.list,n=e.sendFn,l=(0,Ae.$G)().t;return(0,Ne.jsx)(Ne.Fragment,{children:t.map(function(e){return(0,Ne.jsx)("div",{children:(0,Ne.jsxs)(a.Z,{item:e,children:[(0,Ne.jsx)(d.A,{className:"mainColorButton !h-[30px] !py-0 mt-1",onClick:function(){n({type:e.cardType,id:null==e?void 0:e.id})},children:l("发送")}),(0,Ne.jsx)(X.j,{className:"my-4 !bg-backgroundAuxiliaryTextColor"})]})},null==e?void 0:e.id)})})}function W(e){var t=e.selectedCompletedOrderOrderProcess,n=(e.setOpen,e.t),l=e.changeStatus,r=e.currentStatus,s=e.statusOption,i=e.loadMore,o=e.loading,a=e.list,c=e.total,u=e.error,e=e.sendFn;return(0,Ne.jsxs)(Ne.Fragment,{children:[(0,Ne.jsx)("div",{className:"flex justify-between relative",children:(0,Ne.jsx)(v.Z,{options:s,onChange:l,current:r,title:n("状态")})}),(0,Ne.jsx)("div",{className:"pt-[30px]",children:(0,Ne.jsx)(S.Z,{loadMore:i,total:c,list:a,error:!!u,loading:o,children:(0,Ne.jsx)(C,{sendFn:e,list:a,type:t,siftType:r.value})})})]})}function P(e){var t=e.completedOrderOrderProcessOptions,n=e.changeSelectedCompletedOrderOrderProcess,l=e.selectedCompletedOrderOrderProcess,e=e.sendFn;return(0,Ne.jsx)(Ne.Fragment,{children:(0,Ne.jsx)("div",{children:(0,Ne.jsx)("div",{children:(0,Ne.jsx)(Y.Z,{options:t,value:l,onChange:n,contentProps:{sendFn:e},tabsPropsProps:{classNames:{tabList:"px-0"}}})})})})}function $(){var e=(l=(0,J.Z)()).statusOption,t=l.fundsOption,n=l.orderTypeOptions,l=l.sourceOptions,r=(0,lt.Z)({}),r=Ce()(r,1)[0],s=(0,be.useState)(!1),i=(s=Ce()(s,2))[0],s=s[1],o=(r||{}).type,r=(0,be.useState)(ke.$S.BUY),a=(r=Ce()(r,2))[0],c=r[1],r=((0,Re.Z)(function(){o&&c(o)}),(0,be.useState)(e[0])),u=(r=Ce()(r,2))[0],d=r[1],r=(0,be.useState)(t[0]),p=(r=Ce()(r,2))[0],x=r[1],r=(0,be.useState)(l[0]),v=(r=Ce()(r,2))[0],r=r[1],h=(0,be.useState)(n[0]),m=(h=Ce()(h,2))[0],h=h[1],f=(0,be.useState)([]),g=(f=Ce()(f,2))[0],j=f[1],f=(0,be.useState)({pageNo:1,pageSize:10}),y=(f=Ce()(f,2))[0],w=f[1],f=(0,be.useState)({pageNo:1,pageSize:10,status:null==u?void 0:u.value}),T=(f=Ce()(f,2))[0],C=f[1],f=(0,be.useState)({pageNo:1,pageSize:10,status:null==u?void 0:u.value}),S=(f=Ce()(f,2))[0],N=f[1],b=Z()(Z()(Z()({},ke.$S.BUY,function(e){w(e)}),ke.$S.ADD,function(e){C(e)}),ke.$S.SUB,function(e){N(e)});(0,Ie.Z)(function(){d(e[0]),j([])},[a]),(0,Ie.Z)(function(){b[a]({pageNo:1,pageSize:10,sourceType:null==v?void 0:v.value,orderType:null==m?void 0:m.value,status:u.value,direction:null==p?void 0:p.value,startTime:0<g.length?encodeURI(g[0]+"T00:00:00"):void 0,endTime:0<g.length?encodeURI(g[1]+"T23:59:59"):void 0})},[u,p,v,m,g]);var M=(f=(0,z.P)(Le.zD,y)).list,O=f.loading,k=f.loadMore,I=f.error,f=f.total,R=(T=(0,z.P)(Le.AG,T)).list,E=T.loading,q=T.loadMore,A=T.error,T=T.total,L=(S=(0,z.P)(Le.Wl,S)).list,D=S.loading,B=S.loadMore,F=S.error,S=S.total;return{selectedCompletedOrderOrderProcess:a,changeSelectedCompletedOrderOrderProcess:function(e){c(e)},currentStatus:u,sourceType:v,open:i,setOpen:s,params:y,setTime:j,currentFunds:p,orderType:m,list:M,loading:O,loadMore:k,error:I,total:f,rechargeInformationList:R,loading2:E,loadMore2:q,error2:A,total2:T,withdrawalListList:L,loading3:D,loadMore3:B,error3:F,total3:S,changeStatus:function(e){d(e)},changeFunds:function(e){x(e)},sourceOptions:l,fundsOption:t,orderTypeOptions:n,statusOption:e,setSourceType:r,setOrderType:h}}var Je=t(72551),Qe=t(85165),et=t(74353),tt=t(46782),nt=t(56449),lt=t(44620),rt=t(23658),K=t(37591),S=t(49995),v=t(38586),X=t(55903),Y=t(54866),e=t(9783),Z=t.n(e),z=t(92232),J=t(44667),Q=function(e){var e=e.sendFn,t=(0,Ae.$G)().t,n=$(),l=n.selectedCompletedOrderOrderProcess,r=n.changeSelectedCompletedOrderOrderProcess,s=n.currentStatus,i=n.sourceType,o=n.open,a=n.setOpen,c=n.params,u=n.setTime,d=n.currentFunds,p=n.orderType,x=n.list,v=n.loading,h=n.loadMore,m=n.error,f=n.total,g=n.rechargeInformationList,j=n.loading2,y=n.loadMore2,w=n.error2,T=n.total2,C=n.withdrawalListList,S=n.loading3,N=n.loadMore3,b=n.error3,M=n.total3,O=n.changeStatus,k=n.changeFunds,I=n.sourceOptions,R=n.fundsOption,E=n.orderTypeOptions,q=n.statusOption,A=n.setSourceType,n=n.setOrderType,I=[{text:t("资金记录"),value:ke.$S.BUY,content:(0,Ne.jsx)(V,{selectedCompletedOrderOrderProcess:l,t:t,sourceOptions:I,statusOption:R,currentFunds:d,changeStatus:k,currentStatus:d,setOpen:a,loadMore:h,loading:v,list:x,total:f,error:m,sourceType:i,setSourceType:A,orderTypeOptions:E,orderType:p,setOrderType:n})},{text:t("充值"),value:ke.$S.ADD,content:(0,Ne.jsx)(W,{selectedCompletedOrderOrderProcess:l,t:t,statusOption:q,changeStatus:O,currentStatus:s,setOpen:a,loadMore:y,loading:j,list:g,total:T,error:w})},{text:t("提现"),value:ke.$S.SUB,content:(0,Ne.jsx)(W,{selectedCompletedOrderOrderProcess:l,t:t,statusOption:q,changeStatus:O,currentStatus:s,setOpen:a,loadMore:N,loading:S,list:C,total:M,error:b})}];return(0,Ne.jsxs)("div",{className:"w-full",children:[(0,Ne.jsx)("div",{children:(0,Ne.jsx)(P,{sendFn:e,changeSelectedCompletedOrderOrderProcess:r,completedOrderOrderProcessOptions:I,selectedCompletedOrderOrderProcess:l})}),(0,Ne.jsx)(K.e,{value:c,open:o,onClose:function(){return a(!1)},onCancel:function(){return a(!1)},onConfirm:function(e){var t=e.start,e=e.end;u([t,e]),a(!1)}})]})};function st(e){var e=e||{},t=e.isOpen,n=e.onClose,l=e.sendMsg;e.groupId;return(0,Ne.jsx)(r.Z,{isOpen:t,onClose:n,children:(0,Ne.jsx)("div",{className:"pt-1  text-foreground px-4 pb-[140px] h-[60vh] overflow-y-auto max-w-[100%] sm:w-[30vw] sm:h-[40vh]",children:(0,Ne.jsx)(Q,{sendFn:function(e){l({type:ke.np.ORDER,data:e})}})})})}var ee=function(){function t(){var e;re?null!=g&&null!=(e=g.current)&&null!=(e=e.style)&&e.width&&setTimeout(function(){g.current.style.width=""}):setTimeout(function(){var e;null!=g&&null!=(e=g.current)&&null!=(e=e.style)&&e.width&&(g.current.style.width=(null==ne||null==(e=ne.current)?void 0:e.offsetWidth)+"px")})}function D(e){e.target.scrollTop<40&&!re&&me({timestamp:null==(e=fe[0])?void 0:e.createTime,groupId:null==w||null==(e=w[0])?void 0:e.id})}n=(N=(0,qe.useModel)("imSocket")).imMessage,l=N.sendImMessage,r=N.currentSocketMessage,s=N.setImMessage,i=N.imSocketState,B=(0,qe.useModel)("user").user,N=(0,be.useState)([]),o=(N=Ce()(N,2))[0],a=N[1],N=(0,be.useState)(!1),X=(N=Ce()(N,2))[0],e=N[1],c=(0,be.useRef)(null),N=(0,qe.useModel)("system").isMobile,u=(0,Ae.$G)().t,C=(0,be.useState)(""),J=(C=Ce()(C,2))[0],F=C[1],C=(0,be.useState)({}),ue=(C=Ce()(C,2))[0],Z=C[1],ie=(C=(0,Fe.q)()).isOpen,ae=C.onClose,C=C.onOpen,y=(f=(0,De.lS)(Le.T,{manual:!0,formatResult:function(e){var t;return e.data&&0!==(null==e||null==(t=e.data)?void 0:t.length)?(a([].concat(Be()(o),Be()(e.data),Be()(null==n?void 0:n.filter(function(e){return(null==e?void 0:e.sendStatus)===ke.U1.FAIL}))).sort(function(e,t){return e.createTime-t.createTime})),null==e||null==(t=e.data)?void 0:t.sort(function(e,t){return e.createTime-t.createTime})):[]},onFinally:function(){e(!1)}})).data,z=f.runAsync,f=f.loading,H=(0,De.lS)(Le.hB,{manual:!0}).runAsync,ye=(L=(0,De.lS)(Le.t1,{manual:!0})).runAsync,L=L.data,M=(0,De.lS)(Le.lI,{formatResult:function(e){return null!=(e=null==e?void 0:e.data)?e:[]},manual:!0}),d=void 0===(j=M.data)?[]:j,M.loading,G=M.runAsync,(0,Re.Z)(Te()(we()().mark(function e(){return we()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H();case 2:return e.next=4,G();case 4:case"end":return e.stop()}},e)}))),(0,be.useEffect)(function(){0!==d.length&&z({groupId:d[0].id,timestamp:void 0}).then(function(){s([])})},[d]),j=(0,be.useState)(null),j=(M=Ce()(j,2))[0],_=M[1],M=(0,be.useState)(null),p=(M=Ce()(M,2))[0],U=M[1],(0,Ie.Z)(function(){var e;d&&0<(null==d?void 0:d.length)&&l&&l({type:"READ_MESSAGE",data:null==d||null==(e=d[0])?void 0:e.id})},[d]),M=(0,be.useRef)(null),S=(0,be.useState)(!1),le=(S=Ce()(S,2))[0],x=S[1],b=(S=(0,Fe.q)()).isOpen,V=S.onClose,S=S.onOpen,v=(q=(0,Fe.q)()).isOpen,W=q.onClose,q=q.onOpen,de=(0,De.lS)(Le._1,{manual:!0,onSuccess:function(){Pe.Am.success(u("已撤回"))}}).run,(0,Ee.Z)(function(){x(!1)},M),h=(0,be.useRef)(null),(0,Ie.Z)(function(){+(null==r?void 0:r.status)===ke.DO.EDIT_MESSAGE&&a(function(e){return null==e?void 0:e.map(function(e){return e.id!==r.id?e:Se()(Se()({},e),{},{status:ke.DO.EDIT_MESSAGE,payload:null==r?void 0:r.payload})})}),+(null==r?void 0:r.status)===ke.DO.WITHDRAW_MESSAGE&&a(function(e){return e.map(function(e){return e.id!==r.id?e:Se()(Se()({},e),{},{status:ke.DO.WITHDRAW_MESSAGE})})})},[r]),R=(0,be.useState)([]),m=(R=Ce()(R,2))[0],P=R[1],(0,Ie.Z)(function(){P([].concat(Be()(o),Be()(n)))},[o,n]),$=(0,qe.useModel)("orderHistoryCache").findNotCachedSavaData,(0,Ie.Z)(function(){$(m)},[m]),(0,be.useEffect)(function(){setTimeout(function(){h.current&&c.current.scrollIntoView({})},500)},[n]),(0,Re.Z)(function(){setTimeout(function(){h.current&&c.current.scrollIntoView({})},2e3)});var n,l,r,s,i,B,o,a,e,c,u,F,Z,z,H,d,G,_,p,U,x,V,v,W,h,m,P,$,f={imSocketState:i,messageList:o,loading:f,whatNeedsToBeRepliedTo:j,setWhatNeedsToBeRepliedTo:_,chartList:d,getMessageListReq:z,currentReplyContent:p,setCurrentReplyContent:U,currentMessageListNewest:y,isShowLoading:X,setIsShowLoading:e,msg:J,setMsg:F,t:u,onOpen:C,onOpen2:S,showToolbar:le,messageBoxRef:h,imMessage:n,bottomListRef:c,isMobile:N,setShowToolbar:x,isOpen:ie,onClose:ae,isOpen2:b,onClose2:V,InputBoxRef:M,renderMessageList:m,sendMsg:function(e){var t,n;t=null!==p?{type:null==p||null==(n=p.payload)?void 0:n.type,data:JSON.stringify(Se()(Se()({},null==p||null==(n=p.payload)?void 0:n.data),{},{createTime:null==p?void 0:p.createTime,userInfo:null==p?void 0:p.userInfo,content:Se()({},e),replyId:null==p?void 0:p.id,uuid:Ye(10)})),groupId:null==d||null==(n=d[0])?void 0:n.id}:{type:null==e?void 0:e.type,id:null==e?void 0:e.id,data:JSON.stringify(Se()(Se()({},e.data),{},{uuid:Ye(10)})),groupId:null==d||null==(n=d[0])?void 0:n.id},null!=e&&e.id||s(function(e){return[].concat(Be()(e),[{showDirection:0,createTime:(new Date).getTime(),status:1,payload:JSON.stringify(t),userInfo:B,sendStatus:i?ke.U1.WAIT:ke.U1.FAIL}])}),setTimeout(function(){var e;l({type:"SEND_MESSAGE",data:t}),U(null),_(null),F(""),Z({}),V(),W(),x(!1),null!=(e=c.current)&&e.scrollIntoView({})})},currentEditMessage:ue,setCurrentEditMessage:Z,withdrawMessageInterfaceReq:de,groupId:null==d||null==(R=d[0])?void 0:R.id,isOpen3:v,onOpen3:q,onClose3:W,uploadFilesS3:L,uploadFilesS3Req:ye},g=f.InputBoxRef,j=f.loading,y=f.whatNeedsToBeRepliedTo,K=f.setWhatNeedsToBeRepliedTo,w=f.chartList,X=f.currentReplyContent,Y=f.setCurrentReplyContent,J=f.isShowLoading,T=f.msg,Q=f.setMsg,C=f.t,ee=f.onOpen,te=f.onOpen2,S=f.showToolbar,ne=f.messageBoxRef,le=f.imMessage,N=f.bottomListRef,re=f.isMobile,se=f.setShowToolbar,ie=f.isOpen,oe=f.onClose,ae=f.isOpen2,ce=f.onClose2,b=f.renderMessageList,M=f.currentMessageListNewest,O=f.sendMsg,ue=f.withdrawMessageInterfaceReq,de=f.groupId,pe=f.isOpen3,xe=f.onOpen3,k=f.onClose3,ve=f.uploadFilesS3Req,he=f.setCurrentEditMessage,I=f.currentEditMessage,me=f.getMessageListReq,fe=f.messageList,R=(0,lt.Z)(),E=Ce()(R,1)[0],ge=(0,qe.useModel)("user").logOut,je=function(){var t=Te()(we()().mark(function e(i){var t;return we()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(t=new Worker("/hash/index.js")).postMessage({file:i}),t.onmessage=function(e){var e=e.data,r=e.extension,s=e.hash;e.blob;ve().then(function(){var t=Te()(we()().mark(function e(t){var n,l;return we()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l=new Je.g({region:"123",endpoint:t.endpoint,forcePathStyle:!0,credentials:{accessKeyId:null==t?void 0:t.accessKey,secretAccessKey:null==t?void 0:t.accessSecret,sessionToken:t.sessionToken}}),n=new Qe.U({Bucket:null==t?void 0:t.bucket,Key:"".concat(s,".").concat(r),Body:i}),e.next=4,l.send(n);case 4:200===(null==(l=e.sent)||null==(n=l.$metadata)?void 0:n.httpStatusCode)&&O({type:ke.np.VIDEO,data:{url:"".concat(t.endpoint,"/").concat(null==t?void 0:t.bucket,"/").concat(s,".").concat(r)}});case 6:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}())};case 3:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),q=null==(v=[{text:C("相册"),Icon:function(){return(0,Ne.jsx)("div",{children:(0,Ne.jsx)(Oe.Z,{minHeight:"0",isCompressed:!0,currentUrls:"",preview:null,onChange:function(e){O({type:ke.np.IMAGE,data:{url:e}})},children:(0,Ne.jsx)(ze,{className:"text-3xl"})})})}},{text:C("视频"),Icon:function(){return(0,Ne.jsx)("div",{children:(0,Ne.jsx)(Oe.Z,{fileType:"video",minHeight:"0",currentUrls:"",preview:null,onChange:function(e){je(e)},children:(0,Ne.jsx)(Ge,{className:"text-3xl"})})})}},{text:C("快捷语"),Icon:Ue,onclick:function(){k(),ce(),ee()}},{text:C("订单发送"),Icon:_e.v,onclick:function(){oe(),k(),te()}}])?void 0:v.filter(function(e){return!!e}),A=(0,be.useRef)(),L=((0,Re.Z)(function(){t(),document.body.addEventListener("resize",t);var e=function(){var t=Te()(we()().mark(function e(t){return we()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),localStorage.clear(),setTimeout(function(){ge()},1);case 3:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}();return"login"===(null==E?void 0:E.type)&&window.addEventListener("popstate",e),function(){window.removeEventListener("resize",t),window.removeEventListener("popstate",e)}}),(0,be.useEffect)(function(){return null!=w&&w.length&&window.addEventListener("scroll",D,!0),function(){document.body.removeEventListener("scroll",D,!0)}}),(0,be.useState)(tt.B)),ye=Ce()(L,1)[0];return(0,Ne.jsxs)("div",{className:"flex flex-col h-[100vh] w-full ",children:[(0,Ne.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,Ne.jsx)("div",{className:"fixed  top-0 w-full z-[999] bg-background  sm:relative sm:z-[4]",children:(0,Ne.jsx)(We.Z,{title:C("在线客服"),onBack:function(){return"login"===(null==E?void 0:E.type)?ge():qe.history.back()}})}),(0,Ne.jsxs)("div",{className:"flex-1 overflow-hidden pt-[40px]  ".concat(S?"pb-[138px]":"pb-[80px] "," "),ref:ne,children:[J&&(0,Ne.jsx)("div",{className:"flex justify-center",children:(0,Ne.jsx)(rt.c,{})}),(0,Ne.jsx)(nt.Z,{pcLoading:!0,refreshFn:Te()(we()().mark(function e(){var t;return we()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me({timestamp:null==(t=fe[0])?void 0:t.createTime,groupId:null==w||null==(t=w[0])?void 0:t.id});case 2:case"end":return e.stop()}},e)})),children:(0,Ne.jsx)(et.h,{loading:j,list:[b,M],children:(0,Ne.jsx)($e,{groupId:de,withdrawMessageInterfaceReq:ue,setMsg:Q,setCurrentEditMessage:he,setWhatNeedsToBeRepliedTo:K,loading:j,messageList:b,imMessage:le,bottomListRef:N,currentReplyContent:X,setCurrentReplyContent:Y})})}),(0,Ne.jsx)("div",{className:"px-4 bottom-0  h-[60px] bg-background",children:(0,Ne.jsxs)("div",{ref:g,onClick:function(e){var t;null!=(t=A.current)&&null!=(t=t.querySelector("input"))&&t.focus(),e.stopPropagation()},className:"".concat(re?"w-[calc(100%-30px)]":"w-[calc(100%-50%)]"," fixed bottom-0 bg-background pb-4 pt-1"),style:{zIndex:ye+1},children:[(0,Ne.jsxs)("div",{className:"border-1 border-backgroundAuxiliaryTextColor rounded-md",children:[y&&(0,Ne.jsxs)("div",{className:"bg-backgroundAuxiliaryTextColor relative rounded-md px-1 py-1 mx-2 mt-1 box-border flex justify-between items-center",children:[y,(0,Ne.jsx)(He.A,{className:"absolute top-2 right-2",onClick:function(){K(null),Y(null),he({})}})]}),(0,Ne.jsxs)("div",{className:"relative",children:[(0,Ne.jsx)(Me.Z,{innerWrapperRef:A,onKeyUp:function(e){"Backspace"!==e.key&&8!==e.keyCode||""===T&&(K(null),Y(null),he({})),"Enter"===e.key&&""!==T.trim()&&O({type:ke.np.TEXT,id:null!=(e=null==I?void 0:I.id)?e:void 0,uuid:null!=(e=null==I?void 0:I.uuid)?e:void 0,data:{text:T}})},value:T,onChange:function(e){return Q(e.target.value)},placeholder:C("输入你的问题"),isShowClear:!1,classNames:{clearButton:"block opacity-100 right-[3px]",input:"w-[calc(100%-90px)] outline-none",inputWrapper:"border-none h-full"}}),(0,Ne.jsxs)("div",{className:"flex items-center h-full absolute right-0 top-1/2 -translate-y-1/2",children:[(0,Ne.jsx)("div",{className:"flex items-center h-full",onClick:function(e){var t;(pe?k:xe)(),se(!1),null!=(t=A.current)&&null!=(t=t.querySelector("input"))&&t.focus(),e.preventDefault()},children:(0,Ne.jsx)(Ze,{className:"text-backContrastColor cursor-pointer",width:"22px",height:"22px"})}),T?(0,Ne.jsx)("div",{className:"pl-1 pr-2 cursor-pointer",onClick:function(e){var t;""!==T.trim()&&(O({type:ke.np.TEXT,id:null!=(t=null==I?void 0:I.id)?t:void 0,uuid:null!=(t=null==I||null==(t=I.payload)?void 0:t.uuid)?t:void 0,data:{text:T}}),null!=(t=A.current)&&null!=(t=t.querySelector("input"))&&t.focus(),e.preventDefault())},children:C("发送")}):(0,Ne.jsx)("div",{className:"flex items-center h-full pl-1 pr-1",onClick:function(e){var t;k(),null!=(t=A.current)&&null!=(t=t.querySelector("input"))&&t.focus(),se(function(e){return!e}),window.scrollTo(0,document.body.scrollHeight),e.preventDefault()},children:(0,Ne.jsx)(Ve,{className:"text-xl mr-1 cursor-pointer"})})]})]})]}),(0,Ne.jsx)("div",{className:"flex text-auxiliaryTextColor  justify-between mt-2 ".concat(S?"":"hidden"),children:q.map(function(e){return(0,Ne.jsxs)("div",{onClick:function(){null!=e&&e.onclick&&null!=e&&e.onclick()},className:" text-center flex  justify-center flex-col items-center w-[25%]",children:[(0,Ne.jsx)(e.Icon,{className:"text-3xl"}),(0,Ne.jsx)("div",{className:"pt-2 text-xs",children:e.text})]},e.text)})})]})})]})]}),(0,Ne.jsxs)("div",{onClick:function(e){var t;null!=(t=A.current)&&null!=(t=t.querySelector("input"))&&t.focus(),e.preventDefault()},children:[(0,Ne.jsx)(Xe,{isOpen:ie,onClose:oe,setMsg:function(e){O({type:ke.np.TEXT,data:{text:e}})}}),(0,Ne.jsx)(st,{groupId:null==w||null==(f=w[0])?void 0:f.id,sendMsg:O,isOpen:ae,onClose:ce}),(0,Ne.jsx)(Ke,{setMsg:Q,isOpen:pe,onClose:k})]})]})}},5251:function(e,t,n){n.d(t,{c:function(){return u}});var t=n(12444),l=n.n(t),t=n(72004),r=n.n(t),t=n(68123),s=n(20640),i=n.n(s),s=n(27484),o=n.n(s),s=n(84110),s=n.n(s),a=n(55678),c=(o().extend(s()),t.ZP.t),u=function(){function e(){l()(this,e)}return r()(e,null,[{key:"copyText",value:function(e){e=decodeURI(e);i()(e),e?a.Am.success(c("复制成功")):a.Am.error(c("复制失败"))}},{key:"processDecimal",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:6,e=parseFloat(e);return isNaN(e)?0:parseFloat(e.toFixed(t))}},{key:"clearLocalStorage",value:function(t){var e=Object.keys(localStorage);null!=e&&e.forEach(function(e){e!==t&&"theme"!==e&&localStorage.removeItem(e)})}},{key:"stableSort",value:function(e,l){e=e.map(function(e,t){return[e,t]});return e.sort(function(e,t){var n=l(e[0],t[0]);return 0!==n?n:e[1]-t[1]}),e.map(function(e){return e[0]})}},{key:"descendingComparator",value:function(e,t,n){return(null==t?void 0:t[n])<(null==e?void 0:e[n])?-1:(null==t?void 0:t[n])>(null==e?void 0:e[n])?1:0}},{key:"getComparator",value:function(e,t){switch(t){case"title":return function(e,t){return e.field1-t.field1};case"p":return function(e,t){return e.field2-t.field2};default:return function(e,t){return 0}}}},{key:"formatTimestamp",value:function(e){var t=o()(),e=o()(e),t=t.diff(e,"minute"),e=Math.floor(t/525600),n=Math.floor(t%525600/1440),l=0<e?"".concat(e).concat(c("年")):"",r=0<n?"".concat(n).concat(c("天")):"",s="";return 0===e&&0===n&&(e=Math.floor(t%1440/60),s="".concat(e).concat(c("小时"))),"".concat(l," ").concat(r," ").concat(s," ").concat(c("前"))}},{key:"sortMarketList",value:function(e,n,l){return 0===(null==e?void 0:e.length)?[]:e.sort(function(e,t){e=e[n],t=t[n];return e<t?"asc"===l?-1:1:t<e?"asc"===l?1:-1:0})}},{key:"extractNumberFromUrl",value:function(e){e=e.match(/https?:\/\/(\w+)\./);return!e||!e[1]||["pc","h5"].includes(e[1].toLowerCase())||e[1].length<4?"":e[1]}},{key:"getFullNum",value:function(e){return!isNaN(e)&&/e/i.test(""+e)?e.toFixed(18).replace(/\.?0+$/,""):e}}]),e}()}}]);