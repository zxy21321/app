"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4085],{59248:function(e,l,t){t.d(l,{J:function(){return r}});var l=t(97857),n=t.n(l),a=t(85893);function r(e){return(0,a.jsx)("svg",n()(n()({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},e),{},{children:(0,a.jsx)("path",{fill:"currentColor",d:"M18.3 5.71a.996.996 0 0 0-1.41 0L12 10.59L7.11 5.7A.996.996 0 1 0 5.7 7.11L10.59 12L5.7 16.89a.996.996 0 1 0 1.41 1.41L12 13.41l4.89 4.89a.996.996 0 1 0 1.41-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4"})}))}},17031:function(e,l,t){t.d(l,{x:function(){return r}});var l=t(97857),n=t.n(l),a=(t(67294),t(85893));function r(e){return(0,a.jsx)("svg",n()(n()({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 15 15"},e),{},{children:(0,a.jsx)("path",{fill:"currentColor",d:"M7.5 12L0 4h15z"})}))}},55690:function(e,l,t){t.d(l,{f:function(){return i}});var l=t(97857),n=t.n(l),a=(t(67294),t(85893));function r(e){return(0,a.jsx)("svg",n()(n()({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},e),{},{children:(0,a.jsx)("path",{fill:"currentColor",d:"M5 4v6.025V10v10zv5zm2 10h3.5q.225-.575.55-1.075T11.8 12H7zm0 4h3.175q-.125-.5-.162-1t.012-1H7zm-2 4q-.825 0-1.412-.587T3 20V4q0-.825.588-1.412T5 2h8l6 6v2.5q-.475-.2-.975-.312T17 10.025V9h-5V4H5v16h6.025q.4.6.9 1.113t1.1.887zm11.5-3q1.05 0 1.775-.725T19 16.5q0-1.05-.725-1.775T16.5 14q-1.05 0-1.775.725T14 16.5q0 1.05.725 1.775T16.5 19m5.1 4l-2.7-2.7q-.525.35-1.137.525T16.5 21q-1.875 0-3.187-1.312T12 16.5q0-1.875 1.313-3.187T16.5 12q1.875 0 3.188 1.313T21 16.5q0 .65-.175 1.263T20.3 18.9l2.7 2.7z"})}))}var s=t(67421);function i(e){var l=(0,s.$G)().t,e=e.message,l=void 0===e?l("暂无更多数据"):e;return(0,a.jsxs)("div",{className:"w-full flex justify-center items-center flex-col",children:[(0,a.jsx)("div",{className:"pt-4",children:(0,a.jsx)(r,{className:"text-auxiliaryTextColor text-5xl"})}),(0,a.jsx)("div",{className:"text-sm bounce text-auxiliaryTextColor pt-4",children:l})]})}},13897:function(e,l,t){t.d(l,{Z:function(){return n}});var l=t(97857),d=t.n(l),m=t(59248),x=t(41821),f=t(81481),v=t(80854),h=t(67294),g=t(85893);function n(e){var l=e.value,t=e.onChange,n=e.endContent,a=e.isShowClear,a=void 0===a||a,r=e.classNames,s=e.className,i=e.onFocus,o=e.onBlur,c=(0,v.useModel)("compontentSetting").setIsHideBottomNav,u=(0,h.useRef)(null);return(0,g.jsx)(x.Y,d()(d()({ref:u,variant:"bordered",isClearable:!0},e),{},{onFocus:function(e){c(!0),null!=i&&i(e)},onBlur:function(e){c(!1),null!=o&&o(e)},classNames:d()(d()({},null==e?void 0:e.classNames),{},{input:"bg-[transparent] rounded-md caret-darkBrandColor text-backContrastColor ".concat(null==r?void 0:r.input," custom-input"),inputWrapper:"rounded-md relative border-1 group-data-[focus=true]:border-primary ".concat(null==r?void 0:r.inputWrapper),clearButton:"h-full ".concat(null==r?void 0:r.clearButton)}),className:"h-[50px] ".concat(s),endContent:(0,g.jsxs)("div",{className:"text-sm outline-none flex items-center h-full",onClick:function(e){return e.stopPropagation(),e.preventDefault(),!1},children:[!(!l||!a)&&(0,g.jsx)(f.A,{className:"mr-1 text-xl bg-transparent",onClick:function(){null!=t&&t({target:{value:""}})},isIconOnly:!0,children:(0,g.jsx)(m.J,{className:"text-foreground"})}),n]})}))}},74353:function(e,l,t){t.d(l,{h:function(){return i}});var n=t(68068),a=t(55690),r=t(92783),s=t(85893);function i(e){var l=e.loading,t=e.list,e=e.children;return(0,s.jsxs)(s.Fragment,{children:[l&&(0,s.jsx)(r.m,{align:"center",justify:"center",flex:1,className:"h-16",children:(0,s.jsx)(n.j,{className:"text-2xl text-primary"})}),!l&&0===(null==t?void 0:t.length)&&(0,s.jsx)(a.f,{}),0!==(null==t?void 0:t.length)&&e]})}},49995:function(e,l,t){t.d(l,{Z:function(){return n}});var h=t(81481),g=t(16426),p=t(67294),j=t(67421),y=t(92783),b=t(74353),N=t(85893);function n(e){var l=(0,j.$G)().t,t=e.children,n=e.loadMore,a=e.errorMessage,a=void 0===a?l("出错了，点击重试"):a,r=e.loadingText,r=void 0===r?l("加载中..."):r,s=e.loadMoreText,s=void 0===s?l("已经全部加载完毕"):s,i=e.total,o=e.list,c=e.error,u=e.loading,d=e.getList,m=e.scrollElement,x=e.ready,f=void 0===x||x,x=e.loadingMore,e=void 0===x||x,v="hidden"===(0,g.Z)();(0,p.useEffect)(function(){function e(){var e;f&&!v&&(e=(m||document.documentElement).scrollTop,(m||document.documentElement).scrollHeight<=e+(m?m.getBoundingClientRect().height:window.innerHeight))&&i>(null==o?void 0:o.length)&&!u&&n()}var l=m||window;return l.addEventListener("scroll",e),function(){return l.removeEventListener("scroll",e)}},[n,i,o,m,u,f]);return(0,N.jsxs)("div",{children:[(0,N.jsx)(b.h,{loading:u,list:o,children:t}),0<i&&(0,N.jsxs)(y.m,{justify:"center",align:"center",className:"w-full min-h-12 pt10 pb10",children:[!u&&i===o.length&&(0,N.jsx)("div",{className:"text-auxiliaryTextColor text-sm",children:s}),c&&(0,N.jsx)("div",{onClick:d,className:"text-auxiliaryTextColor text-sm",children:a}),u&&(0,N.jsx)("div",{className:"text-auxiliaryTextColor text-sm",children:r}),i>o.length&&!c&&!u&&(!u&&o.length&&i>o.length&&e?(0,N.jsx)(h.A,{isLoading:u,variant:"solid",size:"sm",onClick:n,className:"!bg-backgroundAuxiliaryTextColor !text-foreground",children:l("加载更多")}):null)]})]})}},92232:function(e,l,t){t.d(l,{P:function(){return n}});var l=t(97857),C=t.n(l),l=t(15009),w=t.n(l),l=t(19632),k=t.n(l),l=t(99289),T=t.n(l),l=t(5574),S=t.n(l),I=t(16426),L=t(67294);function n(a,e,l,t){function n(){x(1),j(C()(C()({},e),{},{pageNo:1}))}var r=(0,L.useState)([]),r=S()(r,2),s=r[0],i=r[1],r=(0,L.useState)(null!=t&&t),t=S()(r,2),o=t[0],c=t[1],r=(0,L.useState)(1),t=S()(r,2),u=t[0],d=t[1],r=(0,L.useState)(1),t=S()(r,2),m=t[0],x=t[1],r=(0,L.useState)(null),t=S()(r,2),f=t[0],v=t[1],r=(0,L.useState)(!0),t=S()(r,2),h=t[0],g=t[1],p=(0,L.useCallback)(function(){var l=T()(w()().mark(function e(l){var t,n;return w()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c(!0),e.next=4,a(l).finally(function(){return c(!1)});case 4:n=e.sent,n=n.data,t=n.list,n=n.total,Array.isArray(t)&&(1===l.pageNo?i(t):i(function(e){return[].concat(k()(e),k()(t))})),d(n),v(null),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("usePageList error",e.t0),v("请求出错，请重试");case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(e){return l.apply(this,arguments)}}(),[a]),j=(0,L.useCallback)(function(){var l=T()(w()().mark(function e(l){var t,n;return w()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c(!1),e.next=4,a(l);case 4:n=e.sent,n=n.data,t=n.list,n=n.total,Array.isArray(t)&&(1===l.pageNo?i(t):i(function(e){return[].concat(k()(e),k()(t))})),d(n),v(null),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("usePageList error",e.t0),v("请求出错，请重试");case 15:case"end":return e.stop()}},e,null,[[0,11]])}));return function(e){return l.apply(this,arguments)}}(),[a]),y="hidden"===(0,I.Z)(),b=(0,L.useCallback)(function(){y||s.length<u&&x(function(e){return e+1})},[m,u,s]),N=(0,L.useCallback)(function(){p(e||{})},[e,p]);return(0,L.useEffect)(function(){l&&h?g(!1):e&&(x(1),i([]),p(C()(C()({},e),{},{pageNo:1})))},[e,p]),(0,L.useEffect)(function(){1<m&&p(C()(C()({},e),{},{pageNo:m}))},[m,e,p]),(0,L.useMemo)(function(){return{list:s,total:u,loading:o,loadMore:b,error:f,getList:N,fetchList:p,noLoadingRun:n}},[s,u,o,b,f,N])}},84957:function(c,e,l){l.r(e),l.d(e,{default:function(){return ce}});var t=l(34884),L=l(92783),n=l(84094),a=l(6429),r=l(21257),e=l(97857),A=l.n(e),e=l(5574),P=l.n(e),B=l(17031),E=l(60943),M=l(50128),O=l(99986),Z=l(92232),e=l(49677),s=l.n(e),b=l(22717),i=l(50834),V=l(62410),q=l(81481),z=l(67421),W=l(85893);function D(e){var e=Object.assign({},(s()(e),e)),l=(0,z.$G)().t;return(0,W.jsxs)(b.w,A()(A()({},e),{},{height:"40%",position:"bottom",round:!0,lockScroll:!0,className:"bg-background",title:(0,W.jsx)(L.m,{justify:"start",align:"center",flex:1,className:"px-3",children:(0,W.jsx)("span",{className:"text-xl text-titleColor",children:l("更换钱包")})}),children:[(0,W.jsx)(L.m,{align:"center",justify:"center",flex:1,children:(0,W.jsx)("span",{className:"text-auxiliaryTextColor",children:l("可用")})}),(0,W.jsx)(L.m,{align:"center",justify:"center",flex:1,children:(0,W.jsx)("span",{className:"font-bold text-xl text-titleColor",children:"0 FRONT"})}),(0,W.jsx)(L.m,{align:"center",justify:"center",className:"mt-4",flex:1,children:(0,W.jsx)(i.K,{"aria-label":"",classNames:{base:(0,V.cn)("w-full max-w-full"," items-center justify-start","cursor-pointer rounded-lg gap-2 p-4 border-1 border-auxiliaryTextColor","data-[selected=true]:border-primary"),label:"w-full"},children:(0,W.jsxs)(L.m,{align:"start",justify:"start",vertical:!0,flex:1,children:[(0,W.jsx)("span",{children:l("现货钱包")}),(0,W.jsx)("span",{children:"0 FRONT"})]})})}),(0,W.jsx)(L.m,{align:"center",justify:"center",className:"mt-8",flex:1,children:(0,W.jsx)(i.K,{"aria-label":"",classNames:{base:(0,V.cn)("w-full max-w-full"," items-center justify-start","cursor-pointer rounded-lg gap-2 p-4 border-1 border-auxiliaryTextColor","data-[selected=true]:border-primary"),label:"w-full"},children:(0,W.jsxs)(L.m,{align:"start",justify:"start",vertical:!0,flex:1,children:[(0,W.jsx)("span",{children:l("资金钱包")}),(0,W.jsx)("span",{children:"0 FRONT"})]})})}),(0,W.jsx)(L.m,{align:"center",justify:"center",flex:1,className:"mt-6",children:(0,W.jsx)(q.A,{className:"text-background w-full bg-primary",radius:"sm",children:l("确认")})})]}))}var e=l(13769),N=l.n(e),C=l(25874),w=l(13897),k=l(49995),F=l(86547),T=e=>(0,W.jsxs)("svg",{"aria-hidden":"true",fill:"none",focusable:"false",height:"1em",role:"presentation",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,viewBox:"0 0 24 24",width:"1em",...e,children:[(0,W.jsx)("path",{d:"M11.5 21C16.7467 21 21 16.7467 21 11.5C21 6.25329 16.7467 2 11.5 2C6.25329 2 2 6.25329 2 11.5C2 16.7467 6.25329 21 11.5 21Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),(0,W.jsx)("path",{d:"M22 22L20 20",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})]}),o=l(97582),R=l(67294),e=l(23493),u=l.n(e),d=l(3930),x=l(45210),f=l(92770),v=l(31663);var h=function(e,l){v.Z&&!(0,f.mf)(e)&&console.error("useThrottleFn expected parameter is a function, got ".concat(typeof e));var t=(0,d.Z)(e),n=null!=(e=null==l?void 0:l.wait)?e:1e3,a=(0,R.useMemo)(function(){return u()(function(){for(var e=[],l=0;l<arguments.length;l++)e[l]=arguments[l];return t.current.apply(t,(0,o.ev)([],(0,o.CR)(e),!1))},n,l)},[]);return(0,x.Z)(function(){a.cancel()}),{run:a,cancel:a.cancel,flush:a.flush}};var S=function(e,l){var t=(0,o.CR)((0,R.useState)(e),2),n=t[0],a=t[1],r=h(function(){a(e)},l).run;return(0,R.useEffect)(function(){r()},[e]),n},I=["onSelect","defaultValue","defaultDirection"];function X(e){var l=e.onSelect,t=e.defaultValue,n=e.defaultDirection,a=void 0===n?"from":n,n=N()(e,I),e=(0,z.$G)().t,r=(0,R.useState)({pageNo:1,pageSize:10}),r=P()(r,2),s=r[0],r=(r[1],(0,Z.P)(F.xt,s)),i=r.list,o=r.loading,c=r.loadMore,u=r.getList,d=r.total,m=r.error,x=r.fetchList,r=(0,R.useState)("from"),r=P()(r,2),f=r[0],v=r[1],r=(0,R.useState)(),r=P()(r,2),h=r[0],g=r[1],r=(0,R.useState)({from:{},reach:{}}),r=P()(r,2),p=r[0],j=r[1],y=S(h,{wait:500});return(0,R.useEffect)(function(){x(A()(A()({},s),{},{name:y}))},[y]),(0,R.useEffect)(function(){t&&j(A()({},t))},[t]),(0,R.useEffect)(function(){a&&v(a)},[a]),(0,W.jsx)(b.w,A()(A()({height:"70%",position:"bottom",className:"bg-background",onClose:function(){l&&l(A()({},p))}},n),{},{title:(0,W.jsx)("div",{className:"pt-4 w-full ",children:(0,W.jsxs)(L.m,{vertical:!0,className:"absolute left-0 w-full px-2 bg-background",children:[(0,W.jsxs)(L.m,{align:"center",justify:"around",vertical:!1,flex:1,children:[(0,W.jsx)(q.A,{onClick:function(){return v("from")},className:"from"===f?"bg-tabBackground w-36 h-14":"w-36 h-14",children:(0,W.jsxs)(L.m,{align:"center",justify:"center",vertical:!0,children:[(0,W.jsx)(L.m,{align:"center",justify:"center",className:"pb-1",children:(0,W.jsx)("span",{className:"from"===f?"text-xs text-foreground":"text-xs text-auxiliaryTextColor",children:e("从")})}),(0,W.jsxs)(L.m,{align:"center",justify:"start",children:[(0,W.jsx)("img",{src:null==p||null==(r=p.from)?void 0:r.icon,width:30,className:"rounded-lg"}),(0,W.jsx)("span",{className:"from"===f?"text-foreground ml-1":"text-white ml-1",children:null==p||null==(n=p.from)?void 0:n.alias})]})]})}),(0,W.jsx)(q.A,{onClick:function(){return v("reach")},className:"reach"===f?"bg-tabBackground w-36 h-14":"w-36 h-14",children:(0,W.jsxs)(L.m,{align:"center",justify:"center",vertical:!0,children:[(0,W.jsx)(L.m,{align:"center",justify:"center",className:"pb-1",children:(0,W.jsx)("span",{className:"reach"===f?"text-xs text-foreground":"text-xs text-auxiliaryTextColor",children:e("至")})}),(0,W.jsxs)(L.m,{align:"center",justify:"start",children:[(0,W.jsx)("img",{src:null==p||null==(r=p.reach)?void 0:r.icon,width:30,className:"rounded-lg"}),(0,W.jsx)("span",{className:"reach"===f?"text-foreground ml-1":"text-white ml-1",children:null==p||null==(n=p.reach)?void 0:n.alias})]})]})})]}),(0,W.jsx)(L.m,{align:"center",justify:"start",flex:1,className:"pt-2",children:(0,W.jsx)(w.Z,{type:"text",value:h,placeholder:e("搜索"),labelPlacement:"outside",radius:"md",className:"!h-fit",classNames:{inputWrapper:"!h-[30px]"},startContent:(0,W.jsx)(T,{className:"text-2xl  text-default-400 pointer-events-none flex-shrink-0"}),onChange:function(e){g(e.target.value)}})})]})}),children:(0,W.jsx)("div",{className:"pt-24",children:(0,W.jsx)(k.Z,{loadMore:c,total:d,list:i,loading:o,error:!!m,getList:u,children:0!==(null==i?void 0:i.length)&&(null==i?void 0:i.map(function(e){return(0,W.jsx)(L.m,{flex:1,className:"py-1",children:(0,W.jsx)(C.K,{align:"center",justify:"flex-start",className:"bg-background shadow-none",onClick:function(){j("from"===f?A()(A()({},p),{},{from:e}):A()(A()({},p),{},{reach:e}))},title:(0,W.jsxs)(L.m,{flex:1,align:"center",justify:"start",children:[(0,W.jsx)("img",{src:null==e?void 0:e.icon,width:30,className:"rounded-lg"}),(0,W.jsxs)(L.m,{flex:1,align:"center",justify:"start",vertical:!0,className:"ml-1",children:[(0,W.jsx)(L.m,{flex:1,align:"center",justify:"start",className:"font-bold text-titleColor",children:null==e?void 0:e.alias}),(0,W.jsx)(L.m,{flex:1,align:"center",justify:"start",className:"text-xs text-auxiliaryTextColor",children:null==e?void 0:e.name})]})]})})},null==e?void 0:e.id)}))})})}))}var e=l(15009),m=l.n(e),e=l(99289),g=l.n(e),p=l(59956),G=l(50040),H=l(60854),$=l(55678),j=["defaultValue","onSuccess"];function ee(e){var n=e.defaultValue,a=e.onSuccess,e=N()(e,j),l=(0,z.$G)().t,t=(0,R.useState)(!1),t=P()(t,2),r=t[0],s=t[1],t=(0,R.useState)(0),t=P()(t,2),i=t[0],o=t[1],t=(0,G.lS)(function(e){var l;return null!=n&&null!=(l=n.value)&&l.from?(0,F.tB)(e):null},{manual:!0,formatResult:function(e){return null!=(e=null==e?void 0:e.data)?e:{}}}),c=t.data,u=void 0===c?{}:c,d=t.runAsync;return(0,R.useEffect)(function(){var e;null!=n&&null!=(e=n.value)&&e.from&&d({sourceCoinId:null==n||null==(e=n.from)?void 0:e.id,targetCoinId:null==n||null==(e=n.reach)?void 0:e.id,amount:null==n||null==(e=n.value)?void 0:e.from,type:1})},[null==n||null==(c=n.value)?void 0:c.from]),(0,R.useEffect)(function(){var e;if(u&&0<Object.keys(u).length)return e=setInterval(function(){o(function(e){return 100<=e?0:e+1})},100),function(){return clearInterval(e)}},[u]),(0,R.useEffect)(function(){var e;100===i&&0<Object.keys(null==n?void 0:n.from).length&&null!=n&&null!=(e=n.value)&&e.from&&d({sourceCoinId:null==n||null==(e=n.from)?void 0:e.id,targetCoinId:null==n||null==(e=n.reach)?void 0:e.id,amount:null==n||null==(e=n.value)?void 0:e.from,type:1})},[i]),(0,W.jsxs)(b.w,A()(A()({height:"40%",position:"bottom",className:"bg-background",round:!0,title:(0,W.jsx)(L.m,{align:"center",justify:"start",flex:1,children:(0,W.jsx)("span",{className:"text-base font-bold p-2 text-titleColor",children:l("确定订单")})})},e),{},{children:[(0,W.jsxs)(L.m,{vertical:!0,className:"px-28",children:[(0,W.jsxs)(L.m,{align:"center",justify:"between",flex:1,children:[(0,W.jsx)("div",{children:(0,W.jsx)("img",{src:null==n||null==(t=n.from)?void 0:t.icon,width:30,className:"rounded-lg"})}),(0,W.jsx)("div",{className:"text-auxiliaryTextColor mx-10",children:(0,W.jsx)(p.q,{className:"rotate-180"})}),(0,W.jsx)("div",{children:(0,W.jsx)("img",{src:null==n||null==(c=n.reach)?void 0:c.icon,width:30,className:"rounded-lg"})})]}),(0,W.jsxs)(L.m,{align:"center",justify:"between",flex:1,className:"py-2",children:[(0,W.jsx)("div",{className:"text-auxiliaryTextColor ml-2",children:l("从")}),(0,W.jsx)("div",{className:"mx-12"}),(0,W.jsx)("div",{className:"text-auxiliaryTextColor",children:l("收到")})]})]}),(0,W.jsxs)(L.m,{align:"center",justify:"between",flex:1,className:"px-20 ",children:[(0,W.jsxs)("div",{className:"text-titleColor text-center flex-1",children:[H.Z.FormatAmount(null==n||null==(e=n.value)?void 0:e.from,6)," ",null==n||null==(t=n.from)?void 0:t.alias]}),(0,W.jsx)("div",{className:"mx-6"}),(0,W.jsxs)("div",{className:"text-titleColor text-center flex-1",children:[isNaN((null==n||null==(c=n.value)?void 0:c.from)*(null==u?void 0:u.rate))?0:H.Z.getDynamicPrice((null==n||null==(e=n.value)?void 0:e.from)*(null==u?void 0:u.rate)-(null==u?void 0:u.fee),6)," ",null==n||null==(t=n.reach)?void 0:t.alias]})]}),(0,W.jsx)("hr",{className:"my-1 text-auxiliaryTextColor"}),(0,W.jsxs)(L.m,{align:"center",justify:"between",flex:1,className:"py-3",children:[(0,W.jsx)("span",{className:"text-auxiliaryTextColor",children:l("交易手续费")}),(0,W.jsx)("span",{className:"text-titleColor",children:H.Z.FormatAmount(null==u?void 0:u.fee,6)})]}),(0,W.jsxs)(L.m,{align:"center",justify:"between",flex:1,className:"py-3",children:[(0,W.jsx)("span",{className:"text-auxiliaryTextColor",children:l("汇率")}),(0,W.jsx)(L.m,{align:"center",justify:"end",flex:1,children:(0,W.jsxs)("span",{className:"text-titleColor",children:["1",null==n||null==(c=n.from)?void 0:c.alias," ≈"," ",isNaN(null==u?void 0:u.rate)?0:H.Z.FormatAmount(null==u?void 0:u.rate,6)," ",null==n||null==(e=n.reach)?void 0:e.alias]})})]}),(0,W.jsx)(L.m,{align:"center",justify:"center",flex:1,className:"mt-6",children:(0,W.jsx)(q.A,{isLoading:r,className:"w-full bg-primary",radius:"sm",onClick:g()(m()().mark(function e(){var l,t;return m()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,(0,F.yB)({sourceCoinId:null==n||null==(l=n.from)?void 0:l.id,targetCoinId:null==n||null==(l=n.reach)?void 0:l.id,amount:null==n||null==(t=n.value)?void 0:t.from,type:1}).finally(function(){return s(!1)});case 3:0===(null==(t=e.sent)?void 0:t.code)&&$.Am.success(null==t?void 0:t.msg),a&&a();case 6:case"end":return e.stop()}},e)})),children:l("确定")})})]}))}function K(){var e=(0,z.$G)().t,l=(0,R.useState)("1"),l=P()(l,2),t=l[0],n=l[1],l=(0,R.useState)(!1),l=P()(l,2),a=l[0],l=l[1],r=(0,R.useState)(!1),r=P()(r,2),s=r[0],r=r[1],i=(0,R.useState)(!1),i=P()(i,2),o=i[0],i=i[1],c=(0,R.useState)(!1),c=P()(c,2),u=c[0],c=c[1],e=[{text:e("市价"),value:1},{text:e("限价"),value:2}];return{selectedTabs:t,setSelectedTabs:n,tabsList:e,TabsOnChange:function(e){n(e)},toggle:a,setToggle:l,open:s,setOpen:r,coinSelect:o,setCoinSelect:i,openAccount:u,setOpenAccount:c}}var J=(0,l(29118).tv)({slots:{base:"flex flex-col justify-center gap-1 max-w-fit items-center",label:"",svgWrapper:"relative block",svg:"z-0 relative overflow-hidden",track:"h-full stroke-default-300/50",indicator:"h-full stroke-current",value:"absolute font-normal inset-0 flex items-center justify-center"},variants:{color:{default:{svg:"text-default-400"},primary:{svg:"text-primary"},secondary:{svg:"text-secondary"},success:{svg:"text-success"},warning:{svg:"text-warning"},danger:{svg:"text-danger"}},size:{sm:{svg:"w-8 h-8",label:"text-small",value:"text-[0.5rem]"},md:{svg:"w-10 h-10",label:"text-small",value:"text-[0.55rem]"},lg:{svg:"w-12 h-12",label:"text-medium",value:"text-[0.6rem]"}},isIndeterminate:{true:{svg:"animate-spinner-ease-spin"}},isDisabled:{true:{base:"opacity-disabled cursor-not-allowed"}},disableAnimation:{true:{},false:{indicator:"transition-all !duration-500"}}},defaultVariants:{color:"primary",size:"md",isDisabled:!1,disableAnimation:!1},compoundVariants:[{disableAnimation:!0,isIndeterminate:!1,class:{svg:"!transition-none motion-reduce:transition-none"}}]}),le=l(31744),te=l(49869);var Y=l(50262),_=l(768),ne=l(80666),ae=l(65897),re=l(9200),se=l(33685);function y(l){const[e,t]=(0,V.oe)(l,J.variantKeys),{ref:n,as:a,id:r,className:s,classNames:i,label:o,valueLabel:c,value:u=void 0,minValue:d=0,maxValue:m=100,strokeWidth:x,showValueLabel:f=!1,formatOptions:v={style:"percent"},...h}=e;var g=a||"div";const p=(0,le.gy)(n),j=(0,te.W)(null==i?void 0:i.base,s);var[,y]=(0,ne.t)({rerender:!0,delay:100});const b=(null==(L=l.isIndeterminate)||L)&&void 0===u,{progressBarProps:N,labelProps:C}=function(e){let{value:l=0,minValue:t=0,maxValue:n=100,valueLabel:a,isIndeterminate:r,formatOptions:s={style:"percent"}}=e;var i=(0,_.zL)(e,{labelable:!0}),{labelProps:e,fieldProps:o}=(0,re.N)({...e,labelElementType:"span"}),c=((l=(0,ae.uZ)(l,t,n))-t)/(n-t),u=(0,se.Ux)(s);return r||a||(c="percent"===s.style?c:l,a=u.format(c)),{progressBarProps:(0,_.dG)(i,{...o,"aria-valuenow":r?void 0:l,"aria-valuemin":t,"aria-valuemax":n,"aria-valuetext":r?void 0:a,role:"progressbar"}),labelProps:e}}({id:r,label:o,value:u,minValue:d,maxValue:m,valueLabel:c,formatOptions:v,isIndeterminate:b,"aria-labelledby":l["aria-labelledby"],"aria-label":l["aria-label"]}),w=(0,R.useMemo)(()=>J({...t,isIndeterminate:b}),[b,...Object.values(t)]),k=!!l.disableAnimation||y,T=x||("sm"===l.size?2:3),S=16-T,I=2*S*Math.PI;var L=(0,R.useMemo)(()=>{return k?b?.25:u?(e=(u-d)/(m-d),l=1,Math.min(Math.max(e,0),l)):0:0;var e,l},[k,u,d,m,b]);const A=I-L*I;var y=(0,R.useCallback)((e={})=>({ref:p,"data-indeterminate":(0,Y.PB)(b),"data-disabled":(0,Y.PB)(l.isDisabled),className:w.base({class:j}),...(0,_.dG)(N,h,e)}),[p,w,b,l.isDisabled,j,N,h]),L=(0,R.useCallback)((e={})=>({className:w.label({class:null==i?void 0:i.label}),...(0,_.dG)(C,e)}),[w,i,C]),P=(0,R.useCallback)((e={})=>({viewBox:"0 0 32 32",fill:"none",strokeWidth:T,className:w.svg({class:null==i?void 0:i.svg}),...e}),[T,w,i]),B=(0,R.useCallback)((e={})=>({cx:16,cy:16,r:S,role:"presentation",strokeDasharray:I+" "+I,strokeDashoffset:A,transform:"rotate(-90 16 16)",strokeLinecap:"round",className:w.indicator({class:null==i?void 0:i.indicator}),...e}),[w,i,A,I,S]),E=(0,R.useCallback)((e={})=>({cx:16,cy:16,r:S,role:"presentation",strokeDasharray:I+" "+I,strokeDashoffset:0,transform:"rotate(-90 16 16)",strokeLinecap:"round",className:w.track({class:null==i?void 0:i.track}),...e}),[w,i,I,S]);return{Component:g,domRef:p,slots:w,classNames:i,label:o,showValueLabel:f,getProgressBarProps:y,getLabelProps:L,getSvgProps:P,getIndicatorProps:B,getTrackProps:E}}var e=(0,V.Gp)((e,l)=>{var{Component:l,slots:e,classNames:t,label:n,showValueLabel:a,getProgressBarProps:r,getLabelProps:s,getSvgProps:i,getIndicatorProps:o,getTrackProps:c}=y({ref:l,...e}),r=r();return(0,W.jsxs)(l,{...r,children:[(0,W.jsxs)("div",{className:e.svgWrapper({class:null==t?void 0:t.svgWrapper}),children:[(0,W.jsxs)("svg",{...i(),children:[(0,W.jsx)("circle",{...c()}),(0,W.jsx)("circle",{...o()})]}),a&&(0,W.jsx)("span",{className:e.value({class:null==t?void 0:t.value}),children:r["aria-valuetext"]})]}),n&&(0,W.jsx)("span",{...s(),children:n})]})}),ie=(e.displayName="NextUI.CircularProgress",e),U=l(80854),Q=l(96012);function oe(){var l=(0,z.$G)().t,e=K(),t=e.toggle,n=e.setToggle,a=e.openAccount,r=e.setOpenAccount,s=e.open,i=e.setOpen,o=e.setCoinSelect,e=e.coinSelect,c=(0,R.useState)({pageNo:1,pageSize:10}),c=P()(c,1)[0],u=(0,R.useState)("from"),u=P()(u,2),d=u[0],m=u[1],u=(0,Z.P)(F.xt,c).list,x=void 0===u?[]:u,c=(0,Q.q_)({to:{y:t?130:0},config:{tension:250,friction:20}}).y,u=(0,R.useState)({from:{},reach:{}}),u=P()(u,2),f=u[0],v=u[1],u=(0,R.useState)({from:"",reach:""}),u=P()(u,2),h=u[0],g=u[1],u=(0,R.useState)(0),u=P()(u,2),p=u[0],j=u[1],u=(0,R.useState)({}),u=P()(u,2),y=u[0],b=u[1],u=(0,G.lS)(function(){return(0,F.Br)()},{cacheKey:O.Z.APP_WALLETFUNDAPI}),N=u.data,C=void 0===N?{}:N,w=u.runAsync,N=(0,G.lS)(function(e){return(0,F.tB)(e)},{manual:!0,formatResult:function(e){return null!=(e=null==e?void 0:e.data)?e:{}}}),u=N.data,k=void 0===u?{}:u,T=N.runAsync,S=(0,G.lS)(function(e){return null!=e&&e.amount?(0,F.tB)(e):null},{debounceWait:500,manual:!0,formatResult:function(e){return null!=(e=null==e?void 0:e.data)?e:{}},onSuccess:function(e){e&&g(A()(A()({},h),{},{reach:+(null==e?void 0:e.rate)*+(null==h?void 0:h.from)-+(null==e?void 0:e.fee)}))}}).runAsync;(0,R.useEffect)(function(){var e;0!==(null==x?void 0:x.length)&&(v({from:x[0],reach:x[1]}),T({sourceCoinId:null==(e=x[0])?void 0:e.id,targetCoinId:null==(e=x[1])?void 0:e.id,amount:1,type:1}))},[x]),(0,R.useEffect)(function(){var e;0!==(null==C||null==(e=C.walletList)?void 0:e.length)&&"{}"!==JSON.stringify(null==f?void 0:f.from)&&(e=null==C||null==(e=C.walletList)?void 0:e.find(function(e){return(null==e?void 0:e.name)===(null==f||null==(e=f.from)?void 0:e.name)}),b(e))},[C,f]),(0,R.useEffect)(function(){var e;if(k&&0<Object.keys(k).length)return e=setInterval(function(){j(function(e){return 100<=e?0:e+1})},100),function(){return clearInterval(e)}},[k]),(0,R.useEffect)(function(){var e;100===p&&0<Object.keys(f).length&&T({sourceCoinId:null==f||null==(e=f.from)?void 0:e.id,targetCoinId:null==f||null==(e=f.reach)?void 0:e.id,amount:1,type:1})},[p]);var I=(0,U.useModel)("user").refreshWallet,u=(0,R.useMemo)(function(){var e;return(0,W.jsxs)(L.m,{align:"center",justify:"between",flex:1,vertical:!0,className:"bg-backgroundAuxiliaryTextColor py-3 px-4 rounded-md",children:[(0,W.jsxs)(L.m,{align:"center",justify:"between",flex:1,className:"text-xxs",children:[(0,W.jsx)("span",{className:"text-auxiliaryTextColor",children:l(t?"到":"从")}),!t&&(0,W.jsx)(L.m,{align:"center",justify:"center",className:"text-xxs",children:(0,W.jsxs)("span",{className:"text-auxiliaryTextColor",children:[l("可用"),null!=(e=H.Z.FormatAmount(null==y?void 0:y.availableBalance,3))?e:0," ",null==y?void 0:y.alias]})})]}),(0,W.jsxs)(L.m,{align:"center",justify:"between",flex:1,className:"py-3",children:[(0,W.jsxs)(L.m,{align:"center",justify:"start",flex:1,onClick:function(){o(!0),m("from")},className:"w-full flex-shrink-0",children:[(0,W.jsx)("img",{src:t?null==f||null==(e=f.reach)?void 0:e.icon:null==f||null==(e=f.from)?void 0:e.icon,width:30}),(0,W.jsx)("span",{className:"ml-1",children:t?null==f||null==(e=f.reach)?void 0:e.alias:null==f||null==(e=f.from)?void 0:e.alias}),(0,W.jsx)(B.x,{className:"text-xss ml-2"})]}),(0,W.jsx)(L.m,{align:"center",justify:"end",children:(0,W.jsx)(M.Z,{isClearable:!1,className:"!h-full",classNames:{input:"text-right border-0 text-xl font-bold pr-0 text-titleColor",inputWrapper:"border-0 p-0"},value:t?null==h?void 0:h.reach:null==h?void 0:h.from,onChange:function(e){var l;t?(g(A()(A()({},h),{},{reach:e})),S({sourceCoinId:null==f||null==(l=f.from)?void 0:l.id,targetCoinId:null==f||null==(l=f.reach)?void 0:l.id,amount:e,type:1})):(g(A()(A()({},h),{},{from:e})),S({sourceCoinId:null==f||null==(l=f.from)?void 0:l.id,targetCoinId:null==f||null==(l=f.reach)?void 0:l.id,amount:e,type:1}))},placeholder:"0.01 - 8000"})})]}),!t&&(0,W.jsx)(L.m,{align:"center",justify:"end",flex:1,children:(0,W.jsx)(q.A,{className:"border-0 text-primary bg-tabBackground max-w-10 min-w-10 h-5 text-xs !p-0",onClick:function(){var e;g(A()(A()({},h),{},{from:null==y?void 0:y.availableBalance})),S({sourceCoinId:null==f||null==(e=f.from)?void 0:e.id,targetCoinId:null==f||null==(e=f.reach)?void 0:e.id,amount:null==y?void 0:y.availableBalance,type:1})},children:l("最大")})})]})},[t,f,h,y]),N=(0,R.useMemo)(function(){var e;return(0,W.jsxs)(L.m,{align:"center",justify:"between",flex:1,vertical:!0,className:"bg-backgroundAuxiliaryTextColor py-3 px-4 rounded-md",children:[(0,W.jsxs)(L.m,{align:"center",justify:"between",flex:1,className:"text-xxs",children:[(0,W.jsx)("span",{className:"text-auxiliaryTextColor",children:l(t?"从":"到")}),t&&(0,W.jsx)(L.m,{align:"center",justify:"center",className:"text-xxs",children:(0,W.jsxs)("span",{className:"text-auxiliaryTextColor",children:[l("可用"),null!=(e=H.Z.FormatAmount(null==y?void 0:y.availableBalance,3))?e:0," ",null==y?void 0:y.alias]})})]}),(0,W.jsxs)(L.m,{align:"center",justify:"between",flex:1,className:"py-3",children:[(0,W.jsxs)(L.m,{align:"center",justify:"start",flex:1,onClick:function(){o(!0),m("reach")},className:"w-full flex-shrink-0",children:[(0,W.jsx)("img",{src:t?null==f||null==(e=f.from)?void 0:e.icon:null==f||null==(e=f.reach)?void 0:e.icon,width:30}),(0,W.jsx)("span",{className:"ml-1",children:t?null==f||null==(e=f.from)?void 0:e.alias:null==f||null==(e=f.reach)?void 0:e.alias}),(0,W.jsx)(B.x,{className:"text-xss ml-2"})]}),(0,W.jsx)(L.m,{align:"center",justify:"end",children:(0,W.jsx)(M.Z,{isClearable:!1,className:"!h-full",classNames:{input:"text-right border-0 text-xl font-bold pr-0 text-titleColor",inputWrapper:"border-0 p-0"},value:t?h.from:h.reach,onChange:function(e){var l;t?(g(A()(A()({},h),{},{from:e})),S({sourceCoinId:null==f||null==(l=f.from)?void 0:l.id,targetCoinId:null==f||null==(l=f.reach)?void 0:l.id,amount:e,type:1})):(g(A()(A()({},h),{},{reach:e})),S({sourceCoinId:null==f||null==(l=f.from)?void 0:l.id,targetCoinId:null==f||null==(l=f.reach)?void 0:l.id,amount:e,type:1}))},placeholder:"0.01 - 8000"})})]}),t&&(0,W.jsx)(L.m,{align:"center",justify:"end",flex:1,children:(0,W.jsx)(q.A,{className:"border-0 text-primary bg-tabBackground max-w-10 min-w-10 h-5 text-xs !p-0",onClick:function(){var e;g(A()(A()({},h),{},{from:null==y?void 0:y.availableBalance})),S({sourceCoinId:null==f||null==(e=f.from)?void 0:e.id,targetCoinId:null==f||null==(e=f.reach)?void 0:e.id,amount:null==y?void 0:y.availableBalance,type:1})},children:l("最大")})})]})},[t,f,h,y]);return(0,W.jsxs)(W.Fragment,{children:[(0,W.jsxs)("div",{className:"p-3",children:[(0,W.jsx)(Q.q.div,{style:{width:"100%",transform:c.to(function(e){return"translateY(".concat(e,"px)")})},children:u}),(0,W.jsx)(L.m,{align:"center",justify:"center",style:{margin:"-10px",zIndex:"999"},children:(0,W.jsx)(q.A,{style:{zIndex:"999"},isIconOnly:!0,color:"warning",variant:"faded","aria-label":"Take a photo",className:"border-0 bg-background rounded-full",onClick:function(){var e;n(function(e){return!e}),g({from:"",reach:""}),v({from:null==f?void 0:f.reach,reach:null==f?void 0:f.from}),T({sourceCoinId:null==f||null==(e=f.reach)?void 0:e.id,targetCoinId:null==f||null==(e=f.from)?void 0:e.id,amount:1,type:1})},children:(0,W.jsx)(E.y,{className:"transition delay-150 ".concat(t?"rotate-90":"-rotate-90"," text-primary text-xl")})})}),(0,W.jsx)(Q.q.div,{style:{width:"100%",transform:c.to(function(e){return"translateY(".concat(-e,"px)")})},children:N}),"{}"!==JSON.stringify(k)&&(0,W.jsxs)(L.m,{align:"center",justify:"center",flex:1,className:"mt-6",children:[(0,W.jsxs)("span",{className:"text-auxiliaryTextColor text-xxs",children:["1",null==f||null==(u=f.from)?void 0:u.alias," ="," ",null!=(c=H.Z.getDynamicPrice(null==k?void 0:k.rate,6))?c:0," ",null==f||null==(N=f.reach)?void 0:N.alias]}),(0,W.jsx)(ie,{className:"ml-2",size:"sm",value:p,classNames:{svg:"w-4 h-4 drop-shadow-md",indicator:"stroke-white",track:"stroke-white/10",value:"text-3xl font-semibold text-primary"}})]}),(0,W.jsx)(L.m,{align:"center",justify:"center",flex:1,className:"mt-16",children:(0,W.jsx)(q.A,{className:"text-base bg-primary w-full h-14 text-white",radius:"sm",onClick:function(){return h.from?(null==y?void 0:y.availableBalance)<(null==h?void 0:h.from)?$.Am.warning(l("可用金额不足")):void i(!0):$.Am.warning(l("请输入数量"))},children:l("询价")})})]}),(0,W.jsx)(ee,{defaultValue:A()(A()({},f),{},{value:h}),open:s,onClose:function(){return i(!1)},onSuccess:function(){i(!1),g(""),w()}}),(0,W.jsx)(X,{defaultValue:f,open:e,defaultDirection:d,onSelect:function(e){I(),o(!1),v(A()({},e)),g({from:"",reach:""})}}),(0,W.jsx)(D,{open:a,onClose:function(){return r(!1)}})]})}function ce(){var e=(0,z.$G)().t,l=K();l.tabsList,l.selectedTabs,l.TabsOnChange;return(0,W.jsxs)("div",{className:"mt-4",children:[(0,W.jsx)(n.Z,{title:e("闪兑"),roghtNode:(0,W.jsx)(L.m,{align:"center",justify:"center",children:(0,W.jsx)(t.e,{onClick:function(){return U.history.push(r.Z.ORDER_HISTORY+"?type="+a.$S.SWAP)},width:"22px",height:"22px"})})}),(0,W.jsx)(oe,{})]})}},80666:function(e,l,t){t.d(l,{t:function(){return n}});var s=t(67294);function n(e={}){const{rerender:l=!1,delay:t=0}=e,n=(0,s.useRef)(!1),[a,r]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{n.current=!0;let e=null;return l&&(0<t?e=setTimeout(()=>{r(!0)},t):r(!0)),()=>{n.current=!1,l&&r(!1),e&&clearTimeout(e)}},[l]),[(0,s.useCallback)(()=>n.current,[]),a]}},46822:function(e,l,t){t.d(l,{S:function(){return u},T:function(){return n}});var s=t(768),i=t(67294),o=t(76644);const c={border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"};function u(e={}){let{style:l,isFocusable:t}=e,[n,a]=(0,i.useState)(!1);var e=(0,o.L_)({isDisabled:!t,onFocusWithinChange:e=>a(e)})["focusWithinProps"],r=(0,i.useMemo)(()=>n?l:l?{...c,...l}:c,[n]);return{visuallyHiddenProps:{...e,style:r}}}function n(e){let{children:l,elementType:t="div",isFocusable:n,style:a,...r}=e;e=u(e).visuallyHiddenProps;return i.createElement(t,(0,s.dG)(r,e),l)}}}]);