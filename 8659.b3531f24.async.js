"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8659],{86062:function(e,n,l){l.d(n,{d:function(){return o}});var n=l(97857),t=l.n(n),s=l(85893);function o(e){return(0,s.jsx)("svg",t()(t()({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},e),{},{children:(0,s.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M14.385 15.446a6.751 6.751 0 1 1 1.06-1.06l5.156 5.155a.75.75 0 1 1-1.06 1.06zM6.46 13.884a5.25 5.25 0 1 1 7.43-.005l-.005.005l-.005.004a5.25 5.25 0 0 1-7.42-.004",clipRule:"evenodd"})}))}},11664:function(e,n,l){l.d(n,{d:function(){return o}});var n=l(97857),t=l.n(n),s=l(85893);function o(e){return(0,s.jsx)("svg",t()(t()({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 16 16"},e),{},{children:(0,s.jsx)("path",{fill:"currentColor",d:"M6.687 1.777a1.5 1.5 0 0 1 2.629 0l5.499 9.999a1.5 1.5 0 0 1-1.314 2.223H2.502a1.5 1.5 0 0 1-1.314-2.223z"})}))}},34884:function(e,n,l){l.d(n,{e:function(){return o}});var n=l(97857),t=l.n(n),s=(l(67294),l(85893));function o(e){return(0,s.jsx)("svg",t()(t()({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24"},e),{},{children:(0,s.jsx)("path",{fill:"currentColor",d:"M5 21q-.825 0-1.412-.587T3 19V5q0-.825.588-1.412T5 3h4.2q.325-.9 1.088-1.45T12 1q.95 0 1.713.55T14.8 3H19q.825 0 1.413.588T21 5v14q0 .825-.587 1.413T19 21zm3-4h5q.425 0 .713-.288T14 16q0-.425-.288-.712T13 15H8q-.425 0-.712.288T7 16q0 .425.288.713T8 17m0-4h8q.425 0 .713-.288T17 12q0-.425-.288-.712T16 11H8q-.425 0-.712.288T7 12q0 .425.288.713T8 13m0-4h8q.425 0 .713-.288T17 8q0-.425-.288-.712T16 7H8q-.425 0-.712.288T7 8q0 .425.288.713T8 9m4-4.75q.325 0 .538-.213t.212-.537q0-.325-.213-.537T12 2.75q-.325 0-.537.213t-.213.537q0 .325.213.538T12 4.25"})}))}},11735:function(e,n,l){l.d(n,{Z:function(){return t}});var n=l(5574),p=l.n(n),v=l(77598),f=l(67294),h=l(85893);function t(e){function n(e){if(d){var n,l=s.toString();l.includes(".")&&l.split(".")[1].length;if(!x||isNaN(x))m(""),r("");else{if("plus"===e){if(n=parseFloat(x)+s,i&&i<n)return}else if(n=parseFloat(x)-s,a&&n<a)return;8<(null==(l=n)?void 0:l.toString().split(".")[1].length)&&(n=n.toFixed(8)),m(n.toString()),r(n)}}}function l(e){var n;""!==(null==(n=null!=e?e:x)?void 0:n.trim())&&void 0!==(null!=e?e:x)&&(n=null!=e?e:x,parseFloat(null!=e?e:x),r(n))}var t=e.value,s=e.step,o=e.title,r=e.onChange,i=e.max,a=e.min,c=e.unit,u=e.showButton,d=void 0===u||u,u=e.className,e=(0,f.useState)(t+(c||"")),e=p()(e,2),x=e[0],m=e[1];(0,v.Z)(function(){m(t+(c||""))},[t]);return(0,h.jsxs)("div",{className:"flex justify-between items-center bg-backgroundAuxiliaryTextColor rounded-md px-4 my-2 box-border h-[40px] ".concat(u),children:[(0,h.jsx)("div",{className:"text-auxiliaryTextColor text-2xl cursor-pointer ".concat(d?"":"opacity-0"),onClick:function(){return n("minus")},children:"-"}),(0,h.jsxs)("div",{className:"flex flex-col items-center flex-1",children:[o&&(0,h.jsx)("span",{className:"text-xxs text-auxiliaryTextColor",children:o}),(0,h.jsx)("div",{className:"flex items-center relative",children:(0,h.jsx)("input",{type:"text",value:x,onChange:function(e){m(e.target.value),l(e.target.value)},onBlur:function(){l()},onFocus:function(e){},className:"outline-0 bg-[transparent] w-full text-center text-backContrastColor hover:border-none hover:outline-none"})})]}),(0,h.jsx)("div",{className:"text-auxiliaryTextColor text-2xl cursor-pointer ".concat(d?"":"opacity-0"),onClick:function(){return n("plus")},children:"+"})]})}},50052:function(e,n,l){l.d(n,{Z:function(){return t}});var n=l(97857),p=l.n(n),v=l(11664),f=l(60854),h=l(80854),b=l(45908),j=l(67294),C=l(85893),m=function(e){var n=e.value,l=e.style,l=void 0===l?{}:l,t=e.className,t=void 0===t?"":t,s=e.len,o=e.ratio,r=e.propsColor,i=e.isSubLen,i=void 0===i||i,e=e.type,e=void 0===e?"card":e,a=null!=(a=(0,b.Z)(n))?a:"0",c={textAlign:"center",borderRadius:"5px",fontSize:"15px",width:"75px",marginLeft:"auto",minHeight:30,wordBreak:"break-word"},u=(0,h.useModel)("system").updowncolorConfig,d=p()({},c),x={},m="0"!==n?n:a,c=(Number(n)>Number(a)?(d=p()(p()({color:"#fff"},c),{},{background:"upGreen"===u?"#2db880":"#ee4456"}),x={color:"upGreen"===u?"#2db880":"#ee4456"}):Number(n)<Number(a)&&(d=p()(p()({color:"#fff"},c),{},{background:"upGreen"===u?"#ee4456":"#2db880"}),x={color:"upGreen"===u?"#ee4456":"#2db880"}),p()(p()({},d),l)),u=(0,j.useMemo)(function(){return m?s||0===s?f.Z.FormatAmount(m,s):f.Z.FormatAmount(m):(0,C.jsx)("span",{className:"color_secondary text-sm",children:"0"})},[m,s]);return i?(0,C.jsxs)(C.Fragment,{children:["card"===e&&(0,C.jsxs)("div",{style:r?p()(p()({},c),{},{color:r}):c,className:"py-[1px] px-[2px] flex justify-center items-center bg-backgroundAuxiliaryTextColor ".concat(t),children:[u," ",o?"%":""]}),"text"===e&&(0,C.jsxs)("div",{style:p()({},x),className:"flex flex-col items-center justify-center h-full",children:[(0,C.jsx)(v.d,{width:"10px",height:"10px",style:{visibility:Number(n)>Number(a)?"visible":"hidden"}}),(0,C.jsxs)("span",{children:[m," ",o?"%":""]})]})]}):(0,C.jsxs)("span",{style:c,className:t,children:[m," ",o?"%":""]})},g=l(6429),y=l(21257),N=l(10581),w=l(15704),T=l(67421);function t(e){var t=e.type,n=e.list,s=e.onClickItem,l=(e.isCoin,e.isJump),o=void 0===l||l,l=(e.collectType,(0,h.useModel)("socket")),r=l.getSocketRowByName,i=l.sendMsg,e=l.isSub,l=(0,T.$G)().t,a=(0,h.useModel)("coin").setLocalCoin,c=(0,h.useModel)("contract").setLocalContract,e=((0,j.useEffect)(function(){null!=n&&n.length&&i('{"type":"SUB","data": '.concat(JSON.stringify(null==n?void 0:n.map(function(e){return null==e?void 0:e.symbol})),"}"))},[n,e]),(0,h.useModel)("exchange")),u=e.exchangeConversionFunds,d=e.joinSymbol,x=(0,h.useModel)("system").isMobile;return(0,C.jsxs)("div",{children:[(0,C.jsxs)("div",{className:"text-iconFontColor my-2 flex justify-between auxiliaryText text-xs",children:[(0,C.jsx)("div",{className:"flex-2 ",children:l("名称")}),(0,C.jsx)("div",{className:"flex-1  text-right ",children:l("价格")}),(0,C.jsx)("div",{className:"text-right flex-1",children:l("涨幅比")})]}),(0,C.jsx)("div",{className:"justify-between",children:null==n?void 0:n.map(function(e){var n,l=r(e.symbol);return(0,C.jsxs)("div",{className:"flex pb-4 items-center justify-between w-full  cursor-pointer",onClick:function(){if(t===g.XG.CONTRACT){if(c(e),!x)return void(o&&N.m.replace(y.Z.HOME));o&&N.m.replace(y.Z.CONTRACT)}if(t===g.XG.COIN){if(a(e),!x)return void(o&&N.m.push(y.Z.HOME+"?type="+g.Kv.COIN));o&&N.m.replace(y.Z.TRANSACTION)}if(t===g.XG.COLLECT){if((null==e?void 0:e.isTripartite)===g.XC.COIN_COLLECT){if(a(p()(p()({},e),{},{id:null==e?void 0:e.sourceId})),!x)return void(o&&N.m.replace(y.Z.HOME));o&&N.m.replace(y.Z.TRANSACTION)}if((null==e?void 0:e.isTripartite)===g.XC.CONTRACT_COLLECT){if(c(p()(p()({},e),{},{id:null==e?void 0:e.sourceId})),!x)return void(o&&N.m.push(y.Z.HOME+"?type="+g.Kv.COIN));o&&N.m.replace(y.Z.CONTRACT)}}null!=s&&s(e)},children:[(0,C.jsxs)("div",{className:"flex-2  font-bold  flex justify-start text-sm items-center",children:[(0,C.jsxs)("div",{className:"w-[30px]",children:[!(null!=e&&e.icon2)&&(0,C.jsx)(w.J,{className:"w-[26px] h-[26px] mr-2 flex-shrink-0 rounded-full object-cover",src:null==e?void 0:e.icon1}),(null==e?void 0:e.icon2)&&(0,C.jsxs)("div",{className:"w-[18px] h-[18px] relative mr-2",children:[(0,C.jsx)(w.J,{classNames:{wrapper:"!max-w-[100%]"},className:"flex-shrink-0  object-cover  absolute left-[0] top-[-3px] z-[1]",src:null==e?void 0:e.icon1}),(0,C.jsx)(w.J,{classNames:{wrapper:"!max-w-[100%]"},className:"!w-[18px] h-[18px]  flex-shrink-0 rounded-full object-cover absolute left-[10px] top-0 z-[2]",src:null==e?void 0:e.icon2})]})]}),(0,C.jsx)("div",{className:"truncate",children:null==e?void 0:e.company}),(0,C.jsx)("div",{className:"text-foreground break-words text-base ",children:null!=(n=null!=(n=e.alias)?n:e.symbolName)?n:e.symbol})]}),(0,C.jsxs)("div",{className:"flex-1 text-right",children:[(0,C.jsx)("div",{className:"text-sm ",children:f.Z.FormatAmount(null==l?void 0:l.a,null==e?void 0:e.priceAccuracy)}),(0,C.jsx)("div",{className:"text-xs text-iconFontColor",style:{whiteSpace:"nowrap"},children:d(f.Z.FormatAmount(u(null==l?void 0:l.a),null==e?void 0:e.priceAccuracy),"FUNDS")})]}),(0,C.jsx)("div",{className:"flex-1 text-right",children:(0,C.jsx)(m,{value:l.pe,ratio:!0})})]},e.name)})})]})}},81851:function(e,n,l){var t=l(5574),p=l.n(t),v=l(75367),f=l(49995),h=l(86547),b=l(50040),j=l(60854),C=l(41027),g=l(81481),y=l(55903),N=l(69371),w=l(32226),T=l(87740),M=l(86597),k=l(96476),A=l(80854),S=l(67294),O=l(67421),Z=l(55678),L=l(85893);n.Z=function(e){var n=e.loadMore,l=e.total,t=e.list,s=e.error,o=e.reloadOrder,e=e.loading,r=(0,O.$G)().t,i=(0,C.q)(),a=i.isOpen,c=i.onOpen,u=i.onOpenChange,i=(0,S.useState)(0),i=p()(i,2),d=i[0],x=i[1],m=(0,b.lS)(h.AB,{manual:!0,onSuccess:function(){o(),Z.Am.success(r("撤销订单成功"))}}).run;return(0,L.jsx)(f.Z,{loadMore:n,total:l,list:t,error:!!s,loading:e,children:null==t?void 0:t.map(function(e){var n;return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)("div",{className:"mb-5 text-sm",onClick:function(){return A.history.push("/order/detail/".concat(e.id,"?type=coin"))},children:[(0,L.jsxs)("div",{className:"flex justify-between items-start pb-2",children:[(0,L.jsxs)("div",{className:"flex flex-col",children:[(0,L.jsx)("span",{className:"text-backContrastColor font-bold",children:null==e?void 0:e.alias}),1===(null==e?void 0:e.direction)&&(0,L.jsx)("span",{className:" text-successColor text-xs",children:r("购买")}),2===(null==e?void 0:e.direction)&&(0,L.jsx)("span",{className:"text-errorColor text-xs",children:r("卖出")})]}),(0,L.jsxs)("span",{className:"text-auxiliaryTextColor flex items-center text-xs",children:[j.Z.formatDate(null==e?void 0:e.createTime),(0,L.jsx)(v.w,{})]})]}),null===(n=e,n=[{label:r("成交数量"),value:n.baseAmount},{label:r("成交价格"),value:n.startPrice},{label:r("类型"),value:(0,L.jsxs)("span",{children:[1===(null==n?void 0:n.type)&&r("市价"),2===(null==n?void 0:n.type)&&r("限价")]})},{label:r("状态"),value:(0,L.jsxs)(L.Fragment,{children:[1===(null==n?void 0:n.status)&&(0,L.jsx)("span",{className:" text-warningColor",children:r("委托中")}),-1===(null==n?void 0:n.status)&&(0,L.jsx)("span",{className:" text-errorColor",children:r("已撤销")}),0===(null==n?void 0:n.status)&&(0,L.jsx)("span",{className:"text-successColor",children:r("已结算")})]})}])||void 0===n?void 0:n.map(function(e){return(0,L.jsxs)("div",{className:"flex justify-between pb-1 text-xs",children:[(0,L.jsx)("span",{className:"text-auxiliaryTextColor",children:e.label}),(0,L.jsx)("span",{className:"text-backContrastColor",children:e.value})]},e.label)}),(0,L.jsx)("div",{className:"flex justify-end mt-1",children:1===(null==e?void 0:e.status)&&(0,L.jsx)(g.A,{size:"sm",onClick:function(){x(e.id),c()},children:r("撤销")})})]},e.id),(0,L.jsx)(y.j,{className:"my-4"}),(0,L.jsx)(N.R,{isOpen:a,onOpenChange:u,placement:"center",children:(0,L.jsx)(w.A,{className:"text-backContrastColor",children:function(e){return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(T.k,{className:"flex flex-col gap-1",children:r("请确认")}),(0,L.jsx)(M.I,{children:(0,L.jsx)("p",{children:r("请确认是否撤销订单，撤销后不可恢复！")})}),(0,L.jsxs)(k.R,{children:[(0,L.jsx)(g.A,{color:"danger",variant:"light",onPress:e,children:r("取消")}),(0,L.jsx)(g.A,{className:"mainColorButton !w-[80px] !py-[5px]",onPress:function(){e(),m(d)},children:r("确认")})]})]})}})})]})})})}},43831:function(e,n,l){var k=l(77666),A=l(99144),S=l(86547),O=l(50040),Z=l(60854),L=l(41027),B=l(81481),I=l(80854),F=l(67294),R=l(67421),q=l(55678),E=l(85893);n.Z=function(e){var n=e.transactionMode,l=e.priceType,t=e.amount,s=e.reloadOrder,o=e.price,r=e.onSuccess,i=(0,R.$G)().t,a=(0,I.useModel)("coin").localCoin,e=(0,I.useModel)("socket").getSocketRowByName,c=(0,I.useModel)("system").reLoadOrder,u=(0,I.useModel)("user").coinsFunds,d=(0,L.q)(),x=d.isOpen,m=d.onOpen,d=d.onClose,p=(0,L.q)(),v=p.isOpen,f=p.onOpen,p=p.onClose,h=e(null==a?void 0:a.symbol),e=(0,I.useModel)("system"),b=e.currentDownBgClass,e=e.currentUpBgClass,j=(0,I.useModel)("user").refreshWallet,C=(0,O.lS)(S.EU,{manual:!0,loadingDefault:!1,onSuccess:function(){1===n&&q.Am.success(i("购买成功")),2===n&&q.Am.success(i("卖出成功")),j(),s&&s(),c()},onError:function(e){console.log(e.message)}}),g=C.run,y=(C.loading,(0,F.useMemo)(function(){var e;return a&&0!==(null==u||null==(e=u.walletList)?void 0:e.length)&&1===n?null==u||null==(e=u.walletList)?void 0:e.find(function(e){return e.coinId===(null==a?void 0:a.baseId)}):!a||0===(null==u||null==(e=u.walletList)?void 0:e.length)||2!==n||null==u||null==(e=u.walletList)?void 0:e.find(function(e){return e.coinId===(null==a?void 0:a.baseId)})},[a,u,n])),N=null!=(C=null==a?void 0:a.commissionType)?C:0,w=null==a?void 0:a.commission,C=(0,F.useMemo)(function(){return 1===N?w:2===N&&1===n?t*(.01*w):2===N&&2===n?t*(null==h?void 0:h.a)*(.01*w):void 0},[N,a,w,n,t,null==h?void 0:h.a]),T=(0,F.useMemo)(function(){return 1===N?w:2===N&&1===n?.01*w:2===N&&2===n?+(null==h?void 0:h.a)*(.01*w):void 0},[N,a,w,n,t,null==h?void 0:h.a]),M=(0,F.useMemo)(function(){return 1===n?(null==y?void 0:y.availableBalance)/(T+1):null==y?void 0:y.availableBalance},[null==y?void 0:y.availableBalance,n]);return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)("div",{className:"mt-4",children:[(0,E.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,E.jsx)("span",{className:"text-auxiliaryTextColor",children:i("可用")}),(0,E.jsx)("span",{className:"text-backContrastColor",children:Z.Z.FormatAmount(null==y?void 0:y.availableBalance)})]}),(0,E.jsxs)("div",{className:"flex justify-between text-xs my-1",children:[(0,E.jsx)("span",{className:"text-auxiliaryTextColor border-b-1 border-dashed",onClick:f,children:i("预估手续费")}),(0,E.jsx)("span",{className:"text-backContrastColor",children:Z.Z.FormatAmount(C,4)})]}),(0,E.jsxs)("div",{className:"flex justify-between text-xs my-1",children:[(0,E.jsx)("span",{className:"text-auxiliaryTextColor border-b-1 border-dashed",onClick:m,children:n===A.XM.BUY?i("可购买数量"):i("可卖出数量")}),(0,E.jsx)("span",{className:"text-backContrastColor",children:Z.Z.FormatAmount(M)})]}),(0,E.jsx)(B.A,{className:"flex flex-col bg-errorColor w-full my-2 text-[#fff] rounded-[6px] ".concat(n===A.XM.BUY?e:b),onClick:function(){g({symbolCoinId:a.id,direction:n,type:l,baseAmount:t,limitPrice:o}),r&&r()},children:(0,E.jsx)("div",{className:"text-xs",children:(0,E.jsx)("div",{children:n===A.XM.BUY?i("买入"):i("卖出")})})})]}),(0,E.jsx)(k.Z,{isOpen:x,onClose:d,title:i("可买&可卖"),hideCloseButton:!0,placement:"center",children:(0,E.jsxs)("div",{className:"px-4 w-[300px] sm:w-[500px] pb-6",children:[(0,E.jsx)("div",{children:i("可买/可卖取决于您买入/卖出时的可用余额，以及您想要交易的价格。当您输入想要交易的价格时，可买/可卖将自动计算得出。")}),(0,E.jsx)(B.A,{className:"mainColorButton mt-4 !h-[40] !py-2",onClick:d,children:i("确定")})]})}),(0,E.jsx)(k.Z,{isOpen:v,onClose:p,title:i("预估手续费"),hideCloseButton:!0,placement:"center",children:(0,E.jsxs)("div",{className:"px-4 w-[300px] sm:w-[500px] pb-6 flex-col",children:[1===N?(0,E.jsxs)("div",{children:[i("每笔订单收取")," ",w," "]}):(0,E.jsxs)("div",{children:[i("每笔订单收取交易金额的")," ",w,"%"]}),(0,E.jsx)(B.A,{className:"mainColorButton mt-4 !h-[40] !py-2",onClick:p,children:i("确定")})]})})]})}},70032:function(e,n,l){l.d(n,{Z:function(){return s}});function k(){var e=(0,B.$G)().t,n=(0,Z.useModel)("coin").localCoin,l=(0,Z.useModel)("socket").getSocketRowByName,t=(0,f.lS)(v.vA,{formatResult:function(e){e=null!=(e=null==e?void 0:e.data)?e:[];return Array.isArray(e)?e:[]}}),s=void 0===(x=t.data)?[]:x,o=t.run,r=(0,L.useRef)(null);(0,h.Z)(function(){o({symbol:null==n?void 0:n.symbol})}),(0,b.Z)(function(){o({symbol:null==n?void 0:n.symbol})},[n]);var i=(x=(0,g.F)().theme)===p.Z.dark?"#d5d5d5":"#282d37",a=x===p.Z.dark?"#222":"#f7f7f7",c=null==(t=l(null==n?void 0:n.symbol))?void 0:t.a,u=Math.min.apply(Math,m()(s)),d=Math.max.apply(Math,m()(s)),x=(0,L.useMemo)(function(){return{chart:{type:"column",height:100,backgroundColor:"transparent",spacing:[3,3,3,3]},title:{text:"",style:{fontSize:"8px",color:i}},legend:{enabled:!1},yAxis:{gridLineColor:"rgba(128, 128, 128, 0.3)",title:{text:null},labels:{style:{fontSize:"8px",color:i}},tickAmount:3,min:u,max:d},xAxis:{plotLines:[],plotBands:[],title:{text:null},labels:{style:{fontSize:"0px",color:i}}},series:[{type:"area",data:s,marker:{enabled:!1},color:{linearGradient:{x1:0,x2:0,y1:0,y2:1},stops:[[0,"#2db880"],[1,a]]}}],tooltip:{valueDecimals:2,title:e("价格")},credits:{enabled:!1},exporting:{enabled:!1}}},[s,i,a]);return(0,L.useEffect)(function(){var e;r.current&&(e=r.current.chart,c)&&0!==s.length&&(s.shift(),s.push(c),e.series[0].setData(s,!0))},[c,s]),(0,I.jsxs)("div",{children:[(0,I.jsx)("div",{className:"my-[10px] text-foreground",children:e("分时图")}),(0,I.jsx)("div",{className:"h-[100px]",children:(0,I.jsx)(C(),{highcharts:j(),options:x,ref:r},a)})]})}var n=l(5574),A=l.n(n),S=l(17031),O=l(11735),n=l(19632),m=l.n(n),p=l(48752),v=l(86547),f=l(50040),Z=l(80854),h=l(78234),b=l(77598),n=l(78840),j=l.n(n),n=l(75708),C=l.n(n),g=l(82010),L=l(67294),B=l(67421),I=l(85893),F=l(99144),R=l(60854),q=l(41027),E=l(81481),n=l(97857),t=l.n(n);function a(e){return(0,I.jsx)("svg",t()(t()({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 48 48"},e),{},{children:(0,I.jsx)("path",{fill:"currentColor",fillRule:"evenodd",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:4,d:"m4 24l5-5l10 10L39 9l5 5l-25 25z",clipRule:"evenodd"})}))}var c=l(77666),u=l(57457),d=l(72825),x=l(92153),y=l(32616);function P(e){function n(e){r(e),o()}var l=e.value,t=e.options,s=e.isOpen,o=e.onClose,r=e.onChange,e=e.children,i=(0,Z.useModel)("system").isMobile;return(0,I.jsxs)(I.Fragment,{children:[i&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("div",{children:e}),(0,I.jsx)(c.Z,{isOpen:s,hideCloseButton:!0,onClose:o,children:(0,I.jsx)("div",{className:"mt-6",children:t.map(function(e){return(0,I.jsxs)("div",{className:"flex justify-between px-3 my-4 w-full text-backContrastColor",onClick:function(){return n(e.value)},children:[(0,I.jsx)("span",{children:e.text}),e.value===l&&(0,I.jsx)(a,{})]},e.value)})})})]}),!i&&(0,I.jsxs)(u.F,{classNames:{content:"bg-background"},children:[(0,I.jsx)(d.S,{children:e}),(0,I.jsx)(x.a,{selectionMode:"single",selectedKeys:[l+""],className:" text-auxiliaryTextColor",children:null==t?void 0:t.map(function(e){return(0,I.jsx)(y.W,{onClick:function(){n(e.value+"")},children:e.text},(null==e?void 0:e.value)+"")})})]})]})}var s=function(e){var n=e.price,l=e.amount,t=e.onPriceChange,s=e.onAmountChange,o=e.priceTypeOption,r=e.priceType,i=e.onPriceTypeChange,a=e.priceTypeText,c=e.transactionMode,e=(0,q.q)(),u=e.isOpen,d=e.onOpen,x=e.onOpenChange,e=e.onClose,m=(0,Z.useModel)("coin").localCoin,p=(0,Z.useModel)("socket").getSocketRowByName,v=(0,B.$G)().t,f=p(null==m?void 0:m.symbol),h=(0,Z.useModel)("user").coinsFunds,b=null!=(p=null==m?void 0:m.commissionType)?p:0,j=null==m?void 0:m.commission,C=(0,L.useMemo)(function(){return 1===b?j:2===b&&1===c?.01*j:2===b&&2===c?+(null==f?void 0:f.a)*(.01*j):void 0},[b,m,j,c,l,null==f?void 0:f.a]),g=(0,L.useMemo)(function(){var e;return m&&0!==(null==h||null==(e=h.walletList)?void 0:e.length)&&1===c?null==h||null==(e=h.walletList)?void 0:e.find(function(e){return e.coinId===(null==m?void 0:m.baseId)}):!m||0===(null==h||null==(e=h.walletList)?void 0:e.length)||2!==c||null==h||null==(e=h.walletList)?void 0:e.find(function(e){return e.coinId===(null==m?void 0:m.baseId)})},[m,h,c]),y=(0,L.useMemo)(function(){return 1===c?(null==g?void 0:g.availableBalance)/(C+1):null==g?void 0:g.availableBalance},[null==g?void 0:g.availableBalance,c]),p=[25,50,75,100],N=(0,L.useState)(0),N=A()(N,2),w=N[0],T=N[1];function M(e){null!=h&&h.currentConvert&&null!=f&&f.a?(s(R.Z.formatNum(y*(.01*e),2)),T(e)):console.error("必要的数据未加载完毕")}N=(0,Z.useModel)("system").isMobile;return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(P,{onChange:i,options:o,onOpenChange:x,onClose:e,isOpen:u,value:r,children:(0,I.jsxs)(E.A,{className:"grayButton w-full  !px-4 flex justify-between select-all h-[34px]",onClick:d,children:[(0,I.jsx)("span",{}),(0,I.jsx)("span",{className:"exclamationMark",children:a}),(0,I.jsx)(S.x,{width:"0.5em",height:"2em",className:"text-auxiliaryTextColor"})]})}),+r===F.bL.LIMIT&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(O.Z,{title:v("价格"),value:n,step:.01,onChange:t}),(0,I.jsx)(O.Z,{title:v("数量"),value:l,step:1,onChange:s}),(0,I.jsx)("div",{className:"grid grid-cols-4 gap-3 my-2",children:null==p?void 0:p.map(function(e){return(0,I.jsxs)("div",{onClick:function(){M(e)},className:"border-1  text-center rounded-md text-sm py-[1px]\n                                             ".concat(w===e?"border-backContrastColor":"border-backgroundAuxiliaryTextColor"),children:[e,"%"]},e)})})]}),+r===F.bL.MARKET&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("div",{className:"bg-backgroundAuxiliaryTextColor/80 text-auxiliaryTextColor  h-[40px] text-center rounded-[6px] my-2 py-2 select-none",children:v("市价")}),(0,I.jsx)(O.Z,{title:v("数量"),value:l,showButton:!1,step:1,max:5,onChange:s}),(0,I.jsx)("div",{className:"grid grid-cols-4 gap-3 my-2",children:null==p?void 0:p.map(function(e){return(0,I.jsxs)("div",{onClick:function(){M(e)},className:"border-1  text-center rounded-md text-sm py-[1px]\n                                             ".concat(w===e?"border-backContrastColor":"border-backgroundAuxiliaryTextColor"),children:[e,"%"]},e)})})]}),N&&(0,I.jsx)(k,{})]})}},14840:function(e,n,l){var i=l(99144),a=l(67421),c=l(80854),u=l(85893);n.Z=function(e){var n=e.transactionMode,l=e.changeTransactionMode,e=(0,a.$G)().t,t=(0,c.useModel)("system"),s=t.currentDownBgClass,o=t.currentUpBgClass,r="errorColor"===t.riseColor?"border-l-errorColor":"border-l-successColor",t="errorColor"===t.fallColor?"border-r-errorColor":"border-r-successColor";return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:"border-1 border-borderColor mb-4 h-[36px]  overflow-hidden rounded-[6px] flex items-center",children:[(0,u.jsxs)("div",{onClick:function(){l(i.XM.BUY)},className:"flex-1  relative text-center  h-full leading-[36px] ".concat(n===i.XM.BUY?"".concat(o," text-[#fff]"):""),children:[n===i.XM.BUY&&(0,u.jsx)("span",{className:"absolute top-[0px] z-[2]\n                    ".concat(r,"\n                    border-r-[transparent]\n                    border-b-[transparent] \n                    border-t-[transparent]\n                    border-[18px]\n                    -right-[36px]\n                    transform\n                    rotate-240\n                ")}),e("买入")]}),(0,u.jsxs)("div",{onClick:function(){l(i.XM.SELL)},className:"flex-1  relative text-center  h-full leading-[36px] ".concat(n===i.XM.SELL?"".concat(s," text-[#fff]"):""),children:[e("卖出"),n===i.XM.SELL&&(0,u.jsx)("span",{className:"absolute top-[0px] z-[2]\n                    border-l-[transparent]\n\n                    ".concat(t,"\n                    border-b-[transparent]\n                    border-t-[transparent]\n                    border-[18px]\n                    -left-[36px]\n                    transform\n                    rotate-240\n                ")})]})]})})}},59575:function(e,n,l){var t=l(97857),p=l.n(t),t=l(5574),v=l.n(t),f=l(54866),h=l(92232),b=l(86547),j=l(55903),C=l(67294),g=l(67421),y=l(81851),N=l(80854),w=l(77598),T=l(34884),M=l(21257),k=l(6429),A=l(85893);n.Z=function(e){var e=e.reloadOrder,l=(0,g.$G)().t,n=(0,N.useModel)("coin").localCoin,t=(0,C.useState)({pageNo:1,pageSize:10,status:1,symbolId:null==n?void 0:n.symbolId}),t=v()(t,2),s=t[0],o=t[1],t=(0,h.P)(b.bb,s),r=t.list,i=t.loading,a=t.loadMore,c=t.error,t=t.total,u=[{text:l("当前委托"),value:"1"}],d=(0,C.useState)("1"),d=v()(d,2),x=d[0],m=d[1];return(0,w.Z)(function(){o(p()(p()({},s),{},{status:x,pageNo:1,symbolId:null==n?void 0:n.symbolId}))},[n]),(0,A.jsxs)("div",{children:[(0,A.jsxs)("div",{className:"flex items-center justify-between mt-3",children:[(0,A.jsx)(f.Z,{tabsPropsProps:{className:"w-full",classNames:{tab:"first:!pl-3",tabList:"pb-0"}},value:x,onChange:function(e){m(e),o(p()(p()({},s),{},{status:e,pageNo:1,symbolId:null==n?void 0:n.symbolId}))},options:u}),(0,A.jsx)(T.e,{onClick:function(){N.history.push(M.Z.ORDER+"?type="+k.Kv.COIN)},width:"1.3em",height:"1.3em",className:"cursor-pointer text-foreground pt-1 mr-2"})]}),(0,A.jsx)(j.j,{className:"m-0"}),(0,A.jsx)("div",{className:"p-3 px-4 pb-16 mt-2",children:(0,A.jsx)(y.Z,{list:r,loadMore:a,NORMAL_STATUS:function(e){var n="";switch(e){case 0:n=l("委托中");break;case 1:n=l("持仓");break;case 2:n=l("已结算");break;case 3:n=l("已终止");break;case 4:n=l("委托取消")}return n},error:c,total:t,reloadOrder:e,loading:i})})]})}},99144:function(e,n,l){l.d(n,{XM:function(){return M},bL:function(){return k}});var t=l(5574),j=l.n(t),C=l(21257),g=l(80854),y=l(77598),N=l(67294),w=l(67421),T=function(e){return e.SWAP="swap",e.SPOT="spot",e}({}),M=function(e){return e[e.BUY=1]="BUY",e[e.SELL=2]="SELL",e}({}),k=function(e){return e[e.LIMIT=2]="LIMIT",e[e.MARKET=1]="MARKET",e}({});n.ZP=function(){function e(){b(function(e){return e+1})}var n=(0,w.$G)().t,l=[{text:n("闪兑"),value:T.SWAP},{text:n("现货"),value:T.SPOT}],t=(0,N.useState)(T.SPOT),t=j()(t,2),s=t[0],o=t[1],t=(0,N.useState)(k.MARKET),t=j()(t,2),r=t[0],i=t[1],a=[{text:n("限价单"),value:k.LIMIT},{text:n("市价单"),value:k.MARKET}],t=(0,N.useMemo)(function(){var e;return null==(e=a.find(function(e){return Number(e.value)===Number(r)}))?void 0:e.text},[r]),n=(0,N.useState)(M.BUY),n=j()(n,2),c=n[0],u=n[1],n=(0,N.useState)(0),n=j()(n,2),d=n[0],x=n[1],n=(0,N.useState)(.1),n=j()(n,2),m=n[0],p=n[1],n=(0,N.useState)(!0),n=j()(n,2),v=n[0],n=n[1],f=(0,N.useState)(1),f=j()(f,2),h=f[0],b=f[1],f=(0,g.useModel)("coin").localCoin;return(0,y.Z)(function(){e()},[f]),{price:d,amount:m,onPriceChange:function(e){x(e)},onAmountChange:function(e){p(e)},priceType:r,onPriceTypeChange:function(e){i(e)},priceTypeOption:a,priceTypeText:t,orderTabsOption:l,orderTab:s,onOrderTabChange:function(e){e===T.SWAP?g.history.push(C.Z.SWAP):o(e)},transactionMode:c,changeTransactionMode:function(e){u(e),p(.1)},isShowTip:v,setIsShowTip:n,setAmount:p,setPrice:x,orderKey:h,reloadOrder:e}}}}]);